window.adthrive.core = {"partners":[{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.5},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.705}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[],"bidder_name":"brightroll","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":0.991},{"name":"pmp","type":"percent","value":0.985}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"col_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"instream","type":"percent","value":0.997},{"name":"pmp","type":"percent","value":0.986}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"colossus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"concert","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"conversant","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"criteo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"deepintent","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtm","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtmDMX","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"dmdmx","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"G-TRUSTX-b827d08da2714822","type":"percent","value":0.9},{"name":"G-JW_PLAYER-b4d68a98a4484b55","type":"percent","value":0.15},{"name":"G-IPONWEB-c1bd196e2c6b4def","type":"percent","value":0.15},{"name":"G-IPONWEB-0c3229501281451f","type":"percent","value":0.15},{"name":"G-JW_PLAYER-a69231310c8e4f10","type":"percent","value":0.15},{"name":"G-JW_PLAYER-eeda70ad29e145c1","type":"percent","value":0.15},{"name":"G-JW_PLAYER-c1109f1b7eef4707","type":"percent","value":0.15},{"name":"G-JW_PLAYER-2664f826686d4ce4","type":"percent","value":0.15},{"name":"G-JW_PLAYER-0939149bc58441b7","type":"percent","value":0.15},{"name":"G-JW_PLAYER-5b5aec89d6704dc3","type":"percent","value":0.15},{"name":"G-ONEFOOTBALL-8bbb779550d54c22","type":"percent","value":0.15}]},{"name":"stickyOutstream","type":"percent","value":0.55}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"g-trustx-69dcdccd456a4d4a","type":"percent","value":1}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridvid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.968},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.983,"deals":[{"name":"136707122019991","type":"percent","value":0.82},{"name":"136707122019993","type":"percent","value":0.88},{"name":"136708142019991","type":"percent","value":0.9},{"name":"136712112019997","type":"percent","value":0.83},{"name":"136712112019995","type":"percent","value":0.88},{"name":"136707162019999","type":"percent","value":0.87},{"name":"136704252018993","type":"percent","value":0.86},{"name":"136703312017993","type":"percent","value":0.9},{"name":"136703312017997","type":"percent","value":0.88},{"name":"136710072020991","type":"percent","value":0.79},{"name":"136707162019993","type":"percent","value":0.91},{"name":"136703312017991","type":"percent","value":0.88},{"name":"PAD136707102020991","type":"percent","value":0.8},{"name":"136712112019999","type":"percent","value":0.96},{"name":"7002232015","type":"percent","value":0.69},{"name":"136706042019991","type":"percent","value":0.86},{"name":"136712112019993","type":"percent","value":0.9},{"name":"136707152019991","type":"percent","value":0.88},{"name":"136704252018991","type":"percent","value":0.89},{"name":"8209221604","type":"percent","value":0.87},{"name":"136707122019994","type":"percent","value":0.74},{"name":"136708142019992","type":"percent","value":0.8},{"name":"136712112019998","type":"percent","value":0.89},{"name":"136712112019996","type":"percent","value":0.95},{"name":"136704252018994","type":"percent","value":0.92},{"name":"136703312017996","type":"percent","value":0.8},{"name":"136703312017998","type":"percent","value":0.65},{"name":"136710072020992","type":"percent","value":0.74},{"name":"136707162019994","type":"percent","value":0.76},{"name":"136703312017992","type":"percent","value":0.93},{"name":"PAD136707102020992","type":"percent","value":0.8},{"name":"8209221601","type":"percent","value":0.76},{"name":"136706042019992","type":"percent","value":0.71},{"name":"136712112019994","type":"percent","value":0.83},{"name":"136707152019992","type":"percent","value":0.74},{"name":"136704252018992","type":"percent","value":0.77},{"name":"136707122019992","type":"percent","value":0.91},{"name":"136703072017996","type":"percent","value":0.83},{"name":"1367071620199910","type":"percent","value":0.85},{"name":"M1IX203202022021992","type":"flat","value":0.5},{"name":"M1IX203202022021991","type":"flat","value":0.5},{"name":"PAD136701112021991","type":"percent","value":0.9},{"name":"PAD136701112021992","type":"percent","value":1},{"name":"DMD136703032021991","type":"percent","value":0.89},{"name":"DMD136703032021992","type":"percent","value":0.82},{"name":"DMD136702172021991","type":"percent","value":0.9},{"name":"DMD136704082021991","type":"percent","value":0.88},{"name":"DMD136704052021991","type":"percent","value":0.89},{"name":"DMD136704082021992","type":"percent","value":0.8},{"name":"DMD136702172021992","type":"percent","value":0.91},{"name":"DMD136704052021992","type":"percent","value":0.77},{"name":"136705172021991","type":"percent","value":0.85},{"name":"136705172021992","type":"percent","value":0.69},{"name":"136704262021991","type":"percent","value":0.9},{"name":"136704262021992","type":"percent","value":0.69},{"name":"PAD136707312020991","type":"percent","value":0.9},{"name":"136712112019991","type":"percent","value":0.88},{"name":"136706042019995","type":"percent","value":0.85},{"name":"PAD136707312020992","type":"percent","value":0.92},{"name":"136712112019992","type":"percent","value":0.97},{"name":"136706042019996","type":"percent","value":0.83},{"name":"203209212021995","type":"flat","value":1},{"name":"203209212021996","type":"flat","value":1},{"name":"203210122021995","type":"flat","value":1},{"name":"203210122021996","type":"flat","value":1},{"name":"M1IX203212162021995","type":"flat","value":1},{"name":"M1IX203212162021996","type":"flat","value":1},{"name":"9311192021991","type":"percent","value":0.97},{"name":"9311192021992","type":"percent","value":0.97},{"name":"DMD136708052021991","type":"percent","value":0.9},{"name":"DMD136708052021992","type":"percent","value":0.8},{"name":"146002182022991","type":"flat","value":1},{"name":"146002182022992","type":"flat","value":1},{"name":"146002182022993","type":"flat","value":1},{"name":"146002182022994","type":"flat","value":1},{"name":"146002182022995","type":"flat","value":1},{"name":"DMD136708302021992","type":"percent","value":0.71},{"name":"2251041120229923","type":"percent","value":0.97},{"name":"2251041120229922","type":"percent","value":0.97},{"name":"2251041120229921","type":"percent","value":0.97},{"name":"2251041120229920","type":"percent","value":0.97},{"name":"2251041120229919","type":"percent","value":0.97},{"name":"2251041120229918","type":"percent","value":0.97},{"name":"2251041120229917","type":"percent","value":0.97},{"name":"2251041120229916","type":"percent","value":0.97},{"name":"2251041120229915","type":"percent","value":0.97},{"name":"2251041120229914","type":"percent","value":0.97},{"name":"2251041120229913","type":"percent","value":0.97},{"name":"2251041120229912","type":"percent","value":0.97},{"name":"2251041120229911","type":"percent","value":0.97},{"name":"2251041120229910","type":"percent","value":0.97},{"name":"225104112022999","type":"percent","value":0.97},{"name":"225104112022998","type":"percent","value":0.97},{"name":"225104112022997","type":"percent","value":0.97},{"name":"225104112022996","type":"percent","value":0.97},{"name":"225104112022995","type":"percent","value":0.97},{"name":"225104112022994","type":"percent","value":0.97},{"name":"225104112022993","type":"percent","value":0.97},{"name":"225104112022992","type":"percent","value":0.97},{"name":"225104112022991","type":"percent","value":0.97},{"name":"400104282022991","type":"percent","value":0.97},{"name":"335305022022991","type":"flat","value":1},{"name":"335305022022992","type":"flat","value":1},{"name":"905172022991","type":"flat","value":0.5},{"name":"140408052022991","type":"flat","value":1},{"name":"140408052022992","type":"flat","value":1},{"name":"140408052022993","type":"flat","value":1},{"name":"140408052022994","type":"flat","value":1},{"name":"PAD136707202020991","type":"percent","value":0.88},{"name":"PAD136707202020992","type":"percent","value":0.78}]},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.75},{"name":"outstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.985},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"kargo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"nativo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01},{"name":"outstream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"oneVideo","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.994},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.65}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.997},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.997,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.75}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubm_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.99,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.68}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":0.99}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"roundel","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.962},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.962,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.71}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubi_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.664}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.73}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"21ebe.8180e.26d6","type":"flat","value":2},{"name":"153c7.7e28.4b71","type":"flat","value":2},{"name":"1ec46.6201a.8951","type":"flat","value":2},{"name":"21ebe.2503b.b869","type":"flat","value":2},{"name":"449f0.6018b.2301","type":"flat","value":2},{"name":"1e6a0.d1904.ff8e","type":"flat","value":2},{"name":"346d5.7861e.d3dc","type":"flat","value":2},{"name":"346d5.5be26.0870","type":"flat","value":2},{"name":"21ebe.c673f.7d27","type":"flat","value":2},{"name":"1bccb.84e7c.831c","type":"flat","value":2},{"name":"21ebe.9417b.988c","type":"flat","value":2}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"spotx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[],"bidder_name":"teads","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.999}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"telaria","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.971}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"tripl_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.985}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ttd","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[],"bidder_name":"undertone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.86},{"name":"instream","type":"percent","value":0.5},{"name":"outstream","type":"percent","value":0.49}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.42}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yahoossp","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.987}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yieldmo","enabled":true}],"predictiveAnalysis":[{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"ix","domain":"nielsen.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"0","adomain":"nielsen.com","bidder":"col_ss","domain":"nielsen.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"0","adomain":"novavax.com","bidder":"sharethrough","domain":"novavax.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"visitbatonrouge.com","bidder":"sharethrough","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"0","adomain":"nielsen.com","bidder":"col_ss","domain":"nielsen.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gumgum","domain":"nielsen.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"gobreck.com","bidder":"tripl_ss","domain":"gobreck.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"webcasts.com","bidder":"rubicon","domain":"webcasts.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gridvid","domain":"nielsen.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"gobreck.com","bidder":"tripl_ss","domain":"gobreck.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"0","adomain":"nielsen.com","bidder":"col_ss","domain":"nielsen.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"gridvid","domain":"nielsen.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"1","adomain":"nielsen.com","bidder":"col_ss","domain":"nielsen.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"0","adomain":"novavax.com","bidder":"sharethrough","domain":"novavax.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"1.0","chrome":"0","adomain":"nielsen.com","bidder":"col_ss","domain":"nielsen.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9999509875998628","chrome":"0","adomain":"driveway.com","bidder":"triplelift","domain":"driveway.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9998999249437078","chrome":"0","adomain":"visitbatonrouge.com","bidder":"rubicon","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.999845869297164","chrome":"0","adomain":"visitbatonrouge.com","bidder":"rubi_ss","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9998286986809798","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9997800425251118","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9996709037804928","chrome":"1","adomain":"visitbatonrouge.com","bidder":"rubi_ss","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9996582948915086","chrome":"0","adomain":"unibet.com","bidder":"triplelift","domain":"unibet.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9996429209069809","chrome":"0","adomain":"hilton.com","bidder":"rubi_ss","domain":"hilton.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9995834325160676","chrome":"0","adomain":"hilton.com","bidder":"rubi_ss","domain":"hilton.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9995697074010327","chrome":"0","adomain":"hilton.com","bidder":"rubicon","domain":"hilton.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9995671620256817","chrome":"1","adomain":"visitbatonrouge.com","bidder":"rubicon","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9994875298940895","chrome":"0","adomain":"unibet.com","bidder":"triplelift","domain":"unibet.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9994803395115192","chrome":"1","adomain":"identifyepi.com","bidder":"col_ss","domain":"identifyepi.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9994406918211934","chrome":"0","adomain":"hilton.com","bidder":"rubicon","domain":"hilton.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9990199172743733","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9983350788152207","chrome":"0","adomain":"mars.com","bidder":"rubi_ss","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9980589254766031","chrome":"1","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9969263869678807","chrome":"0","adomain":"visitbatonrouge.com","bidder":"rubi_ss","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9969069593414817","chrome":"0","adomain":"visitbatonrouge.com","bidder":"rubicon","domain":"visitbatonrouge.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9960409105905642","chrome":"1","adomain":"freshly.com","bidder":"rubicon","domain":"freshly.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9958936966324474","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.995376148870986","chrome":"0","adomain":"mars.com","bidder":"rubi_ss","domain":"mars.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9945457378837463","chrome":"1","adomain":"identifyepi.com","bidder":"ix","domain":"identifyepi.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9944111908462582","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9942416279979873","chrome":"1","adomain":"mars.com","bidder":"gridvid","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9938689487801763","chrome":"1","adomain":"a-live.adidas-group.com","bidder":"ix","domain":"a-live.adidas-group.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9930609699048807","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.993020269138422","chrome":"1","adomain":"mars.com","bidder":"gridvid","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9923930664671405","chrome":"1","adomain":"hulu.com","bidder":"ix","domain":"hulu.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9917199034413355","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9896975827920349","chrome":"0","adomain":"mars.com","bidder":"rubi_ss","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9884204447011262","chrome":"0","adomain":"mars.com","bidder":"col_ss","domain":"mars.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9880792588490384","chrome":"0","adomain":"mars.com","bidder":"rubi_ss","domain":"mars.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9879577833503266","chrome":"0","adomain":"hhs.gov","bidder":"triplelift","domain":"hhs.gov","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.987447268237473","chrome":"0","adomain":"mars.com","bidder":"col_ss","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9863641444059461","chrome":"0","adomain":"vitamix.com","bidder":"rubi_ss","domain":"vitamix.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9863247863247864","chrome":"1","adomain":"identifyepi.com","bidder":"col_ss","domain":"identifyepi.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.984341252699784","chrome":"1","adomain":"deere.com.au","bidder":"rubicon","domain":"deere.com.au","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9839857651245552","chrome":"0","adomain":"tyson.com","bidder":"triplelift","domain":"tyson.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9828791269427669","chrome":"1","adomain":"freshly.com","bidder":"ix","domain":"freshly.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9799564769213148","chrome":"1","adomain":"deere.com.au","bidder":"rubicon","domain":"deere.com.au","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9785867237687366","chrome":"0","adomain":"mars.com","bidder":"col_ss","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9782142090577377","chrome":"1","adomain":"deere.com.au","bidder":"rubicon","domain":"deere.com.au","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9776589714234903","chrome":"0","adomain":"ballparkbrand.com","bidder":"triplelift","domain":"ballparkbrand.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9770074087238556","chrome":"0","adomain":"ballparkbrand.com","bidder":"triplelift","domain":"ballparkbrand.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9764254833183783","chrome":"1","adomain":"freshly.com","bidder":"ix","domain":"freshly.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9749316317228806","chrome":"1","adomain":"deere.com.au","bidder":"rubicon","domain":"deere.com.au","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.973744292237443","chrome":"1","adomain":"planetfitness.com","bidder":"ix","domain":"planetfitness.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9726790982784795","chrome":"1","adomain":"mars.com","bidder":"ix","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9725238922675934","chrome":"1","adomain":"planetfitness.com","bidder":"ix","domain":"planetfitness.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9720557748558771","chrome":"0","adomain":"mars.com","bidder":"col_ss","domain":"mars.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9705177547019098","chrome":"0","adomain":"nbnco.com.au","bidder":"triplelift","domain":"nbnco.com.au","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9686177351089088","chrome":"1","adomain":"planetfitness.com","bidder":"ix","domain":"planetfitness.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9681212363366535","chrome":"1","adomain":"freshly.com","bidder":"ix","domain":"freshly.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.967167080678259","chrome":"1","adomain":"planetfitness.com","bidder":"ix","domain":"planetfitness.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.957054549398113","chrome":"0","adomain":"vitamix.com","bidder":"rubi_ss","domain":"vitamix.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.955648947109581","chrome":"1","adomain":"freshly.com","bidder":"ix","domain":"freshly.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9551305184650547","chrome":"1","adomain":"hulu.com","bidder":"rubi_ss","domain":"hulu.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9490350942552715","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9490181729479205","chrome":"1","adomain":"a-live.adidas-group.com","bidder":"ix","domain":"a-live.adidas-group.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.946794094572427","chrome":"1","adomain":"hulu.com","bidder":"rubi_ss","domain":"hulu.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9463944304164368","chrome":"1","adomain":"mars.com","bidder":"ix","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9378691235530356","chrome":"1","adomain":"hulu.com","bidder":"rubi_ss","domain":"hulu.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9265722063237244","chrome":"1","adomain":"hulu.com","bidder":"rubi_ss","domain":"hulu.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9193452219632501","chrome":"1","adomain":"freshly.com","bidder":"ix","domain":"freshly.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9166332263242376","chrome":"1","adomain":"mars.com","bidder":"triplelift","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9119521521717815","chrome":"1","adomain":"mars.com","bidder":"rubi_ss","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9096067695370831","chrome":"1","adomain":"mars.com","bidder":"triplelift","domain":"mars.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9081942336874052","chrome":"1","adomain":"freshly.com","bidder":"ix","domain":"freshly.com","mobile":"1","report_date":"2022-09-30"},{"error_rate":"0.9057501486837575","chrome":"1","adomain":"cigna.com","bidder":"pubmatic","domain":"cigna.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9030861874294317","chrome":"1","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-09-30"},{"error_rate":"0.9012696159608864","chrome":"1","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"0","report_date":"2022-09-30"}],"country":"NG","coreExperiments":[{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"delload","key":"EnableDelayLoading"},{"variants":[{"weight":99.5}],"type":"bernoulliTrial","abgroup":"amzn","key":"Amazon"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"pbm","key":"Playbackmethod"},{"variants":[{"weight":0,"value":"all"},{"weight":100,"value":"adx"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"inters","key":"Interstitial"},{"variants":[{"weight":90,"value":"both"},{"weight":9,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"magnitedr","key":"Rubicon"},{"variants":[{"weight":99,"value":"none"},{"weight":0,"value":"rubicon"},{"weight":1,"value":"roxot"}],"type":"weightedChoice","abgroup":"pba","key":"Analytics"},{"variants":[{"weight":99,"value":"both"},{"weight":1,"value":"client"},{"weight":0,"value":"server"}],"type":"weightedChoice","abgroup":"tripleliftdr","key":"Triplelift"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"logfltr","key":"LoggerFilter"},{"variants":[{"weight":70,"value":500},{"weight":10,"value":300},{"weight":10,"value":200},{"weight":10,"value":50}],"type":"weightedChoice","abgroup":"deftimer1","key":"DelayLoading"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"wvtls","key":"WebVitals"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"loglevel","key":"ImpressionLog"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"sens_off","key":"SensOff"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sab","key":"BidLimit"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"jwb","key":"JwBoost"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"logcls","key":"LayoutShift"},{"variants":[{"weight":60,"value":2},{"weight":10,"value":1.25},{"weight":10,"value":1},{"weight":10,"value":0.75},{"weight":10,"value":0.5}],"type":"weightedChoice","abgroup":"lzcvp","key":"ContentMargin"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"confiant","key":"ConfiantRefresh"},{"variants":[{"weight":40,"value":5000,"abvalue":"5s"},{"weight":40,"value":10000,"abvalue":"10s"},{"weight":20,"value":15000,"abvalue":"15s"}],"type":"weightedChoice","abgroup":"vast_to","key":"VastTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"AdDensityExperiment","key":"AdDensity"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"bmetrics","key":"BrandMetrics"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"rebuildslot","key":"RefreshRebuild"},{"variants":[{"weight":0.333}],"type":"bernoulliTrial","abgroup":"NielsenTrackerExperiment","key":"NielsenTracker"},{"variants":[{"weight":50,"value":4},{"weight":20,"value":5},{"weight":20,"value":6},{"weight":10,"value":7}],"type":"weightedChoice","abgroup":"mxrpog","key":"MaxRequests"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"vpred","key":"PredictiveAnalysis"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"vadv","key":"AdvancePlaylist"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"cnfep","key":"ConfiantEndpoint"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"tpcapi","key":"TopicsAPI"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"crtvmon","key":"CreativeMonitoring"},{"variants":[{"weight":20,"value":"fm"},{"weight":3,"value":"rubi"},{"weight":56,"value":"cm"},{"weight":20,"value":"fb"},{"weight":1,"value":"none"}],"type":"weightedChoice","abgroup":"flr","key":"RubiconFloors"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rp_anadp","key":"RubiconAnalytics"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"amzn_hold_load","key":"AmazonHoldLoad"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmos1","key":"OneVideoStream"},{"variants":[{"weight":0,"value":"sovpcc"},{"weight":0,"value":"sovpct1"},{"weight":100,"value":"sovpct2"}],"type":"weightedChoice","abgroup":"socbe","key":"StickyCloseButton"},{"variants":[{"weight":5,"value":900000,"abvalue":"900"},{"weight":5,"value":600000,"abvalue":"600"},{"weight":5,"value":300000,"abvalue":"300"},{"weight":5,"value":-1,"abvalue":"tdoc"},{"weight":80,"value":0}],"type":"weightedChoice","abgroup":"mgtdtw","key":"TearDownPlayer"},{"variants":[{"weight":40,"value":0.75},{"weight":20,"value":0.25},{"weight":20,"value":0.125},{"weight":20,"value":0}],"type":"weightedChoice","abgroup":"lzbpvp","key":"BelowPostMargin"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"amzn_hold_disp","key":"AmazonHoldDisplay"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"dajto","key":"DisableAjaxTimeout"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"smad300","key":"RemoveLargeSidebar"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"rvadv_ab1","key":"AdvancePlaylistRelated"},{"variants":[{"weight":5,"value":6000,"abvalue":"6s"},{"weight":75,"value":4000,"abvalue":"4s"},{"weight":15,"value":2000,"abvalue":"2s"},{"weight":5,"value":0,"abvalue":"0s"}],"type":"weightedChoice","abgroup":"cbt","key":"CloseButtonTimeout"},{"variants":[{"weight":20,"value":10000,"abvalue":"10"},{"weight":60,"value":15000,"abvalue":"15"},{"weight":20,"value":20000,"abvalue":"20"}],"type":"weightedChoice","abgroup":"reqTo","key":"JwRequestTimeout"},{"variants":[{"weight":3}],"type":"bernoulliTrial","abgroup":"LogAdDurationExperiment","key":"LogAdDuration"},{"variants":[{"weight":90}],"type":"bernoulliTrial","abgroup":"lzhb","key":"LZHB"},{"variants":[{"weight":20,"value":0,"abvalue":"off"},{"weight":20,"value":0.4,"abvalue":"40"},{"weight":20,"value":0.5,"abvalue":"50"},{"weight":20,"value":0.6,"abvalue":"60"},{"weight":20,"value":0.7,"abvalue":"70"}],"type":"weightedChoice","abgroup":"lzflr","key":"LazyLoadFloors"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"LogAdLifeCycleExperiment","key":"LogAdLifeCycle"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sppe50","key":"StickyPlayerPosition"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sospp","key":"StickyOutstreamOnStickyPlayerPages"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sidp","key":"SharedIdPlugin"},{"variants":[{"weight":100,"value":"tlo"}],"type":"weightedChoice","abgroup":"sicb","key":"StickyInstreamCloseButton"},{"variants":[{"weight":0,"value":"strict"},{"weight":100,"value":"relaxed"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"dco","key":"DemandChain"},{"variants":[{"weight":25,"value":100},{"weight":50,"value":200},{"weight":25,"value":300,"abvalue":"off"}],"type":"weightedChoice","abgroup":"s2sbuff","key":"S2SBuffer"},{"variants":[{"weight":85,"value":0},{"weight":5,"value":1},{"weight":5,"value":500},{"weight":5,"value":1000}],"type":"weightedChoice","abgroup":"adt","key":"AuctionDelay"},{"variants":[{"weight":10,"value":1},{"weight":30,"value":1.3},{"weight":30,"value":1.1},{"weight":30,"value":1.2}],"type":"weightedChoice","abgroup":"refflr2","key":"FloorsRefresh"},{"variants":[{"weight":97,"value":1},{"weight":1,"value":1.1},{"weight":1,"value":1.2},{"weight":1,"value":1.3}],"type":"weightedChoice","abgroup":"refvidflr","key":"FloorsInstreamRefresh"},{"variants":[{"weight":33,"value":0},{"weight":33,"value":1},{"weight":34,"value":1.5}],"type":"weightedChoice","abgroup":"socon","key":"SuppressOutreamSlowConnection"},{"variants":[{"weight":0,"value":10000},{"weight":0,"value":15000},{"weight":0,"value":20000},{"weight":100,"value":25000},{"weight":0,"value":30000}],"type":"weightedChoice","abgroup":"cmpto","key":"CMPTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"upl","key":"UserPageDataLogging"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmosnv1","key":"OneVideoStreamNoVideo"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"UserPageDataPrivacyLoggingExperiment","key":"UserPageDataPrivacyLogging"},{"variants":[{"weight":5,"value":"id5Id"},{"weight":1,"value":"identityLink"},{"weight":1,"value":"unifiedId"},{"weight":1,"value":"sharedId"},{"weight":1,"value":"criteo"},{"weight":5,"value":"connectId"}],"type":"holdout","abgroup":"idho","key":"IDHO"},{"variants":[{"weight":0.5,"value":"ix_ebda"},{"weight":5,"value":"medianet_ebda"},{"weight":1,"value":"openx_ebda"},{"weight":1,"value":"pubmatic_ebda"},{"weight":1,"value":"rhythmone_ebda"},{"weight":7,"value":"rubicon_ebda"},{"weight":10,"value":"sharethrough_ebda"},{"weight":1,"value":"smart_ebda"},{"weight":1,"value":"sonobi_ebda"},{"weight":10,"value":"sovrn_ebda"},{"weight":1,"value":"emx_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":36,"value":"verizon_ebda"},{"weight":10,"value":"yieldmo_ebda"}],"type":"holdout","abgroup":"ebho","key":"EBHO"},{"variants":[{"weight":5,"value":"chocolate_ebda"},{"weight":5,"value":"ix_ebda"},{"weight":10,"value":"medianet_ebda"},{"weight":10,"value":"openx_ebda"},{"weight":5,"value":"pubmatic_ebda"},{"weight":5,"value":"rhythmone_ebda"},{"weight":5,"value":"rubicon_ebda"},{"weight":5,"value":"sonobi_ebda"},{"weight":1,"value":"spotx_ebda"},{"weight":5,"value":"telaria_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":1,"value":"verizon_ebda"},{"weight":5,"value":"emx_ebda"},{"weight":5,"value":"sharethrough_ebda"},{"weight":10,"value":"sovrn_ebda"},{"weight":10,"value":"yieldmo_ebda"}],"type":"holdout","abgroup":"vebho","key":"VEBHO"},{"variants":[{"weight":1,"value":"ats"},{"weight":1,"value":"conf"},{"weight":1,"value":"hawk"},{"weight":1,"value":"tgtaff"},{"weight":96,"value":"none"}],"type":"weightedChoice","abgroup":"tkho","key":"TKHO"},{"variants":[{"weight":10,"value":"appnexus"},{"weight":1,"value":"colossus"},{"weight":1,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":1,"value":"gridvid"},{"weight":50,"value":"gumgum"},{"weight":0.5,"value":"ix"},{"weight":10,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":1,"value":"sharethrough"},{"weight":1,"value":"spotx"},{"weight":1,"value":"telaria"},{"weight":1,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"unruly"},{"weight":1,"value":"yahoossp"},{"weight":1,"value":"kargo"}],"type":"holdout","abgroup":"vbho","key":"VBHO"},{"variants":[{"weight":10,"value":"33across"},{"weight":1,"value":"appnexus"},{"weight":1,"value":"brightroll"},{"weight":10,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":0.5,"value":"grid"},{"weight":1,"value":"gumgum"},{"weight":1,"value":"kargo"},{"weight":0.5,"value":"ix"},{"weight":20,"value":"nativo"},{"weight":1,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":10,"value":"sharethrough"},{"weight":1,"value":"teads"},{"weight":0.5,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"undertone"},{"weight":1,"value":"unruly"},{"weight":1,"value":"verizon"},{"weight":1,"value":"yahoossp"},{"weight":1,"value":"yieldmo"}],"type":"holdout","abgroup":"hbho","key":"HBHO"},{"variants":[{"weight":5,"value":"appnexus"},{"weight":90,"value":"grid"},{"weight":2,"value":"gumgum"},{"weight":1,"value":"openx"}],"type":"holdout","abgroup":"pbs2s","key":"S2S"}]};

    adthrive.branch=adthrive.branch||"master-q4 42ac6d4",adthrive.bucket=adthrive.bucket||"flex",adthrive.gdpr="false",adthrive.deployment=adthrive.deployment||"X";var adthrive=function(){"use strict";var e,t,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){!function(t){var s="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=n(e);function n(e,t){return function(i,s){"function"!=typeof e[i]&&Object.defineProperty(e,i,{configurable:!0,writable:!0,value:s}),t&&t(i,s)}}void 0===s.Reflect?s.Reflect=e:r=n(s.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,s=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",n="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!n&&!o,l={create:n?function(){return se(Object.create(null))}:o?function(){return se({__proto__:null})}:function(){return se({})},has:a?function(e,i){return t.call(e,i)}:function(e,t){return t in e},get:a?function(e,i){return t.call(e,i)?e[i]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,p=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,u=new(c||"function"!=typeof WeakMap?ie():WeakMap);function g(e,t,i,s){if(B(i)){if(!H(e))throw new TypeError;if(!$(t))throw new TypeError;return E(e,t)}if(!H(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(s)&&!B(s)&&!D(s))throw new TypeError;return D(s)&&(s=void 0),k(e,t,i=q(i),s)}function _(e,t){function i(i,s){if(!L(i))throw new TypeError;if(!B(s)&&!W(s))throw new TypeError;M(e,t,i,s)}return i}function m(e,t,i,s){if(!L(i))throw new TypeError;return B(s)||(s=q(s)),M(e,t,i,s)}function y(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),T(e,t,i)}function f(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),P(e,t,i)}function v(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),I(e,t,i)}function b(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),A(e,t,i)}function S(e,t){if(!L(e))throw new TypeError;return B(t)||(t=q(t)),O(e,t)}function C(e,t){if(!L(e))throw new TypeError;return B(t)||(t=q(t)),z(e,t)}function w(e,t,i){if(!L(t))throw new TypeError;B(i)||(i=q(i));var s=x(t,i,!1);if(B(s))return!1;if(!s.delete(e))return!1;if(s.size>0)return!0;var r=u.get(t);return r.delete(i),r.size>0||u.delete(t),!0}function E(e,t){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t);if(!B(s)&&!D(s)){if(!$(s))throw new TypeError;t=s}}return t}function k(e,t,i,s){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t,i,s);if(!B(n)&&!D(n)){if(!L(n))throw new TypeError;s=n}}return s}function x(e,t,i){var s=u.get(e);if(B(s)){if(!i)return;s=new h,u.set(e,s)}var r=s.get(t);if(B(r)){if(!i)return;r=new h,s.set(t,r)}return r}function T(e,t,i){if(P(e,t,i))return!0;var s=Z(t);return!D(s)&&T(e,s,i)}function P(e,t,i){var s=x(t,i,!1);return!B(s)&&N(s.has(e))}function I(e,t,i){if(P(e,t,i))return A(e,t,i);var s=Z(t);return D(s)?void 0:I(e,s,i)}function A(e,t,i){var s=x(t,i,!1);if(!B(s))return s.get(e)}function M(e,t,i,s){x(i,s,!0).set(e,t)}function O(e,t){var i=z(e,t),s=Z(e);if(null===s)return i;var r=O(s,t);if(r.length<=0)return i;if(i.length<=0)return r;for(var n=new p,o=[],a=0,l=i;a<l.length;a++){var d=l[a];n.has(d)||(n.add(d),o.push(d))}for(var c=0,h=r;c<h.length;c++){d=h[c];n.has(d)||(n.add(d),o.push(d))}return o}function z(e,t){var i=[],s=x(e,t,!1);if(B(s))return i;for(var r=Q(s.keys()),n=0;;){var o=Y(r);if(!o)return i.length=n,i;var a=X(o);try{i[n]=a}catch(e){try{J(r)}finally{throw e}}n++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function B(e){return void 0===e}function D(e){return null===e}function V(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",r=K(e,s);if(void 0!==r){var n=r.call(e,i);if(L(n))throw new TypeError;return n}return j(e,"default"===i?"number":i)}function j(e,t){if("string"===t){var i=e.toString;if(G(i))if(!L(r=i.call(e)))return r;if(G(s=e.valueOf))if(!L(r=s.call(e)))return r}else{var s;if(G(s=e.valueOf))if(!L(r=s.call(e)))return r;var r,n=e.toString;if(G(n))if(!L(r=n.call(e)))return r}throw new TypeError}function N(e){return!!e}function U(e){return""+e}function q(e){var t=F(e,3);return V(t)?t:U(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function G(e){return"function"==typeof e}function $(e){return"function"==typeof e}function W(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var i=e[t];if(null!=i){if(!G(i))throw new TypeError;return i}}function Q(e){var t=K(e,r);if(!G(t))throw new TypeError;var i=t.call(e);if(!L(i))throw new TypeError;return i}function X(e){return e.value}function Y(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var i=e.prototype,s=i&&Object.getPrototypeOf(i);if(null==s||s===Object.prototype)return t;var r=s.constructor;return"function"!=typeof r||r===e?t:r}function ee(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[r]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var s=this._keys.length,r=i+1;r<s;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,s)},t.prototype.values=function(){return new i(this._keys,this._values,n)},t.prototype.entries=function(){return new i(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[r]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function s(e,t){return e}function n(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[r]=function(){return this.keys()},e}()}function ie(){var e=16,i=l.create(),s=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=n(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=n(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return n(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=n(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+d()}while(l.has(i,e));return i[e]=!0,e}function n(e,i){if(!t.call(e,s)){if(!i)return;Object.defineProperty(e,s,{value:l.create()})}return e[s]}function o(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function d(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",s=0;s<e;++s){var r=t[s];4!==s&&6!==s&&8!==s||(i+="-"),r<16&&(i+="0"),i+=r.toString(16).toLowerCase()}return i}}function se(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",_),e("defineMetadata",m),e("hasMetadata",y),e("hasOwnMetadata",f),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",S),e("getOwnMetadataKeys",C),e("deleteMetadata",w)}(r)}()}(e||(e={})),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(t||(t={}));var s=t,r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},r(e,t)};function n(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,r,n=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return o}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var d="injectionTokens";function c(e){return!!e.useClass}function h(e){return!!e.useFactory}var p=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,i=this,s=!1;return new Proxy({},this.createHandler((function(){return s||(t=e(i.wrap()),s=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(i){t[i]=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];t[0]=e();var r=Reflect[i];return r.apply(void 0,l(t))}})),t},e}();function u(e){return"string"==typeof e||"symbol"==typeof e}function g(e){return"object"==typeof e&&"token"in e&&"transform"in e}function _(e){return!!e.useToken}function m(e){return null!=e.useValue}var y=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(y),v=function(){this.scopedResolutions=new Map};function b(e,t,i){var s,r,n=a(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],o=function(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}(void 0===n?null:n,t);return s="Cannot inject the dependency "+o+' of "'+e.name+'" constructor. Reason:',void 0===r&&(r="    "),l([s],i.message.split("\n").map((function(e){return r+e}))).join("\n")}var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(y),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(y),w=function(){this.preResolution=new S,this.postResolution=new C},E=new Map,k=function(){function e(e){this.parent=e,this._registry=new f,this.interceptors=new w}return e.prototype.register=function(e,t,i){var r;if(void 0===i&&(i={lifecycle:s.Transient}),r=function(e){return c(e)||m(e)||_(e)||h(e)}(t)?t:{useClass:t},_(r))for(var n=[e],o=r;null!=o;){var a=o.useToken;if(n.includes(a))throw new Error("Token registration cycle detected! "+l(n,[a]).join(" -> "));n.push(a);var d=this._registry.get(a);o=d&&_(d.provider)?d.provider:null}if((i.lifecycle===s.Singleton||i.lifecycle==s.ContainerScoped||i.lifecycle==s.ResolutionScoped)&&(m(r)||h(r)))throw new Error('Cannot use lifecycle "'+s[i.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:i}),this},e.prototype.registerType=function(e,t){return u(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(u(e)){if(u(t))return this.register(e,{useToken:t},{lifecycle:s.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:s.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var i=e;return t&&!u(t)&&(i=t),this.register(e,{useClass:i},{lifecycle:s.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new v);var i=this.getRegistration(e);if(!i&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),i){var s=this.resolveRegistration(i,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}if(function(e){return"function"==typeof e||e instanceof p}(e)){s=this.construct(e,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var i,s;if(this.interceptors.preResolution.has(e)){var r=[];try{for(var n=o(this.interceptors.preResolution.getAll(e)),a=n.next();!a.done;a=n.next()){var l=a.value;"Once"!=l.options.frequency&&r.push(l),l.callback(e,t)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}this.interceptors.preResolution.setAll(e,r)}},e.prototype.executePostResolutionInterceptor=function(e,t,i){var s,r;if(this.interceptors.postResolution.has(e)){var n=[];try{for(var a=o(this.interceptors.postResolution.getAll(e)),l=a.next();!l.done;l=a.next()){var d=l.value;"Once"!=d.options.frequency&&n.push(d),d.callback(e,t,i)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}this.interceptors.postResolution.setAll(e,n)}},e.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var i,r=e.options.lifecycle===s.Singleton,n=e.options.lifecycle===s.ContainerScoped,o=r||n;return i=m(e.provider)?e.provider.useValue:_(e.provider)?o?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):c(e.provider)?o?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):h(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.set(e,i),i},e.prototype.resolveAll=function(e,t){var i=this;void 0===t&&(t=new v);var s=this.getAllRegistrations(e);if(!s&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),s){var r=s.map((function(e){return i.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,r,"All"),r}var n=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,n,"All"),n},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;try{for(var i=o(this._registry.entries()),s=i.next();!s.done;s=i.next()){var r=a(s.value,2),n=r[0],l=r[1];this._registry.setAll(n,l.filter((function(e){return!m(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,i,r=new e(this);try{for(var n=o(this._registry.entries()),l=n.next();!l.done;l=n.next()){var d=a(l.value,2),c=d[0],h=d[1];h.some((function(e){return e.options.lifecycle===s.ContainerScoped}))&&r._registry.setAll(c,h.map((function(e){return e.options.lifecycle===s.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return r},e.prototype.beforeResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:i})},e.prototype.afterResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:i})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var i=this;if(e instanceof p)return e.createProxy((function(e){return i.resolve(e,t)}));var s=E.get(e);if(!s||0===s.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var r=s.map(this.resolveParams(t,e));return new(e.bind.apply(e,l([void 0],r)))},e.prototype.resolveParams=function(e,t){var i=this;return function(s,r){var n,o,a,d;try{return"object"==typeof(d=s)&&"token"in d&&"multiple"in d?g(s)?s.multiple?(n=i.resolve(s.transform)).transform.apply(n,l([i.resolveAll(s.token)],s.transformArgs)):(o=i.resolve(s.transform)).transform.apply(o,l([i.resolve(s.token,e)],s.transformArgs)):s.multiple?i.resolveAll(s.token):i.resolve(s.token,e):g(s)?(a=i.resolve(s.transform,e)).transform.apply(a,l([i.resolve(s.token,e)],s.transformArgs)):i.resolve(s,e)}catch(e){throw new Error(b(t,r,e))}}},e}(),x=new k;function T(e){return t=e,function(e,s,r){var n=Reflect.getOwnMetadata(d,e)||{};n[r]=i?{token:t,transform:i.transformToken,transformArgs:i.args||[]}:t,Reflect.defineMetadata(d,n,e)};var t,i}function P(){return function(e){E.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],i=Reflect.getOwnMetadata(d,e)||{};return Object.keys(i).forEach((function(e){t[+e]=i[e]})),t}(e))}}function I(){return function(e){P()(e),x.registerSingleton(e)}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");function A(e,t,i,s){var r,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(n<3?r(o):n>3?r(t,i,o):r(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}function M(e,t){return function(i,s){t(i,s,e)}}function O(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class z{constructor(e){this._wait=e,this._timeouts=new Map}async limit(e){return new Promise((t=>{this._timeouts.has(e)&&window.clearTimeout(this._timeouts.get(e));const i=window.setTimeout((()=>{t()}),this._wait);this._timeouts.set(e,i)}))}}class R{constructor(){this._listeners=new Set,this._emitted=0,this._pastEvents=[]}on(e,t){return this._listeners.add(e),(null==t?void 0:t.handleEventsAlreadyEmitted)&&this._pastEvents.forEach(e),()=>{this.off(e)}}off(e){this._listeners.delete(e)}once(e){const t=this.on(((...i)=>{t(),e(...i)}))}legacyOnce(){return new Promise((e=>{const t=this.on(((...i)=>(t(),e(...i))))}))}async legacyEmit(e){return this._pastEvents.push(e),Promise.all([...this._listeners].map((t=>t(e)))).then((e=>(this._emitted++,e)))}emit(e){this._pastEvents.push(e),[...this._listeners].forEach((t=>t(e))),this._emitted++}clear(){this._listeners.clear()}get count(){return this._listeners.size}get emitted(){return this._emitted}}let B=class{constructor(){this.sending=new R,this.logQueue=[],this.supressedEventLogNames=new Map([["SlotRenderEnded","adImpression"],["VideoUtils","getPlacementElement"]]),this.disableLogging=!1,this.queueLogs=!1}init(e){this.logFilter=e.loggerFilters||[],this.siteId=e.siteAds.siteId,this.siteName=e.siteAds.siteName,this.bucket=e.bucket,this.branch=e.branch,this.deployment=e.deployment,this.debug=e.debug}log(e,t,...i){this.call(console.log,e,t,...i)}info(e,t,...i){this.call(console.info,e,t,...i)}warn(e,t,...i){this.call(console.warn,e,t,...i)}error(e,t,...i){this.call(console.error,e,t,...i),this.makeRequest("send","error",e,t,...i).catch((e=>{console.error(e)}))}event(e,t,...i){(this.debug||!this.supressedEventLogNames.has(e)||this.supressedEventLogNames.get(e)!==t)&&this.call(console.log,e,t,...i),this.makeRequest("send","event",e,t,...i).catch((e=>{console.error(e)}))}fetchEvent(e,t,...i){this.call(console.log,e,t,...i),this.makeRequest("fetch","event",e,t,...i).catch((e=>{console.error(e)}))}call(e,t,i,...s){const r=this.logFilter;if(r&&r.length&&r.includes(t))return;const n=[`%c${t}::${i} `],o=["color: #999; font-weight: bold;"];s.length>0&&"string"==typeof s[0]&&n.push(s.shift()),o.push(...s);try{Function.prototype.apply.call(e,console,[n.join(""),...o])}catch(e){return void console.error(e)}}buildRequestUrl(e,t,i,s){const r=`https://logger.adthrive.com/${e}`,n=[`${t}::${i} `];s.length>0&&"string"==typeof s[0]&&n.push(s.shift());const o=s.map((e=>(e&&e.error&&(e=e.error),e instanceof Error&&(e={name:e.name,message:e.message,stack:e.stack}),e)));this.data&&o.push(this.data);return`${r}?${[`siteId=${encodeURIComponent(this.siteId||"")}`,`siteName=${encodeURIComponent(this.siteName||"")}`,`bucket=${encodeURIComponent(this.bucket||"")}`,`branch=${encodeURIComponent(this.branch||"")}`,`deployment=${encodeURIComponent(this.deployment||"")}`,`message=${encodeURIComponent(n.join("").trim())}`,`pageurl=${encodeURIComponent(window.location.origin+window.location.pathname)}`,`body=${encodeURIComponent(JSON.stringify(o))}`].join("&")}`}clearLogQueue(e){this.info("Logger","gdprEnforcement","clearLogQueue",e),e&&this.logQueue.forEach((e=>{"send"===e.action&&this.sendRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{})),"fetch"===e.action&&this.fetchRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{}))})),this.logQueue=[],this.queueLogs=!1}async makeRequest(e,t,i,s,...r){if(this.disableLogging)return this.info("Logger","gdprEnforcement","logging disabled"),Promise.resolve(!1);if(this.queueLogs){const n={action:e,type:t,className:i,methodName:s,args:r};return this.logQueue.push(n),this.info("Logger","gdprEnforcement","log queued"),Promise.resolve(!0)}return"send"===e?this.sendRequest(t,i,s,...r):this.fetchRequest(t,i,s,...r)}async sendRequest(e,t,i,...s){this.sending.emit();const r=this.buildRequestUrl(e,t,i,s);return r.length>8192?this.sendRequest(e,t,i,"Error query too large").catch((e=>{console.error(e)})):new Promise(((e,t)=>{const i=new XMLHttpRequest;i.open("get",r),i.addEventListener("load",(()=>200!==i.status?t(new Error(`Logger send request failed ${i.status}`)):e(i.responseText))),i.addEventListener("error",(()=>t(new Error("Logger send request failed")))),i.send()}))}async fetchRequest(e,t,i,...s){this.sending.emit();const r=this.buildRequestUrl(e,t,i,s);return fetch(r,{method:"GET",keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"})}};B=A([P()],B);const D=new B,V=(e,t)=>e?"flat"===e.type?t-e.value:e.value*t:t,L=(e,t,i,s)=>{var r;const n=null==s?void 0:s.dealId,o=e.partners.getBidderConfig(i).cpmMap.get("pmp");if(n&&o){const e=null===(r=o.deals)||void 0===r?void 0:r.filter((e=>e.name===n.toString()))[0];return e?"flat"===o.type?V(e,t):o.value*V(e,t):V(o,t)}{const r=((e,t,i)=>{const s=e.video.instreamAdUnits.has(null==i?void 0:i.adUnitCode),r=i.adUnitCode&&i.adUnitCode.includes("Video_StickyOutstream"),n=s?"instream":r?"stickyOutstream":s||r||!("vastUrl"in i)&&!("vastXml"in i)?"default":"outstream";return e.partners.getBidderConfig(t).cpmMap.get(e.partners.getBidderConfig(t).cpmMap.has(n)?n:"default")})(e,i,s);return V(r,t)}},F=navigator.userAgent,j=navigator.vendor,N=(e,t)=>/Chrom/.test(e||F)&&/Google/.test(t||j)&&!q(e)&&!G(e),U=(e,t)=>/Safari/.test(e||F)&&/Apple Computer/.test(t||j)&&!q(e)&&!G(e),q=e=>/Edge\/|Edg\//.test(e||F),H=e=>/Trident|MSIE/.test(e||F),G=e=>/Opera|OPR/.test(e||F),$=(e,t)=>N(e,t)?"Chrome":U(e,t)?"Safari":q(e)?"Edge":(e=>/Firefox/.test(e||F))(e)?"Firefox":G(e)?"Opera":H(e)?"IE":"Others",W=()=>{const e=document.querySelector(".adthrive-footer");let t=52;return e&&"none"===e.style.display?t=102:e&&(t=Math.max(e.getBoundingClientRect().height,t)),t},K=(e,t)=>null==e||e!=e?t:e,Q=e=>new Promise((t=>{setTimeout(t,e)})),X=(e,t)=>{const i=window.innerWidth;return i>=t?"desktop":i>=e?"tablet":"phone"},Y=()=>new Promise((e=>{if("interactive"===document.readyState||"complete"===document.readyState)return e();document.addEventListener("DOMContentLoaded",(()=>e()))})),J=e=>{const t=e.offsetHeight,i=e.offsetWidth,s=e.getBoundingClientRect(),r=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||r.scrollTop,a=window.pageXOffset||n.scrollLeft||r.scrollLeft,l=n.clientTop||r.clientTop||0,d=n.clientLeft||r.clientLeft||0,c=Math.round(s.top+o-l),h=Math.round(s.left+a-d);return{top:c,left:h,bottom:c+t,right:h+i,width:i,height:t}},Z=e=>(e=>{const t=e.match(/([a-zA-Z0-9._!#$%+^&*()[\]<>-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);return t?t[0]:""})((e=>e.replace(/\s/g,""))(e.toLowerCase())),ee=(e,t,i)=>i.indexOf(e)===t,te=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.json().then((e=>t(e))).catch((()=>i(!1)))})).catch((()=>i(!1)))})),ie=(e,t,i=!1)=>{try{const s=sessionStorage.getItem(`adthrive_${e.toLowerCase()}`);if(s){const r=JSON.parse(s),n=void 0!==t&&Date.now()-r.created>=t;if(r&&!n)return i&&se(e,r.value),r.value}}catch(e){}return null},se=(e,t)=>{try{const i={value:t,created:Date.now()};sessionStorage.setItem(`adthrive_${e.toLowerCase()}`,JSON.stringify(i))}catch(e){}},re=(e=18e5)=>{const t=ie("referrer",e),i=ne();return K(i,t)},ne=()=>{if(document.referrer&&document.referrer.length){const e=oe(document.referrer);if(ae(e)!==ae(window.location.hostname))return e}},oe=e=>{const t=document.createElement("a");return t.href=e,t.hostname},ae=e=>{const t=e.split("."),i=t.length;return i>2&&(e=t[i-2]+"."+t[i-1],2!==t[i-2].length&&3!==t[i-2].length||2!==t[i-1].length||(e=t[i-3]+"."+e)),e},le=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.text().then((e=>{"string"==typeof e?t(e):i("Vast XML not in proper format")})).catch((e=>{i(e)}))})).catch((e=>i(e)))})),de=(e,t=!1,i=!1)=>new Promise(((s,r)=>{const n=document.createElement("script");n.addEventListener("error",(()=>r(new Error(`Failed to import script ${e}`)))),n.addEventListener("load",(()=>s(n))),n.type="text/javascript",n.src=e,n.defer=i,ce(n,t)})),ce=(e,t)=>{const i=document.getElementsByTagName("script")[0];i&&i.parentNode&&!t?i.parentNode.insertBefore(e,i):document.body.appendChild(e)},he=["Refresh","PD","Source","Browser","Topic","MCMP","Sens"],pe=(e,t)=>{t.addToQueue((()=>{const i=t.getConfig("ix")||{firstPartyData:{}},s={...i.firstPartyData,...e},r={};he.forEach((e=>{e in s&&(r[e]=s[e])}));for(const e in s)he.includes(e)||(r[e]=s[e]);i.firstPartyData=r,t.setConfig({ix:i})}))},ue=e=>e?(e=>{const t={google:"google",facebook:"facebook",instagram:"instagram",pinterest:"pinterest"};return e.split(".").filter((e=>t[e]))[0]||"other"})(e):"direct",ge=({event:e,ignoreOtherCompanyIds:t=!1})=>{const i=new Set([-1,0,1,199612376,2143809321]),s=new Set([4455444655,4460609902,4463579729,4464180925,4466143841,4550726766,4623743690,4623743882,4634020290,4642901988,4697115760,4801442281,4802163255,4805985973,4807636548,4867316569]),r=!e.campaignId||i.has(e.campaignId),n=!e.companyIds||e.companyIds&&!e.companyIds.some((e=>s.has(e)));return t?r:r&&n},_e=()=>{if(navigator&&navigator.webdriver)return"wdv"},me=()=>{if(navigator&&navigator.hardwareConcurrency>16)return"hwv"},ye=()=>{if(navigator&&navigator.userAgent&&/python|apis|googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar\/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/\+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2/i.test(window.navigator.userAgent))return"uav"},fe=()=>{const e={width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)};if(e.width>5e3||e.height>5e3)return"vpv"},ve=()=>{const e=document.createElement("canvas"),t=e.getContext&&e.getContext("webgl"),i=t&&t.getExtension&&t.getExtension("WEBGL_debug_renderer_info");if(i&&i.UNMASKED_RENDERER_WEBGL){if("Google SwiftShader"===(t&&t.getParameter(i.UNMASKED_RENDERER_WEBGL)))return"wglv"}},be=(e=navigator.userAgent)=>/Windows NT|Macintosh/i.test(e),Se=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),Ce=e=>!Se(e),we=()=>{const e=navigator.userAgent,t=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(e);return/Mobi|iP(hone|od)|Opera Mini/i.test(e)&&!t},Ee=(e,t)=>{if(e.length<=1)return 0;if(e.sort(((e,t)=>e-t)),t<=0)return e[0];if(t>=1)return e[e.length-1];const i=t*(e.length+1),s=Math.floor(i)-1,r=s+1,n=Number((i%1).toFixed(1));return i<1?e[0]:r>=e.length?e[s]:e[s]+n*(e[r]-e[s])},ke=()=>{try{return Math.round(window.performance.now())}catch(e){return 0}},xe=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const r=e[s].map((e=>((e,t)=>parseInt(e,t)/1e5)(e,t)));return{...i,[s]:[...r]}}),{});return i},Te=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const r=e[s].map((e=>((e,t)=>Math.floor(1e5*e).toString(t))(e,t)));return{...i,[s]:r}}),{});return i},Pe=()=>new Promise((e=>{if("complete"===document.readyState)return e();window.addEventListener("load",(()=>e()))})),Ie=(e=window.location.search)=>{const t=0===e.indexOf("?")?1:0;return e.slice(t).split("&").reduce(((e,t)=>{const[i,s]=t.split("=");return e.set(i,s),e}),new Map)},Ae=e=>e.split("&").reduce(((e,t)=>{const[i,s]=t&&t.split("=");return i&&s&&(e[i]=s),e}),{}),Me=e=>Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"),Oe=e=>{const t=RegExp("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)").exec(document.cookie);return t?t.pop():""},ze=()=>(new Date).getTimezoneOffset()<(()=>{const e=new Date((new Date).getFullYear(),0,1),t=new Date((new Date).getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())})(),Re=()=>Date.now(),Be=(e,t)=>{if("Intl"in window){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.some((e=>t===e))}return t.some((e=>(new Date).getTimezoneOffset()===(ze()?e-60:e)))},De=()=>Be(["America/Los_Angeles"],[480]),Ve=()=>Be(["Pacific/Auckland"],[-720])||Be(["Pacific/Honolulu"],[600])||Be(["America/Phoenix"],[420])||De(),Le=e=>void 0!==e,Fe=(e,t)=>!(!e||"object"!=typeof e||!(t in e)),je=e=>{const t=window.location.href;return e.some((e=>new RegExp(e,"i").test(t)))},Ne=(e,t)=>{if(t)for(const t of pbjs.getUserIdsAsEids())if(t.source&&t.source===e&&t.uids&&t.uids.length>0&&t.uids[0].id)return t.uids[0].id;return null},Ue=e=>{try{return{valid:!0,elements:document.querySelectorAll(e)}}catch(e){return{valid:!1,...e}}},qe=e=>""===e?{valid:!0}:Ue(e),He=e=>1===e.length,Ge=e=>{let t=0;return e.forEach((e=>{e.weight&&(t+=e.weight)})),e.length>0&&e.every((e=>{const t=e.value,i=e.weight;return!(!t||!i)}))&&100===t},$e=["siteId","siteName","adOptions","breakpoints","adUnits"],We=(e,t=$e)=>{if(!e)return!1;for(let i=0;i<t.length;i++)if(!e[t[i]])return!1;return!0},Ke=(e,t,i,s,r,n)=>{const o=Math.round(n-r),a=[],l=[];a.push("(",i.map((()=>"%o")).join(", "),")"),l.push(...i),void 0!==s&&(a.push(" => %o"),l.push(s)),a.push(` %c(${o}ms)`),l.push("color: #999;")},Qe=(e,t,i)=>{const s=void 0!==i.get?i.get:i.value;return function(...i){try{const r=ke(),n=s.apply(this,i);if(n instanceof Promise)return n.then((e=>{const t=ke();return Ke(0,0,i,e,r,t),Promise.resolve(e)})).catch((i=>{throw i.logged||(D.error(e,t,i),i.logged=!0),i}));{const e=ke();return Ke(0,0,i,n,r,e),n}}catch(i){throw i.logged||(D.error(e,t,i),i.logged=!0),i}}},Xe=(e,t=!1)=>i=>{const s=Object.getOwnPropertyNames(i.prototype).filter((e=>t||0!==e.indexOf("_"))).map((e=>[e,Object.getOwnPropertyDescriptor(i.prototype,e)]));for(const[t,r]of s)void 0!==r&&"function"==typeof r.value?i.prototype[t]=Qe(e,t,r):void 0!==r&&void 0!==r.get&&"function"==typeof r.get&&Object.defineProperty(i.prototype,t,{...r,get:Qe(e,t,r)})},Ye=()=>(e,t,i)=>{const s=i.value;s&&(i.value=function(...e){var t;const i=this.sessionStoragePrefix?`${this.sessionStoragePrefix}-${this.key}`:this.key;return!1===(null===(t=ie("branch"))||void 0===t?void 0:t.enabled)&&(e=>{sessionStorage.removeItem(`adthrive_${e.toLowerCase()}`)})(i),((e,t,i,s=!0,r)=>{const n="abgroup",o=ie(n,i,s);if(null!==o){const t=o[e];if(void 0!==t)return t}const a=t(),l={...o,[e]:a};return se(n,l),r&&r(),a})(i,(()=>s.apply(this,e)),18e5)})},Je="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Ze=Je.length,et=Math.pow(2,48)-1,tt=e=>{let t=Math.floor(e()*Ze);return t===Ze&&(t=Ze-1),Je.charAt(t)},it=(e,t)=>{if(isNaN(e))throw new Error(`${e} must be a number`);if(e>et)throw(e=>{const t=new Error(e);return t.source="ulid",t})(`cannot encode time greater than ${et}`);let i,s="";for(;t>0;t--)i=e%Ze,s=Je.charAt(i)+s,e=(e-i)/Ze;return s},st=()=>it(Date.now(),10)+((e,t)=>{let i="";for(;e>0;e--)i=tt(t)+i;return i})(16,(()=>(()=>{if(window.crypto){const e=new Uint8Array(1);return crypto.getRandomValues(e),e[0]/255}return Math.random()})())),rt=e=>new Promise((t=>setTimeout(t,e)));let nt=class{constructor(){this._map=new Map,this.setAbGroup=!Ie().has("at_features")}set(e,t){this.setAbGroup&&this._map.set(e,t)}get(e){return this._map.get(e)}get groups(){const e=[];for(const[t,i]of this._map)e.push(`${t}:${i}`);return e}get groupsAsObject(){const e={};for(const t of this._map.keys()){const i=this._map.get(t);i&&(e[t]=i)}return e}};nt=A([I(),O("design:paramtypes",[])],nt);let ot=class extends nt{};ot=A([I()],ot);let at=class{constructor(){this.adthriveExperimentOverrides=this.getExperimentOverrides()}getExperimentOverrides(){let e={};const t=Ie().get("at_features");if(t)try{const i=decodeURIComponent(t);e=JSON.parse(i),D.event("ExperimentOverrides","getExperimentOverrides","at_features",e)}catch(e){}return e}hasValidOverride(e,t){if(e in this.adthriveExperimentOverrides){const i=this.adthriveExperimentOverrides[e];return this.isValidExperimentOverride(t,i)}return!1}useOverride(e){return this.adthriveExperimentOverrides[e]}isValidExperimentOverride(e,t){if(0===e.length)return!1;const i=Array.isArray(e[0])?"array":typeof e[0];if("array"===i){if(!Array.isArray(t))return!1;if(t.some((t=>!e.includes(t)))&&t.map((e=>"["+JSON.stringify(e)+"]")).some((t=>!e.map((e=>JSON.stringify(e))).includes(t)))&&!e.map((e=>JSON.stringify(e))).includes(JSON.stringify(t)))return!1}else if("object"===i){if(!e.map((e=>JSON.stringify(e))).includes(JSON.stringify(t)))return!1}else if(!e.includes(t))return!1;return!0}};at=A([I(),O("design:paramtypes",[])],at);class lt{constructor(){this.shouldUseCoreOverride=!0;const e=this.run.bind(this);this.run=()=>{const t=x.resolve(at),i=this._choices.map((e=>e.choice));return t.hasValidOverride(this.key,i)?t.useOverride(this.key):e()}}}class dt{get enabled(){return void 0!==this.experimentConfig}}let ct=class{constructor(e){var t,i,s;this._adthrive=e,this.siteExperiments=[];const r=we()?"mobile":"desktop";this.siteExperiments=null!==(s=null===(i=null===(t=this._adthrive.siteAds)||void 0===t?void 0:t.siteExperiments)||void 0===i?void 0:i.filter((e=>((e,t)=>{if(!e)return!1;const i=!!e.enabled,s=null==e.dateStart||Date.now()>=e.dateStart,r=null==e.dateEnd||Date.now()<=e.dateEnd,n=null===e.selector||""!==e.selector&&!!document.querySelector(e.selector),o="mobile"===e.platform&&"mobile"===t,a="desktop"===e.platform&&"desktop"===t,l=null===e.platform||"all"===e.platform||o||a,d="bernoulliTrial"===e.experimentType?He(e.variants):Ge(e.variants);return d||D.error("ValidateSiteExperiment","util","experiment presented invalid choices for key:",e.key),i&&s&&r&&n&&l&&d})(e,r))))&&void 0!==s?s:[]}getSiteExperimentByKey(e){return this.siteExperiments.filter((t=>t.key.toLowerCase()===e.toLowerCase()))[0]}getVideoPlaylistByType(e){var t,i;return null!==(i=null===(t=this._adthrive.siteAds.videoPlayers)||void 0===t?void 0:t.players.filter((t=>t.type===e)))&&void 0!==i?i:[]}};ct=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],ct);class ht{}class pt extends ht{constructor(e){super(),this._probability=e}get(){if(this._probability<0||this._probability>1)throw new Error("Invalid probability");return Math.random()<this._probability}}class ut extends ht{constructor(e=[],t){super(),this._choices=e,this._default=t}static fromArray(e,t){return new ut(e.map((([e,t])=>({choice:e,weight:t}))),t)}addChoice(e,t){this._choices.push({choice:e,weight:t})}get(){const e=(t=0,i=100,Math.random()*(i-t)+t);var t,i;let s=0;for(const{choice:t,weight:i}of this._choices)if(s+=i,s>=e)return t;return this._default}get totalWeight(){return this._choices.reduce(((e,{weight:t})=>e+t),0)}}const gt=()=>{try{const e=2500,t=window.localStorage.getItem("__lsv__"),i=t?JSON.parse(decodeURIComponent(t)):[];if(window.innerWidth>=e)return{isError:!1,canDisplay:!1};if(i.length){const e=36e5,t=Re(),s=i[0];return{isError:!1,canDisplay:t-s>e}}return{isError:!1,canDisplay:!0}}catch(e){return{isError:!0,canDisplay:!1,message:e.message}}};let _t=class extends lt{constructor(e,t){super(),this._adthrive=e,this._result="off",this.key="inters",this._choices=[{choice:"all",weight:0},{choice:"adx",weight:100},{choice:"off",weight:0}];const{isError:i,canDisplay:s,message:r}=gt();i&&D.error("InterstitialExperiment","canDisplayInterstitial",{message:r}),s&&(we()&&K(this._adthrive.siteAds.adOptions.mobileInterstitial,!1)||!we()&&K(this._adthrive.siteAds.adOptions.desktopInterstitial,!1))&&(this._result=this.run(),t.set(this.key,this._result))}get result(){return this._result}run(){return new ut(this._choices).get()}};_t=A([Xe("InterstitialExperiment"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,nt])],_t);let mt=class{constructor(){this.consentCaptured=new R}};mt=A([I()],mt);let yt=class{constructor(e){this.cafeMediaVendorId=996,this.nonCompliantBidders=["roundel","yahoossp","colossus"],this.consentCaptured=!1,this.isRequired="true"===e.gdpr}get enabled(){return this.isRequired}};yt=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],yt);let ft=class{constructor(e,t){this._gdprEvents=e,this._gdpr=t,this.DETECTION_WAIT_MS=500,this.DETECTION_ATTEMPTS=10,this._tracker=null,this.readyEvent=new R,this._detectTracker=async()=>{const e=window,t=new Array(this.DETECTION_ATTEMPTS);let i=null;for(const s of t)if(await rt(this.DETECTION_WAIT_MS),e.ga&&"function"==typeof e.ga&&"function"==typeof e.ga.getAll?i=await this._getUniversalTracker():e._gaq&&e._gat&&"function"==typeof e._gat._getTrackers&&(i=await this._getLegacyTracker()),i)break;return i},this._hasNecessaryConsent=!this._gdpr.isRequired,this.init()}init(){this._detectTracker().then((e=>{e?(this._tracker=e,this._isTrackerDetectedAndReady()&&this.readyEvent.emit()):this._detectTrackerOnScroll()})).catch((e=>{D.error("GoogleAnalyticsDetector","init","A problem occurred when performing GA tracker detection:",e)})),this._gdprEvents.consentCaptured.on((()=>{this._hasNecessaryConsent=!0,this._isTrackerDetectedAndReady()&&this.readyEvent.emit()}))}_detectTrackerOnScroll(){const e=window,t=()=>{e.removeEventListener("scroll",t),this._detectTracker().then((e=>{this._tracker=e,this._isTrackerDetectedAndReady()?this.readyEvent.emit():D.error("GoogleAnalyticsDetector","_detectTrackerOnScroll","GA tracker not detected")})).catch((e=>{D.error("GoogleAnalyticsDetector","_detectTrackerOnScroll","A problem occurred when performing GA tracker detection:",e)}))};e.addEventListener("scroll",t)}get ready(){return null!==this._tracker&&this._hasNecessaryConsent}get tracker(){return this._tracker}_getUniversalTracker(){return new Promise((e=>{const t=window;t.ga((()=>{const i=t.ga.getAll().find((e=>void 0!==e.get("trackingId"))),s=i&&i.get("trackingId"),r=i&&i.get("name");e(s&&r?{id:s,name:r,type:"universal"}:null)}))}))}_getLegacyTracker(){return new Promise((e=>{const t=window;t._gaq.push((()=>{const i=t._gat&&t._gat._getTrackers().find((e=>e._getAccount())),s=i&&i._getAccount(),r=i&&i._getName();e(s?{id:s,name:r||"",type:"legacy"}:null)}))}))}_isTrackerDetectedAndReady(){return this.ready&&this._hasNecessaryConsent}};ft=A([Xe("GoogleAnalyticsDetector"),I(),O("design:paramtypes",[mt,yt])],ft);let vt=class{constructor(e){this._googleAnalyticsDetector=e,this.GA_EVENT_BURST_LIMIT=10,this.GA_EVENT_PER_SECOND_RATE_LIMIT=2,this.GA_EVENT_SESSION_QUOTA=500,this.GA_EVENT_CATEGORY="Adthrive Experiment",this.GA_EVENT_LABEL_PREFIX="pubab",this._initialEventBurstComplete=!1,this._siteExperimentEventLabels=[],this._tracker=null,this.siteExperimentEventLabelAddedEvent=new R,this._sendInitialEventBurst=async()=>{await this._sendSiteExperimentEvents(),this._initialEventBurstComplete=!0},this._sendSiteExperimentEvents=async()=>{const e=this._siteExperimentEventLabels.filter((e=>!e.sent)),t=this._siteExperimentEventLabels.length-e.length;let i=0;if(this._tracker&&this._tracker.type){t>=this.GA_EVENT_SESSION_QUOTA?D.error("GoogleAnalytics","_sendSiteExperimentEvents",`GA event quota (${this.GA_EVENT_SESSION_QUOTA} events) has been reached. Events may not send.`):e.length>this.GA_EVENT_BURST_LIMIT&&D.error("GoogleAnalytics","_sendSiteExperimentEvents",`GA event burst quota (${this.GA_EVENT_BURST_LIMIT} events) has been reached. GA will rate-limit to ${this.GA_EVENT_PER_SECOND_RATE_LIMIT} per second. Some events may not send.`);for(const t of e){const e=i>this.GA_EVENT_BURST_LIMIT?1e3/this.GA_EVENT_PER_SECOND_RATE_LIMIT:0;await rt(e),this._sendSiteExperimentEvent(t),i++}}else D.error("GoogleAnalytics","_sendSiteExperimentEvents","Cannot send Site Experiment events because a tracker was not detected")}}init(){let e;return e=this._googleAnalyticsDetector.ready?this._handleTrackerReady():this._googleAnalyticsDetector.readyEvent.legacyOnce().then(this._handleTrackerReady.bind(this)),this.siteExperimentEventLabelAddedEvent.on((()=>{this._initialEventBurstComplete&&this._sendSiteExperimentEvents().catch((()=>{D.error("GoogleAnalytics","init","A problem occurred while sending GA events")}))})),e}addSiteExperimentEventLabel(e){const t=Array.isArray(e)?e.map((e=>({...e,sent:!1}))):[{...e,sent:!1}];this._siteExperimentEventLabels.push(...t),this.siteExperimentEventLabelAddedEvent.emit()}addPubAbEventLabel(e){this.addSiteExperimentEventLabel(e)}_handleTrackerReady(){return this._tracker=this._googleAnalyticsDetector.tracker,this._sendInitialEventBurst()}_sendSiteExperimentEvent(e){const t=this._tracker?this._tracker.type:null;"gtag"===t?this._sendSiteExperimentGtagEvent(e):"universal"===t?this._sendSiteExperimentUniversalEvent(e):"legacy"===t?this._sendSiteExperimentLegacyEvent(e):D.error("GoogleAnalytics","_sendSiteExperimentEvent","Could not send event because a valid tracker type could not be found"),e.sent=!0}_sendSiteExperimentGtagEvent({label:e,value:t}){const i=window;i.dataLayer&&i.gtag&&i.gtag("event",t,{event_category:this.GA_EVENT_CATEGORY,event_label:this._createPrefixedEventLabel(e),non_interaction:!0})}_sendSiteExperimentUniversalEvent({label:e,value:t}){const i=window,s=this._tracker?this._tracker.name:null;i.ga?s?i.ga(`${s}.send`,{hitType:"event",eventCategory:this.GA_EVENT_CATEGORY,eventAction:t,eventLabel:this._createPrefixedEventLabel(e),nonInteraction:!0}):D.error("GoogleAnalytics","_sendSiteExperimentUniversalEvent","unable to send GA event tracker name could not be found"):D.error("GoogleAnalytics","_sendSiteExperimentUniversalEvent","unable to send GA event because window.ga is undefined")}_sendSiteExperimentLegacyEvent({label:e,value:t}){const i=window;if(!i._gaq)return;const s={category:this.GA_EVENT_CATEGORY,action:t,label:this._createPrefixedEventLabel(e),value:0,nonInteraction:!0};i._gaq.push(["_trackEvent",s.category,s.action,s.label,s.value,s.nonInteraction])}_createPrefixedEventLabel(e){return`${this.GA_EVENT_LABEL_PREFIX}_${e}`}};var bt,St,Ct,wt,Et,kt,xt,Tt,Pt;A([(e,t,i)=>{const s=i.value;return i.value=function(...e){return s.apply(this,e)},i},O("design:type",Function),O("design:paramtypes",[Object]),O("design:returntype",void 0)],vt.prototype,"addPubAbEventLabel",null),vt=A([Xe("GoogleAnalytics"),I(),O("design:paramtypes",[ft])],vt),function(e){e.Prebid="prebid",e.GAM="gam",e.Amazon="amazon",e.WebVitals="webvitals",e.Marmalade="marmalade",e.Floors="floors",e.CMP="cmp"}(bt||(bt={})),function(e){e.prebidLoad="prebidLoad",e.amazonLoad="amazonLoad",e.gptLoad="gptLoad",e.rubiconFloors="rubiconFloors"}(St||(St={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(Ct||(Ct={})),function(e){e.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff",e.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff",e.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone",e.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"}(wt||(wt={})),function(e){e.StickySekindo="stickySekindo",e.StaticSekindo="staticSekindo",e.None="none"}(Et||(Et={})),function(e){e.WEIGHTEDCHOICE="weightedChoice",e.BERNOULLITRIAL="bernoulliTrial"}(kt||(kt={})),function(e){e.INTEGER="integer",e.FLOAT="float",e.BOOLEAN="boolean",e.STRING="string"}(xt||(xt={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.ALL="all"}(Tt||(Tt={})),function(e){e.AdDensity="addensity",e.FooterCloseButton="footerclose",e.Interstitial="interstitial",e.RemoveVideoTitleWrapper="removevideotitlewrapper",e.StickyOutstream="stickyoutstream",e.StickyOutstreamOnStickyPlayer="sospp",e.VideoAdvancePlaylistRelatedPlayer="videoadvanceplaylistrp",e.MobileStickyPlayerPosition="mspp"}(Pt||(Pt={}));let It=class extends dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Pt.Interstitial;const{isError:s,canDisplay:r,message:n}=gt();s&&D.error("InterstitialSiteExperiment","constructor",{message:n}),this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&r&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){if(1!==this._choices.length)return D.error("InterstitialSiteExperiment","run","Bernoulli Trial should have exactly one variant",this._choices),!1;const e=this._choices[0].weight/100;return new pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("InterstitialSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],It.prototype,"run",null),It=A([Xe("InterstitialSiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt])],It);let At=class extends dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Pt.FooterCloseButton,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){if(1!==this._choices.length)return D.error("FooterCloseButtonSiteExperiment","run","Bernoulli Trial should have exactly one variant",this._choices),!1;const e=this._choices[0].weight/100;return new pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("FooterCloseButtonSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],At.prototype,"run",null),At=A([Xe("FooterCloseButtonSiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt])],At);let Mt=class{constructor(e,t,i,s){this._interstitialExperiment=t,this._interstitialSiteExperiment=i,this._footerCloseButtonSiteExperiment=s,this.footerCloseButtonMigrated=!1;const{allowSmallerAdSizes:r,footerCloseButton:n,footerCloseButtonMobile:o,footerCloseButtonDesktop:a,footerSelector:l,infiniteScroll:d,infiniteScrollOptions:c,infiniteScrollRefresh:h,pmp:p,targetaff:u}=e.siteAds.adOptions;this.allowSmallerAdSizes=K(r,!0),void 0!==o&&void 0!==a&&(this.footerCloseButtonMigrated=!0);const g=!(!this._interstitialExperiment.result||"off"===this._interstitialExperiment.result),_=this._interstitialSiteExperiment.enabled?this._interstitialSiteExperiment.result:g;this.interstitial={gam:_,prebid:!1},this._footerCloseButtonSiteExperiment.enabled?this.footerCloseButton=this.footerCloseButtonMobile=this.footerCloseButtonDesktop=this._footerCloseButtonSiteExperiment.result:(this.footerCloseButton=K(n,!0),this.footerCloseButtonMobile=K(o,!0),this.footerCloseButtonDesktop=K(a,!0)),this.footerSelector=K(l,""),this.pmp=K(p,!0),this.infiniteScroll=K(d,!1),this.infiniteScrollOptions=K(c,{}),this.infiniteScrollRefresh=K(h,!0),this.targetAff=K(u,!1)}};Mt=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,_t,It,At])],Mt);let Ot=class{constructor(e){const t=e.siteAds.adTypes||{};this.animatedFooter=K(t.animatedFooter,!0),this.expandableFooter=K(t.expandableFooter,!0),this.interscroller=K(t.interscroller,!0),this.miniscroller=K(t.miniscroller,!0),this.nativeMobileContent=K(t.nativeMobileContent,!0),this.nativeDesktopContent=K(t.nativeDesktopContent,!0),this.nativeDesktopSidebar=K(t.nativeDesktopSidebar,!0),this.nativeDesktopRecipe=K(t.nativeDesktopRecipe,!0),this.nativeMobileRecipe=K(t.nativeMobileRecipe,!0),this.outstreamDesktop=K(t.outstreamDesktop,!0),this.outstreamMobile=K(t.outstreamMobile,!0)}has(e){return this[e]&&!0===this[e]}get enabled(){return Object.keys(this).filter((e=>!0===this[e]))}get enabledMinified(){const e={outstreamDesktop:{min:"od",val:this.outstreamDesktop},outstreamMobile:{min:"om",val:this.outstreamMobile}};return this.enabled.filter((t=>Object.keys(e).includes(t)&&e[t].val)).map((t=>e[t].min))}get outstreamEnabled(){return we()?!0===this.outstreamMobile:!0===this.outstreamDesktop}};Ot=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ot);let zt=class extends lt{constructor(e){super(),this.key="amzn_hold_load",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.5).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],zt.prototype,"run",null),zt=A([Xe("AmazonLibraryExperiment"),I(),O("design:paramtypes",[nt])],zt);let Rt=class extends lt{constructor(e,t){super(),this.key="amzn",this._choices=[{choice:!0},{choice:!1}];const i=e.deliveryFeatures||e.experiments;i&&i.includes(St.amazonLoad)||(this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(.995).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Rt.prototype,"run",null),Rt=A([Xe("AmazonExperiment"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,nt])],Rt);let Bt=class extends lt{constructor(e){super(),this._result=!1,this.key="wvtls",this._choices=[{choice:!0},{choice:!1}],N()&&(this._result=this.run(),e.set(this.key,this.result?"on":"off"))}get result(){return this._result}run(){return new pt(.25).get()}};Bt=A([Xe("WebVitalsExperiment"),I(),O("design:paramtypes",[nt])],Bt);let Dt=class{constructor(e,t,i){var s;this.bootstrapResult=new Map,this.bootstrapLoaders={},this.webVitalsEnabled=i.result,this.gptLibFailed=!1,this.liveRamp=K(e.siteAds.adOptions.liveRamp,!0),this.liveRampId=K(e.siteAds.adOptions.liveRampId,"7f035220-1751-4684-bb7f-a1c0d45657df"),e&&e.core&&e.core.country,36!==this.liveRampId.length&&(this.liveRampId="7f035220-1751-4684-bb7f-a1c0d45657df"),"FR"===(null===(s=null==e?void 0:e.core)||void 0===s?void 0:s.country)&&(this.liveRampId="34233849-5500-4e44-8601-5006ae8d13fe"),this._baseUrl=e.baseUrl,this._targetPath=e.targetPath||"/es2018";const r=e.deliveryFeatures||e.experiments;this.isAmazonPreloaded=!(!r||!r.includes(St.amazonLoad)),this.isGPTPreloaded=!(!r||!r.includes(St.gptLoad)),this.isPrebidPreloaded=!(!r||!r.includes(St.prebidLoad)),this.amazonEnabled=t.result||this.isAmazonPreloaded,this.isGDPR="true"===e.gdpr}get baseUrl(){return this._baseUrl}get targetPath(){return this._targetPath}};Dt=A([Xe("BootstrapConfig"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Rt,Bt])],Dt);let Vt=class{constructor(e,t){this.adthrive=e,this._bootstrapConfig=t,this._url="https://c.amazon-adsystem.com/aax2/apstag.js"}async load(){return this._bootstrapConfig.amazonEnabled&&this.adthrive.siteAds.adOptions.amazonUAM?(this.init(),this._bootstrapConfig.isAmazonPreloaded?Promise.resolve(!0):de(this._url)):Promise.resolve(!1)}init(){if(window.apstag)return;const e=(e,t)=>{window.apstag._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]}}};Vt=A([Xe("AmazonBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Dt])],Vt);let Lt=class{constructor(e,{isGPTPreloaded:t}){this._adthrive=e,this._url="https://securepubads.g.doubleclick.net/tag/js/gpt.js",this._isGPTPreloaded=t}async load(){return this._isGPTPreloaded?Promise.resolve(!0):(this.init(),de(this._url))}init(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]}};Lt=A([Xe("GAMBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Dt])],Lt);let Ft=class{};Ft=A([I()],Ft);let jt=class extends Ft{constructor(){super(),this.marmaladeResponseLoaded=new R,this.recencyFrequencyDataSet=new R}};jt=A([I(),O("design:paramtypes",[])],jt);let Nt=class{constructor(e){this._eventBus=e,this._marmaladeFinishedTimeout=3e3}async get(){if(window.adthrive.marmalade){const e=await window.adthrive.marmalade;return this._eventBus.marmaladeResponseLoaded.emit(e),e}const e=new Promise((e=>{window.adthrive.marmaladeFinished=e})).then((e=>(this._eventBus.marmaladeResponseLoaded.emit(e),e))),t=new Promise((e=>{const t=setTimeout((()=>{clearTimeout(t),e({})}),this._marmaladeFinishedTimeout)}));return Promise.race([e,t])}};Nt=A([Xe("MarmaladeBootstrap"),P(),O("design:paramtypes",[jt])],Nt);let Ut=class{constructor({baseUrl:e,targetPath:t,isPrebidPreloaded:i}){this.type=bt.Prebid,this._url=`${e}/vendor/prebid${t}/prebid.min.js`,this._isPrebidPreloaded=i}async load(){return this.init(),this._isPrebidPreloaded?"preloaded":await de(this._url)}init(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}};var qt;Ut=A([Xe("PrebidBootstrap"),P(),O("design:paramtypes",[Dt])],Ut),function(e){e.refresh="refresh",e.lazy="lazy",e.session="session",e.crossDomain="crossdomain",e.highSequence="highsequence"}(qt||(qt={}));let Ht=class extends lt{constructor(e){super(),this.abgroup=e,this._choices=[{choice:0,weight:20},{choice:.4,weight:20},{choice:.5,weight:20},{choice:.6,weight:20},{choice:.7,weight:20}],this.key="lzflr",this._result=this.run(),this.abgroup.set(this.key,0===this._result?"off":(100*this._result).toString())}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Ht.prototype,"run",null),Ht=A([Xe("LazyLoadFloorsExperiment"),I(),O("design:paramtypes",[nt])],Ht);let Gt=class extends lt{constructor(e){super(),this.abgroup=e,this._choices=[{choice:"rubi",weight:3},{choice:"fm",weight:0},{choice:"cm",weight:48},{choice:"fb",weight:48},{choice:"none",weight:1}],this.key="flr",this._result=this.run(),this.abgroup.set(this.key,this._result)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",String)],Gt.prototype,"run",null),Gt=A([Xe("RubiconFloorsExperiment"),I(),O("design:paramtypes",[nt])],Gt);let $t=class{constructor(e,t){this._rubiconFloorsExperiment=e,this.abGroup=t,this._result={rubicon:!1,legacy:!1,fallback:!1,fm:!1,percentile:{lazy:0}},this.run()}get result(){return this._result}_enableRubiconFloors(){this._result.rubicon=!0}_enableLegacyFloors(){this._result.legacy=!0,this._result.percentile.lazy=new Ht(this.abGroup).result}run(){const e="fb"===this._rubiconFloorsExperiment.result,t="fm"===this._rubiconFloorsExperiment.result;e||t?(this._result.fallback=e,this._result.fm=t,this._enableRubiconFloors(),this._enableLegacyFloors()):"rubi"===this._rubiconFloorsExperiment.result?this._enableRubiconFloors():"cm"===this._rubiconFloorsExperiment.result&&this._enableLegacyFloors()}};$t=A([Xe("FloorsExperimentHandler"),I(),O("design:paramtypes",[Gt,nt])],$t);let Wt=class{constructor(e){this._enabledFloorsExperiments=e,this.floorsDataReady=new R,this._cmFloorsConfig={},this._cmPriority=[qt.refresh,qt.lazy,qt.session],this._establishedFloorsTypes={}}saveFloorConfig(e,t,i){this._establishedFloorsTypes[e]=t,this._cmFloorsConfig[e]=i}clearFloorConfig(e){this._establishedFloorsTypes[e]&&(delete this._establishedFloorsTypes[e],delete this._cmFloorsConfig[e])}get establishedFloorsTypes(){return this._establishedFloorsTypes}get cmFloorsConfig(){return this._cmFloorsConfig}get cmPriority(){return this._cmPriority}get floorsExperiment(){return this._enabledFloorsExperiments.result}};Wt=A([I(),O("design:paramtypes",[$t])],Wt);let Kt=class{constructor(e,t){this._adthrive=e,this._floorsConfig=t,this._floorsFinishedTimeout=3e3}resolveFloorsData(e){return Promise.resolve(e).then((e=>(this._floorsConfig.floorsData=e,this._floorsConfig.floorsDataReady.emit(),e)))}async get(){const e=this._adthrive.deliveryFeatures||this._adthrive.experiments;if(!e||!e.includes(St.rubiconFloors)||!this._floorsConfig.floorsExperiment.rubicon)return Promise.resolve({});const t=window.adthrive.floors;if(t)return this.resolveFloorsData(t);const i=new Promise((e=>{window.adthrive.rubiconFloorsFinished=e})),s=new Promise((e=>{setTimeout((()=>{e({})}),this._floorsFinishedTimeout)}));return Promise.race([i,s]).then((()=>this.resolveFloorsData(window.adthrive.floors)))}};Kt=A([Xe("FloorsBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Wt])],Kt);let Qt=class{constructor(e){this._bootstrapConfig=e,this._url="https://unpkg.com/web-vitals@2.0.1/dist/web-vitals.umd.js"}load(){return this._bootstrapConfig.webVitalsEnabled?this.import():Promise.resolve(!0)}async import(){return await de(this._url,!1,!0)}};Qt=A([Xe("WebVitalsBootstrap"),P(),O("design:paramtypes",[Dt])],Qt);let Xt=class{constructor(e,t){this.bootstrapConfig=e,this.eventBus=t,this._frame=document.createElement("iframe"),t.marmaladeResponseLoaded.on((e=>{const t=e.recencyFrequency;t&&this.addIframeToPage().then((()=>{D.event("RecencyAndFrequncyIFrameManager","recencyFrequencyIframeAdded"),this.setMcmpData(t)}))}))}get recencyFrequencyIframeLocation(){return`${this.bootstrapConfig.baseUrl}/html/rnf.html`}addIframeToPage(){let e;const t=new Promise((t=>{e=t}));this._frame.onload=()=>{e()};try{this._frame.src=this.recencyFrequencyIframeLocation,this._frame.id="adthrive-mcmp",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(e){D.error("RecencyAndFrequncyIFrameManager","addIframeToPage","Failed to append rnf iframe to document",e)}return t}setMcmpData(e){try{if(this._frame.contentWindow){const t=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",(e=>{const i=e.data,s=i.message;e.origin===t&&"mcmpDataResponse"===s&&this.eventBus.recencyFrequencyDataSet.emit(i.mcmpData)})),this._frame.contentWindow.postMessage({message:"setMcmpData",mcmpData:e},t)}}catch(e){D.error("RecencyAndFrequncyIFrameManager","setMcmpData","Failed to set mcmp data",e)}}};Xt=A([Xe("RecencyAndFrequncyIFrameManager"),I(),O("design:paramtypes",[Dt,jt])],Xt);let Yt=class{constructor(e,t,i,s,r,n,o,a){this.bootstrapConfig=e,this._amazon=t,this._waitForAmazon=i,this._gam=s,this._marmalade=r,this._prebid=n,this._floors=o,this._webVitals=a,x.resolve(Xt)}async run(){const e=this._run((()=>this._floors.get()),bt.Floors);let t,i;return[this._prebid].forEach((e=>{this._run((()=>this.bootstrapConfig.bootstrapLoaders[e.type]=e.load()),e.type).catch((()=>!1))})),Promise.all([this._run((()=>this._amazon.load()),bt.Amazon,{wait:this._waitForAmazon.result}),this._run((()=>this._gam.load()),bt.GAM,{required:!0}).catch((e=>this.gamFallback(e&&e.result,t,i))),i=this._run((()=>this._marmalade.get()),bt.Marmalade),e,this._run((()=>(t=this._webVitals.load(),t)),bt.WebVitals),Y()]).then((([e,t,i,s,r])=>({amazon:e,gam:t,marmalade:i,floors:s,webvitals:r})))}gamFallback(e,t,i){return this.bootstrapConfig.gptLibFailed=!0,this.bootstrapConfig.webVitalsEnabled||(this.bootstrapConfig.webVitalsEnabled=!0,t=this._webVitals.load()),t.then((()=>i.then((t=>Promise.reject({message:e,marmalade:t})))))}_run(e,t,{required:i=!1,wait:s=!0}={}){const r=ke(),n=e=>{const i=ke(),s={result:e,started:r,finished:i,duration:i-r};return this.bootstrapConfig.bootstrapResult.set(t,s),s},o=e().then(n,(e=>(D.error("Bootstrap","_start error",t,e),i?Promise.reject(n(e.message)):n(e.message))));return s?o:Promise.resolve(n(!0))}};Yt=A([P(),O("design:paramtypes",[Dt,Vt,zt,Lt,Nt,Ut,Kt,Qt])],Yt);let Jt=class{constructor(e,t){this.pubId="4fbba76f-7987-4fa2-9733-c27eb3a2170b",this.adUnitExclusions=new Set(["Interstitial"]);const i=t.amazonEnabled;this.enabled=i&&!0===e.siteAds.adOptions.amazonUAM}};Jt=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Dt])],Jt);let Zt=class{constructor(){this.nonCompliantBidders=["unruly"],this.ccpaNotApplicable="1---",this.ccpaOptIn="1YNY",this.ccpaOptOut="1YYY",this.required=De(),this.consentChange=new R,this.required=De(),this.privacyString=Oe("usprivacy"),this.gpcEnabled=localStorage.getItem("adthrive_gpc"),this.userOptedOut=this.privacyString===this.ccpaOptOut,this.required&&(this.comscoreParams=this.userOptedOut?"0":"1")}get enabled(){return this.required&&this.userOptedOut}};Zt=A([I(),O("design:paramtypes",[])],Zt);class ei{constructor(){this._clsGlobalData=window.adthriveCLS}get enabled(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&We(this._clsGlobalData.siteAds)}set siteAds(e){this._clsGlobalData.siteAds=e}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(e){this._clsGlobalData.disableAds=e}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(e){this._clsGlobalData.enabledLocations=e}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(e){this._clsGlobalData.injectedFromPlugin=e}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(e){this._clsGlobalData.injectedFromSiteAds=e}overwriteInjectedSlots(e){this._clsGlobalData.injectedSlots=e}setInjectedSlots(e){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[],this._clsGlobalData.injectedSlots.push(e)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedVideoSlots(e){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[],this._clsGlobalData.injectedVideoSlots.push(e)}get injectedVideoSlots(){return this._clsGlobalData.injectedVideoSlots}setInjectedScripts(e){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[],this._clsGlobalData.injectedScripts.push(e)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(e,t,i=!1){this._clsGlobalData.experiments=this._clsGlobalData.experiments||{},this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{};(i?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[e]=t}getExperiment(e,t=!1){const i=t?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments;return i&&i[e]}setWeightedChoiceExperiment(e,t,i=!1){this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{},this._clsGlobalData.siteExperimentsWeightedChoice=this._clsGlobalData.siteExperimentsWeightedChoice||{};(i?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[e]=t}getWeightedChoiceExperiment(e,t=!1){var i,s;const r=t?null===(i=this._clsGlobalData)||void 0===i?void 0:i.siteExperimentsWeightedChoice:null===(s=this._clsGlobalData)||void 0===s?void 0:s.experimentsWeightedChoice;return r&&r[e]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(e){this._clsGlobalData.videoDisabledFromPlugin=e}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(e){this._clsGlobalData.targetDensityLog=e}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}}let ti=class{constructor(e){this.connectionTargeting=[];const{bucket:t,plugin:i,branch:s,debug:r,deployment:n,baseUrl:o,fastAds:a,siteAds:l,styleUrl:d,invalidTraffic:c,integration:h,deliveryVersion:p}=e,{tablet:u,desktop:g}=l.breakpoints;this.baseUrl=o,this.branch=s,this.bucket=t,this.plugin=i,this.fastAds=a,this.invalidTraffic=c,this.deployment=n,this.domain=window.location.host,this.device=X(u,g),this.pageUrl=window.location.href,this.pageviewKey=st(),this.querystring=Ie(),this.sessionKey=((e,t,i,s=!0,r)=>{const n=ie(e,i,s);if(null!==n)return n;const o=t();return se(e,o),r&&r(),o})("session_key",(()=>st()),18e5,!0,(()=>localStorage.removeItem("adthrive_fpv"))),this.styleUrl=d,this.debug=r,this.integration=h,this.deliveryVersion=p;const _=window.performance.getEntriesByType("resource").filter((e=>e.name.includes("ads.min.js")&&e.name.includes("ads.adthrive.com")))[0];if(_){const e=Math.round(_.responseEnd-_.startTime).toString();"NaN"!==e&&(this.adsMinLoadDuration=[e])}const m=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);m&&(m.effectiveType&&this.connectionTargeting.push(`niet:${m.effectiveType}`),this.downlink=m.downlink||m.bandwidth,this.downlink&&this.connectionTargeting.push(`dl:${this.downlink}`))}};ti=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],ti);const ii=250;let si=class{constructor(e,t,i,s){if(this.adthrive=e,this._context=t,this._abgroup=i,this._clsOptions=s,this._defaultHeight=ii,this._map=new Map([["phone",{Content:ii,Recipe:ii,Header:50,Footer:50,Below_Post:ii,Sidebar:ii}],["tablet",{Content:ii,Recipe:ii,Header:90,Footer:90,Below_post:ii,Sidebar:ii}],["desktop",{Content:ii,Recipe:ii,Header:90,Footer:90,Below_Post:ii,Sidebar:ii}]]),this._clsOptions.enabled){const e="clsins_ss",t=this._clsOptions.getExperiment(e);t&&this._abgroup.set(e,String(t));["cls-insertion","cls-header-insertion","cls-disable-ads"].filter((e=>{if(this._clsOptions.branch){const t="script[id^="+`${e}-${this._clsOptions.branch}`+"]";return document.querySelectorAll(t).length>0}return!1})).forEach((e=>this._clsOptions.setInjectedScripts(e)))}}get enabled(){return this.adthrive.siteAds.adOptions.clsOptimizedAds||this._clsOptions.enabled&&(this._clsOptions.injectedFromPlugin||this._clsOptions.injectedFromSiteAds)}getDivHeight(e,t){const i=this._map.get(t);return i&&i[e]||this._defaultHeight}setStyle(e,t){("Footer"===t||this.enabled&&this._map.get(this._context.device)[t])&&(e.style.minHeight=`${this._map.get(this._context.device)[t]}px`,e.classList.add("adthrive-ad-cls"))}};si=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ti,nt,ei])],si);let ri=class{constructor(e){this.tracker=!0,this.gdpr=!1,this._footerMessages=new Map([["FamilyParenting","CafeMedia Family & Parenting"],["Finance","CafeMedia Finance"],["Food","CafeMedia Food"],["General","CafeMedia"],["HomeDIY","CafeMedia Home/DIY"],["Lifestyle","CafeMedia Lifestyle"],["Pets","CafeMedia Pets"],["Tech","CafeMedia Tech"],["Travel","CafeMedia Travel"]]);const{comscore:t,comscoreFooter:i}=e.siteAds.adOptions;this.category=K(t,"General"),this.comscore=K(i,!0),this.comscoreMessage=K(this._footerMessages.get(this.category),"CafeMedia")}};ri=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],ri);let ni=class{constructor(e,t){this.adthrive=e,this._clsOptions=t,this.all=!1,this.content=!1,this.recipe=!1,this.video=!1,this.locations=new Set,this.reasons=new Set,this._clsDivs=["adthrive-below-post","adthrive-content","adthrive-header","adthrive-recipe","adthrive-sidebar"],(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))&&(this.all=!0,this.reasons.add("all_email"),this.removeClsDivs(this._clsDivs));try{document.body.classList.contains("adthrive-disable-all")&&(this.all=!0,this.reasons.add("all_plugin")),document.body.classList.contains("adthrive-disable-content")&&(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin")),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag")),document.body.classList.contains("adthrive-disable-video")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_plugin"))}catch(e){D.error("DisableAds","constructor",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t});const i="classList"in document.body;D.error("BodyDeviceClassComponent","init.supportBody",{supportBody:i})}}removeClsDivs(e){if(!this._clsOptions.enabled)return;const t=this._clsOptions.injectedSlots.filter((t=>{const i=t.element;let s=!1;return i.parentNode&&e.some((e=>i.classList.contains(e)))&&(i.parentNode.removeChild(i),s=!0),!s}));this._clsOptions.overwriteInjectedSlots(t)}disableAllAds(e){e&&!je(e)||(this.all=!0,this.reasons.add("all_page"),this.removeClsDivs(this._clsDivs))}disableContentAds(e){e&&!je(e)||(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_page"),this.removeClsDivs(["adthrive-content","adthrive-recipe"]))}disablePlaylistPlayers(e){e&&!je(e)||(this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"),this.adthrive.siteAds.videoPlayers?this._removeCLSVideoPlayers():this._removeLegacyCLSVideoPlayers())}_removeCLSVideoPlayers(){var e;null===(e=this.adthrive.siteAds.videoPlayers)||void 0===e||e.players.filter((e=>"stickyPlaylist"===e.type||"sekindo"===e.type)).map((e=>document.querySelectorAll(`#cls-video-container-${e.playlistId}`))).forEach((e=>{var t;for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}))}_removeLegacyCLSVideoPlayers(){var e,t;const i=null===(e=this.adthrive.siteAds.video)||void 0===e?void 0:e.jwPlaylistId;if(i){const e=document.querySelectorAll(`#cls-video-container-${i}`);for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}}urlHasEmail(e){if(!e)return!1;return null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(e)}};ni=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ei])],ni);let oi=class extends dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Pt.StickyOutstream,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){if(1!==this._choices.length)return D.error("StickyOutstreamSiteExperiment","run","Bernoulli Trial should have exactly one variant",this._choices),!1;const e=this._choices[0].weight/100;return new pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("StickyOutstreamSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],oi.prototype,"run",null),oi=A([Xe("StickyOutstreamSiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt])],oi);let ai=class extends lt{constructor(e){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.shouldUseCoreOverride=!1,this.key="smhd100";const t=window.adthriveCLS,i=t&&t.experiments;this._result=i&&this.key in i?i[this.key]:this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.1).get()}};ai=A([Xe("RemoveLargeSizeExperiment"),I(),O("design:paramtypes",[nt])],ai);let li=class extends lt{constructor(e){super(),this._result=!1,this.key="smad300",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(1).get()}};li=A([Xe("RemoveLargeSidebarExperiment"),I(),O("design:paramtypes",[nt])],li);const di=e=>{const{tablet:t,desktop:i}=e.siteAds.breakpoints,s=X(t,i),r=e.siteAds,n=r.video&&r.video.partners&&r.video.partners.stickyOutstream,o=r.videoPlayers&&r.videoPlayers.partners&&r.videoPlayers.partners.stickyOutstream,a=n||o,l=e.siteAds.adOptions,d=a||l&&l.stickyOutstream;return!!(d&&("phone"===s?d.mobile.enabled:d.desktop.enabled))};let ci=class{constructor(e,t,i,s,r){this._adthrive=e,this._adOptions=t,this._removeLargeSizeExperiment=i,this._removeLargeSidebarExperiment=s,this._stickyOutstreamSiteExperiment=r,this._stickyOutstreamEnabled=!1,this._supportedSizes=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]],this._interstitialSupportedSizes=[[320,50],[300,250],[300,600],[336,280],[320,480],[1,1]],this._adUnitAuctionPriorityMap=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",5],["Sidebar_sticky",6],["Below Post",7]]),this._adUnitSettingTemplate={auctionPriority:8,autosize:!0,classNames:[],devices:["tablet","phone","desktop"],elementSelector:"body",every:1,lazy:!1,lazyMax:0,lazyMaxDefaulted:!1,location:"",max:1,pageSelector:"",position:"beforebegin",sequence:1,sizes:[],skip:0,spacing:0,special:[],sticky:!1,stickyOverlapSelector:""};const{tablet:n,desktop:o}=e.siteAds.breakpoints;this._device=X(n,o),this._adthriveSiteAds=this._adthrive.siteAds,this._adthriveOptions=this._adthriveSiteAds.adOptions,this.setupStickyOutstreamSettings(),this.setupInterstitialSettings()}setupStickyOutstreamSettings(){const e=this._adthriveSiteAds.video&&this._adthriveSiteAds.video.partners&&this._adthriveSiteAds.video.partners.stickyOutstream,t=this._adthriveSiteAds.videoPlayers&&this._adthriveSiteAds.videoPlayers.partners&&this._adthriveSiteAds.videoPlayers.partners.stickyOutstream,i=e||t,s=di(this._adthrive);if(this._stickyOutstreamSiteExperiment.enabled?this._stickyOutstreamSiteExperiment.result:s){this._stickyOutstreamEnabled=!0;const e={...this._adUnitSettingTemplate};e.sticky=!0,e.location="Video_StickyOutstream",e.position="beforeend",e.pageSelector=K(i&&i.blockedPageSelectors,""),e.sizes="phone"===this._device?[[300,50]]:[[300,250]],this._stickyOutstreamSettingTemplate=e}}setupInterstitialSettings(){const e={...this._adUnitSettingTemplate},t=this._adthriveOptions;e.location="Interstitial",e.sizes=this.interstitalSupportedSizes(),e.pageSelector=K(t.interstitialBlockedPageSelectors||t.mobileInterstitialBlockedPageSelectors,""),this._interstitialSettingTemplate=e}get(){this._adthrive.siteAds.adUnits.sort(((e,t)=>{const i="Sidebar"===e.location&&e.sticky?`${e.location}_sticky`:e.location,s="Sidebar"===t.location&&t.sticky?`${t.location}_sticky`:t.location;return this._adUnitAuctionPriorityMap.get(i)-this._adUnitAuctionPriorityMap.get(s)}));const e=this._adthrive.siteAds.adUnits.filter((e=>void 0!==e.dynamic&&e.dynamic.enabled)).map((e=>{const t=e.location.replace(/\s+/g,"_");return{auctionPriority:this._adUnitAuctionPriorityMap.get(t)||8,location:t,sequence:K(e.sequence,1),sizes:this.onlySupportedAdSizes(e.adSizes).filter((t=>this.excludeTallSizes(e.location,t,e.sequence,e.adSizes))),devices:e.devices,pageSelector:K(e.dynamic.pageSelector,"").trim(),elementSelector:K(e.dynamic.elementSelector,"").trim(),position:K(e.dynamic.position,"beforebegin"),max:Math.floor(K(e.dynamic.max,0)),spacing:K(e.dynamic.spacing,0),skip:Math.floor(K(e.dynamic.skip,0)),every:Math.max(Math.floor(K(e.dynamic.every,1)),1),classNames:e.dynamic.classNames||[],sticky:"Footer"===e.location||e.sticky,stickyOverlapSelector:K(e.stickyOverlapSelector,"").trim(),autosize:e.autosize,special:K(e.targeting,[]).filter((e=>"special"===e.key)).reduce(((e,t)=>e.concat(...t.value)),[]),lazy:K(e.dynamic.lazy,!1),lazyMax:K(e.dynamic.lazyMax,2),lazyMaxDefaulted:0!==e.dynamic.lazyMax&&!e.dynamic.lazyMax}}));return this._stickyOutstreamEnabled&&this._stickyOutstreamSettingTemplate&&e.push(this._stickyOutstreamSettingTemplate),this._adOptions.interstitial.gam&&this._interstitialSettingTemplate&&e.push(this._interstitialSettingTemplate),e}onlySupportedAdSizes(e){return this._supportedSizes.filter((([t,i])=>e.some((([e,s])=>t===e&&i===s))))}interstitalSupportedSizes(){return this._interstitialSupportedSizes.filter((([e,t])=>"phone"===this._device||"320,50"!=`${e},${t}`))}excludeTallSizes(e,[t,i],s,r){return!("Footer"===e&&"phone"===this._device&&320===t&&100===i||"Header"===e&&i>100&&this._removeLargeSizeExperiment.result||"Sidebar"===e&&9!==s&&r.some((([e,t])=>t<=300))&&i>300&&this._removeLargeSidebarExperiment.result)}};ci=A([P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Mt,ai,li,oi])],ci);let hi=class extends lt{constructor(e){super(),this.key="ebho",this._choices=[{choice:{name:"ix_ebda",weight:.5}},{choice:{name:"medianet_ebda",weight:5}},{choice:{name:"openx_ebda",weight:1}},{choice:{name:"pubmatic_ebda",weight:1}},{choice:{name:"rhythmone_ebda",weight:1}},{choice:{name:"rubicon_ebda",weight:7}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"smart_ebda",weight:1}},{choice:{name:"sonobi_ebda",weight:1}},{choice:{name:"sovrn_ebda",weight:10}},{choice:{name:"emx_ebda",weight:1}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:36}},{choice:{name:"yieldmo_ebda",weight:10}}],this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new ut(e);return t.totalWeight,t.get()}};hi=A([Xe("EBHOExperiment"),I(),O("design:paramtypes",[nt])],hi);let pi=class{constructor(e){this.bidder=e.result}};pi=A([I(),O("design:paramtypes",[hi])],pi);let ui=class extends lt{constructor(e){super(),this._choices=[{choice:!0},{choice:!1}],this.key="loglevel",this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.01).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ui.prototype,"run",null),ui=A([Xe("EventLogExperiment"),I(),O("design:paramtypes",[nt])],ui);let gi=class{constructor(e){this.enabled=e.result}};gi=A([I(),O("design:paramtypes",[ui])],gi);let _i=class{constructor(){this.elements=[]}};_i=A([I()],_i);let mi=class{constructor(e){this.prefix="AdThrive",this.networkCode="18190176",this._gamMCMEnabled=K(e.siteAds.adOptions.gamMCMEnabled,!1),this._gamMCMChildNetworkCode=K(e.siteAds.adOptions.gamMCMChildNetworkCode,""),this.account=this._gamMCMEnabled&&""!==this._gamMCMChildNetworkCode?`${this.networkCode},${this._gamMCMChildNetworkCode}`:this.networkCode;const t=new Set(["service","bidding","dynamicVersion"]);this.targeting=e.siteAds.targeting.filter((({key:e})=>!t.has(e))).map((({key:e,value:t})=>("boolean"==typeof t&&(t=String(t)),{key:e,value:t})))}};mi=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],mi);let yi=class extends lt{constructor(){super(),this._result=[],this.shouldUseCoreOverride=!1,this._choices=[{choice:"33across",threshold:.1},{choice:"appnexus",threshold:.01},{choice:"brightroll",threshold:.01},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.1},{choice:"criteo",threshold:.01},{choice:"grid",threshold:.005},{choice:"gumgum",threshold:.01},{choice:"kargo",threshold:.01},{choice:"ix",threshold:.005},{choice:"nativo",threshold:.3},{choice:"openx",threshold:.01},{choice:"pubmatic",threshold:.01},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.1},{choice:"teads",threshold:.01},{choice:"triplelift",threshold:.005},{choice:"ttd",threshold:.01},{choice:"undertone",threshold:.01},{choice:"unruly",threshold:.01},{choice:"verizon",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"yieldmo",threshold:.01}],this.key="hbho",this._result=this.run(),this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new pt(e).get())).map((({choice:e})=>e))}};yi=A([Xe("HBHOExperiment"),I(),O("design:paramtypes",[])],yi);let fi=class{constructor(e){this.bidders=e.result}};fi=A([I(),O("design:paramtypes",[yi])],fi);let vi=class{constructor(e){this.adthrive=e,this.apiReady=new R,this.optIn=new R}get enabled(){return K(this.adthrive.siteAds.adOptions.liveRampATS,!1)}};vi=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],vi);let bi=class extends lt{constructor(e){super(),this._choices=[{choice:{name:"id5Id",weight:5}},{choice:{name:"identityLink",weight:1}},{choice:{name:"unifiedId",weight:1}},{choice:{name:"sharedId",weight:1}},{choice:{name:"criteo",weight:1}},{choice:{name:"connectId",weight:5}}],this.key="idho",this._result=this.run(),e.set(this.key,this.result?this.result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new ut(e);return t.totalWeight,t.get()}};bi=A([Xe("IDHOExperiment"),I(),O("design:paramtypes",[nt])],bi);let Si=class{constructor(e){this.subModule=e.result}};Si=A([I(),O("design:paramtypes",[bi])],Si);let Ci=class{constructor(){this.refreshSlots=new Set(["Footer"]),this.ajaxType=!1}};Ci=A([I()],Ci);let wi=class extends lt{constructor(e){super(),this.key="lzbpvp",this._choices=[{choice:.75,weight:40},{choice:.25,weight:20},{choice:.125,weight:20},{choice:0,weight:20}],this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],wi.prototype,"run",null),wi=A([Xe("BelowPostMarginExperiment"),I(),O("design:paramtypes",[nt])],wi);let Ei=class extends lt{constructor(e){super(),this.key="lzcvp",this._choices=[{choice:2,weight:60},{choice:1.25,weight:10},{choice:1,weight:10},{choice:.75,weight:10},{choice:.5,weight:10}],this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Ei.prototype,"run",null),Ei=A([Xe("ContentMarginExperiment"),I(),O("design:paramtypes",[nt])],Ei);let ki=class extends lt{constructor(e){super(),this.key="lzhb",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.9).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ki.prototype,"run",null),ki=A([Xe("LZHBExperiment"),I(),O("design:paramtypes",[nt])],ki);let xi=class{constructor(e,t,i){this._defaultViewPort=2,this._infScrollViewPort=4,this.googleLazyLoadSettings={disabled:{fetchMarginPercent:-1,renderMarginPercent:-1,mobileScaling:-1},gam:{fetchMarginPercent:600,renderMarginPercent:100,mobileScaling:1.5},hbMarginPercent:700},this.lzhb=e.result,this.viewports={content:t.result,belowPost:i.result,default:this._defaultViewPort,infScroll:this._infScrollViewPort}}};xi=A([I(),O("design:paramtypes",[ki,Ei,wi])],xi);let Ti=class{constructor(e){this._url="https://ats.rlcdn.com/ats.js",this._config={placementID:111,storageType:"localStorage",detectionType:"direct",logging:"error"},this.enabled=K(e.siteAds.adOptions.liveRampATS,!0)}};Ti=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ti);const Pi={AS:{location:"Sponsor_Tile",selectors:["h1.entry-title","h1.post-title","h1.posttitle","h1.story-title","h1.heading",".post > .post-title"],size:[[300,55],[234,60]],position:"afterend",classNames:["adthrive-sponsor-tile"],find:e=>document.querySelector(e),requireSelectorMatch:!0,lazy:!1},NR:{location:"Native_Recipe",sequence:1,selectors:['[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="recipeIngredient"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="ingredients"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] .ingredient:last-child',".wprm-recipe-ingredient:last-child","#recipe .ingredients",".wprm-recipe-ingredients-container",".tasty-recipe-ingredients",'[class*="recipe"] [class*="ingredient"] ul li:last-child','[class*="create-ingredient"] ul li:last-child','[class*="tasty-recipe"] [class*="ingredient"] p:last-child',"[class*=recipe] [class*=recipe] ~ p + ul li:last-child"],size:[[225,65],[234,60],[300,100]],position:"afterend",classNames:["adthrive-native-recipe"],find:e=>{const t=document.querySelectorAll(e);return t.length>0?t[t.length-1]:null},requireSelectorMatch:!1,lazy:!0}};let Ii=class{constructor(e,t){if(this.loaded=!1,this.campaigns=[],this.siteCodes=[],this.adViewability=[],this.speed=navigator.connection&&"4g"===navigator.connection.effectiveType?"1":"0",this.adUnits=Pi,this.selectorMatches=[],this.ortbSegments=new Map,this.rfMcmpCodes=[],this.rfIabCodes=[],this.rfDataProcessed=new R,this.hvThreshold=.6,this.mcmp=[],this.flpProdIds=[],this.activeCampaign=e=>{const t=Date.now();return t>=this.parseDate(e.start_date).getTime()&&t<=this.parseDate(e.expiration_date).getTime()},e){this.loaded=!0;const{host:i,page:s,adViewability:r}=e;if(i&&i.length&&(this.siteCodes=i[0].site_codes||[]),s&&s.length){const e=s[0].campaigns||[];this.campaigns=e.filter(this.activeCampaign)}r&&r.length&&(this.adViewability=r);const n=this.getMcmpFlpIds();this.mcmp=n.mcmp||[],this.flpProdIds=n.flpProdIds||[],this.ortbSegments=this.campaigns.reduce(((e,t)=>{const i=new RegExp(/(^iab(a|c))_(\d*)/),[,s,,r]=i.exec(t.dfp_id)||[];if(r){const t=e.get(s)||[];t.push({id:r}),s&&t.length&&e.set(s,t)}return e}),new Map);const o=e=>{e.forEach((e=>{const t=e[0],i=e[1];if("_A"===t.substring(t.length-2))this.rfMcmpCodes.push([t,i]);else{const e=t.substring(t.indexOf("_")+1);this.rfIabCodes.push([e,i]),this.ortbSegments.set("iaba",[{id:e}])}})),this.rfDataProcessed.emit()};t.recencyFrequencyDataSet.on(o,{handleEventsAlreadyEmitted:!0})}}isValidMarmaladeCampaign(e){const t=e.dfp_id.substring(0,2),i=this.adUnits[t];if(i){const e=i.find(i.selectors.join(","));return e&&this.selectorMatches.push({adUnit:i,match:e}),!i.requireSelectorMatch||!!e}return!0}getMcmpFlpIds(){return this.campaigns.filter((e=>this.isValidMarmaladeCampaign(e))).reduce(((e,t)=>(e.mcmp.push(t.dfp_id),t.flp_prod_id&&e.flpProdIds.push(...JSON.parse(t.flp_prod_id)),e)),{mcmp:[],flpProdIds:[]})}parseDate(e){const t=e.split("-");return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]))}};Ii=A([I(),M(0,T("RecencyFrequencyMarmaladeResponse")),O("design:paramtypes",[Object,jt])],Ii);let Ai=class{constructor(e){var t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,x,T,P;this._biddersConfig=new Map,null===(t=null==e?void 0:e.core)||void 0===t||t.partners.forEach((e=>{if(e.bidder_name){const t=K(e.enabled,!0),i=new Map;e.cpm&&e.cpm.length&&e.cpm.forEach((e=>{i.set(e.name,e)})),this._biddersConfig.set(e.bidder_name,{bidder_name:e.bidder_name,enabled:t,cpmMap:i})}}));const I=e.siteAds.adOptions;this.appNexus=I.appNexus&&K(null===(i=this._biddersConfig.get("appnexus"))||void 0===i?void 0:i.enabled,!0),this.brightroll=K(I.brightroll,!0)&&K(null===(s=this._biddersConfig.get("brightroll"))||void 0===s?void 0:s.enabled,!0),this.colossus=K(I.colossus,!0)&&K(null===(r=this._biddersConfig.get("colossus"))||void 0===r?void 0:r.enabled,!0),this.conversant=I.conversant&&K(null===(n=this._biddersConfig.get("conversant"))||void 0===n?void 0:n.enabled,!1),this.criteo=K(I.criteo,!0)&&K(null===(o=this._biddersConfig.get("criteo"))||void 0===o?void 0:o.enabled,!0),this.indexExchange=I.indexExchange&&K(null===(a=this._biddersConfig.get("ix"))||void 0===a?void 0:a.enabled,!0),this.gumgum=K(I.gumgum,!0)&&K(null===(l=this._biddersConfig.get("gumgum"))||void 0===l?void 0:l.enabled,!0),this.kargo=K(I.kargo,!0)&&K(null===(d=this._biddersConfig.get("kargo"))||void 0===d?void 0:d.enabled,!0),this.mediaGrid=K(I.mediaGrid,!0)&&K(null===(c=this._biddersConfig.get("grid"))||void 0===c?void 0:c.enabled,!0),this.mediaGridVideo=K(I.mediaGrid,!0)&&K(null===(h=this._biddersConfig.get("gridvid"))||void 0===h?void 0:h.enabled,!0),this.nativo=K(I.nativo,!0)&&K(null===(p=this._biddersConfig.get("nativo"))||void 0===p?void 0:p.enabled,!0),this.openx=I.openx&&K(null===(u=this._biddersConfig.get("openx"))||void 0===u?void 0:u.enabled,!0),this.pubMatic=K(I.pubMatic,!0)&&K(null===(g=this._biddersConfig.get("pubmatic"))||void 0===g?void 0:g.enabled,!0),this.rubicon=K(I.rubicon,!0)&&K(null===(_=this._biddersConfig.get("rubicon"))||void 0===_?void 0:_.enabled,!0),this.sharethrough=K(I.sharethrough,!0)&&K(null===(m=this._biddersConfig.get("sharethrough"))||void 0===m?void 0:m.enabled,!0),this.spotx=K(null===(y=this._biddersConfig.get("spotx"))||void 0===y?void 0:y.enabled,!0),this.teads=K(I.teads,!0)&&K(null===(f=this._biddersConfig.get("teads"))||void 0===f?void 0:f.enabled,!0),this.roundel=K(I.roundel,!0)&&K(null===(v=this._biddersConfig.get("roundel"))||void 0===v?void 0:v.enabled,!0),this.telaria=K(null===(b=this._biddersConfig.get("telaria"))||void 0===b?void 0:b.enabled,!0),this.thirtyThreeAcross=K(I.thirtyThreeAcross,!0)&&K(null===(S=this._biddersConfig.get("33across"))||void 0===S?void 0:S.enabled,!0),this.tripleLift=K(I.tripleLift,!0)&&K(null===(C=this._biddersConfig.get("triplelift"))||void 0===C?void 0:C.enabled,!0),this.ttd=K(I.theTradeDesk,!0)&&K(null===(w=this._biddersConfig.get("ttd"))||void 0===w?void 0:w.enabled,!0),this.undertone=K(I.undertone,!0)&&K(null===(E=this._biddersConfig.get("undertone"))||void 0===E?void 0:E.enabled,!0),this.unruly=K(I.unruly,!0)&&K(null===(k=this._biddersConfig.get("unruly"))||void 0===k?void 0:k.enabled,!0),this.verizon=K(I.verizon,!0)&&K(null===(x=this._biddersConfig.get("verizon"))||void 0===x?void 0:x.enabled,!0),this.yahoossp=K(I.yahoossp,!0)&&K(null===(T=this._biddersConfig.get("yahoossp"))||void 0===T?void 0:T.enabled,!0),this.yieldmo=K(I.yieldmo,!0)&&K(null===(P=this._biddersConfig.get("yieldmo"))||void 0===P?void 0:P.enabled,!0),this.amazonUAM=I.amazonUAM;const A=e.siteAds.videoPlayers&&e.siteAds.videoPlayers.partners,M=e.siteAds.video&&e.siteAds.video.partners,O=A||M||{};this.video={amazonUAM:K(O.amazonUAM,!0)&&this.amazonUAM,appNexus:K(O.appNexus,!0)&&this.appNexus,colossus:K(O.colossus,!0)&&this.colossus,conversant:K(O.conversant,!1)&&this.conversant,criteo:K(O.criteo,!0)&&this.criteo,gumgum:K(O.gumgum,!0)&&this.gumgum,indexExchange:K(O.indexExchange,!0)&&this.indexExchange,mediaGridVideo:K(O.mediaGrid,!0)&&this.mediaGridVideo,openx:K(O.openx,!0)&&this.openx,pubMatic:K(O.pubMatic,!0)&&this.pubMatic,rubicon:K(O.rubicon,!0)&&this.rubicon,sharethrough:K(O.sharethrough,!0)&&this.sharethrough,spotx:K(O.spotx,!0)&&this.spotx,telaria:K(O.telaria,!1)&&this.telaria,thirtyThreeAcross:K(O.thirtyThreeAcross,!0)&&this.thirtyThreeAcross,tripleLift:K(O.tripleLift,!0)&&this.tripleLift,ttd:K(O.ttd,!0)&&this.ttd,unruly:K(O.unruly,!0)&&this.unruly,yahoossp:K(O.yahoossp,!0)&&this.yahoossp,kargo:K(O.kargo,!0)&&this.kargo}}getBidderConfig(e){return K(this._biddersConfig.get(e),{bidder_name:e,enabled:!0,cpmMap:new Map})}};Ai=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ai);let Mi=class extends lt{constructor(e){super(),this.key="SensOffExperiment",this._choices=[],this._sensCategories=K(e.siteAds.adOptions.sensitiveCategories,[]),this._choices=this._sensCategories.map((e=>({choice:[e]}))),this._result=this.run()}get result(){return this._result}run(){return this._sensCategories.filter((()=>new pt(.01).get()))}};Mi=A([Xe("SensOffExperiment"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Mi);let Oi=class{constructor(e,t){this._sensOffExperiment=t,this.id=e.siteAds.siteId,this.name=e.siteAds.siteName,this.verticals=e.siteAds.adOptions.verticals,this.sensitiveCategories=K(e.siteAds.adOptions.sensitiveCategories,[]),this.sensCategoriesOff=this._sensOffExperiment.result,this.filteredSensitiveCategories=this.sensitiveCategories.filter((e=>-1===this.sensCategoriesOff.indexOf(e))),this.breakpoints=e.siteAds.breakpoints,this.style=e.style}};Oi=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Mi])],Oi);let zi=class extends lt{constructor(e){super(),this._choices=[{choice:"both",weight:90},{choice:"client",weight:9},{choice:"server",weight:1}],this.key="magnitedr",this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],zi.prototype,"run",null),zi=A([Xe("RubiconExperiment"),I(),O("design:paramtypes",[nt])],zi);let Ri=class extends lt{constructor(e){super(),this._choices=[{choice:"both",weight:99},{choice:"client",weight:1},{choice:"server",weight:0}],this.key="tripleliftdr",this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ri.prototype,"run",null),Ri=A([Xe("TripleLiftExperiment"),I(),O("design:paramtypes",[nt])],Ri);let Bi=class extends lt{constructor(e,t,i){super(),this._result=["33across","brightroll","col_ss","conversant","pubm_ss","unruly","yieldmo"],this.shouldUseCoreOverride=!1,this._choices=[{choice:"appnexus",threshold:.05},{choice:"grid",threshold:.9},{choice:"gumgum",threshold:.02},{choice:"openx",threshold:.01}],this.key="pbs2s",this.addToS2SBidders("tripl_ss",t),this.addToS2SBidders("rubi_ss",i);const s=this.run();this._choices.forEach((({choice:t})=>{const i=t;s.includes(i)?(this._result.push(i),e.set("pbs2s_"+i,"on")):e.set("pbs2s_"+i,"off")}))}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new pt(e).get())).map((({choice:e})=>e))}addToS2SBidders(e,t){"both"!==t.result&&"server"!==t.result||this._result.push(e)}};Bi=A([Xe("S2SExperiment"),I(),O("design:paramtypes",[nt,Ri,zi])],Bi);let Di=class extends lt{constructor(e){super(),this._choices=[{choice:0,weight:85},{choice:1,weight:5},{choice:500,weight:5},{choice:1e3,weight:5}],this.key="adt",this._result=this.run(),e.set(this.key,this._result.toString())}get result(){return this._result}run(){return new ut(this._choices).get()}};Di=A([Xe("AuctionDelayExperiment"),I(),O("design:paramtypes",[nt])],Di);let Vi=class{constructor(e,t,i,s){this._gam=i,this._site=s,this.deals=[],this.targetingKeys=["ADOMAIN","AD_ID","BIDDER","CACHE_ID","CACHE_HOST","DEAL","FORMAT","PRICE_BUCKET","SIZE","SOURCE","UUID","INTERSTITIAL"],this.sendAllBidsTargetingKeys=this.targetingKeys.filter((e=>!["ADOMAIN","BIDDER","INTERSTITIAL"].includes(e))),this.interstitialAdUnitCode=`gpt_unit_/${this._gam.account}/AdThrive_Interstitial_1/${this._site.id}_0`,this.s2s=this.s2s={bidders:e.result},this.auctionDelay=t.result}};Vi=A([I(),O("design:paramtypes",[Bi,Di,mi,Oi])],Vi);const Li=e=>{const t=e.substring(13).split(".").map((e=>parseInt(e)));return{major:t[0],minor:t[1],patch:t[2]}},Fi=(e,t)=>{const i=Li(e),s=Li(t);return!(i.major>s.major)&&(i.major<s.major||!(i.minor>s.minor)&&(i.minor<s.minor||!(i.patch>s.patch)&&(i.patch<=s.patch||void 0)))};let ji=class{constructor(e){this.adthrive=e,this.enabled=this.isEnabled(),this.settings=e.siteAds.adDensityLayout}isEnabled(){const e=window,t=e.adthrive&&e.adthrive.plugin,i=e.adthriveCLS,s=i&&i.experiments,r=K(this.adthrive.siteAds.adDensityEnabled,!0),n=!(!s||!("clsins_ss"in s))||!(!t||!Fi("adthrive-ads-1.1.0",t));return!!(this.adthrive.siteAds.adDensityLayout&&r&&n)}};ji=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],ji);let Ni=class extends lt{constructor(e,t){super(),this._choices=[],this.shouldUseCoreOverride=!1,this.key="ito";const i=Ui(t);this.key=i,this._choices=Hi[i].map(qi),this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new ut(this._choices).get()}};Ni=A([Xe("InitialTimeoutExperiment"),I(),O("design:paramtypes",[nt,ti])],Ni);const Ui=e=>{const t=(e=>{const t=e.downlink;return void 0===t?"unknown":t<10?"slow":"fast"})(e);if("desktop"===e.device)switch(t){case"fast":return"ito_df";case"slow":return"ito_ds";case"unknown":return"ito_dn"}else switch(t){case"fast":return"ito_mf";case"slow":return"ito_ms";case"unknown":return"ito_mn"}},qi=e=>({choice:e[0],weight:e[1]}),Hi={ito_df:[[2e3,10],[2100,15],[2200,50],[2300,15],[2400,10]],ito_ds:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]],ito_dn:[[2400,10],[2500,15],[2600,50],[2700,15],[2800,10]],ito_mf:[[2400,10],[2500,15],[2600,50],[2700,15],[2800,10]],ito_ms:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]],ito_mn:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]]};let Gi=class{constructor(e){this.initialBidsRequest=e.result,this.refreshBidsRequest=5e3}};Gi=A([I(),O("design:paramtypes",[Ni])],Gi);let $i=class{constructor(){this._data={}}set(e){this._data={...this._data,...e}}get(){return 0!==Object.keys(this._data).length?this._data:void 0}getByKey(e){return this._data[e]}clear(){this.set({})}};$i=A([Xe("UserPageDataLoggingStore"),I()],$i);let Wi=class{constructor(e){this._userPageDataLoggingStore=e,this.loggingData=new R,this._maxTimeOnPage=36e5,this._listeners=[],this._callbacks=new Set,this._requestSent=!1,setTimeout((()=>{this._callbacks.forEach((e=>this._executeCallback(e))),this.cleanup()}),this._maxTimeOnPage)}_executeCallback(e){e(),this._callbacks.delete(e),0===this._callbacks.size&&this.logUserPageData()}setUserPageData(e){e&&this._userPageDataLoggingStore.set(e)}logUserPageData(){this._requestSent||(D.fetchEvent("UserPageDataLoggingComponent","logUserData",this._userPageDataLoggingStore.get()),this._requestSent=!0,this.cleanup())}addCallbackToQueue(e,t){this._callbacks.add(t),e.forEach((e=>{this._listeners.push(e.on((()=>this._executeCallback(t))))}))}cleanup(){this._listeners.forEach((e=>{e()})),this._listeners=[],this._callbacks.clear()}};Wi=A([Xe("UserPageDataLoggingEvents"),I(),O("design:paramtypes",[$i])],Wi);const Ki=()=>{((e,t)=>{var i;const s=e||navigator.userAgent,r=t||navigator.vendor;if(!U(s,r))return!1;const n=(null===(i=/ Version\/(1\d)\.(\d+)/.exec(s))||void 0===i?void 0:i.slice(-2))||[],o="14"===n[0],a="15"===n[0]&&+n[1]<4;return o||a})()&&window.addEventListener("beforeunload",(()=>{window.addEventListener("visibilitychange",(e=>{e.stopImmediatePropagation()}),!0)}),!0)};let Qi=class{constructor(){this.beforeUnload=new R,this.pageHide=new R,this.resize=new R,this.scroll=new R,this.visibilityChange=new R,this.addEventListener("beforeunload",this.beforeUnload),this.addEventListener("pagehide",this.pageHide),this.addEventListener("resize",this.resize),this.addEventListener("scroll",this.scroll),this.addEventListener("visibilitychange",this.visibilityChange,document),Ki()}setupOnceEvent(e,t,i=window){const s=()=>{i.removeEventListener(e,s),t()};i.addEventListener(e,s)}setupOnceEventWithPromise(e,t=window){return new Promise((i=>{const s=r=>(t.removeEventListener(e,s),i(r));t.addEventListener(e,s)}))}addEventListener(e,t,i=window){i.addEventListener(e,(()=>{t.emit()}),!1)}};Qi=A([Xe("PageManager"),I(),O("design:paramtypes",[])],Qi);let Xi=class{constructor(e,t){this._userPageDataLoggingEvent=e,this._pageManager=t,this.started=0,this.loading=0,this.totalTimeOnPage=0,this.bootstrapFinished=0,this.amazonStarted=0,this.amazonFinished=0,this.amazonDuration=0,this.gamStarted=0,this.gamFinished=0,this.gamDuration=0,this.marmaladeStarted=0,this.marmaladeFinished=0,this.marmaladeDuration=0,this.floorsStarted=0,this.floorsFinished=0,this.floorsDuration=0,this.prebidStarted=0,this.prebidFinished=0,this.prebidDuration=0,this.webVitalsStarted=0,this.webVitalsFinished=0,this.webVitalsDuration=0,this.started=ke(),"visible"===document.visibilityState&&(this.timeOnPage=this.started),this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged())),e.loggingData.on((()=>{"visible"===document.visibilityState&&(this.totalTimeOnPage+=ke()-this.timeOnPage)}))}setPrebidTimingData(e){const t=e.get(bt.Prebid);this.prebidStarted=t&&t.started||0,this.prebidFinished=t&&t.finished||0,this.prebidDuration=t&&t.started&&t.finished&&t.finished-t.started||0}get timingData(){return{started:this.started,loading:this.loading,totalTimeOnPage:this.totalTimeOnPage,bootstrapFinished:this.bootstrapFinished,amazonStarted:this.amazonStarted,amazonFinished:this.amazonFinished,amazonDuration:this.amazonDuration,gamStarted:this.gamStarted,gamFinished:this.gamFinished,gamDuration:this.gamDuration,marmaladeStarted:this.marmaladeStarted,marmaladeFinished:this.marmaladeFinished,marmaladeDuration:this.marmaladeDuration,floorsStarted:this.floorsStarted,floorsFinished:this.floorsFinished,floorsDuration:this.floorsDuration,prebidStarted:this.prebidStarted,prebidFinished:this.prebidFinished,prebidDuration:this.prebidDuration,webVitalsStarted:this.webVitalsStarted,webVitalsFinished:this.webVitalsFinished,webVitalsDuration:this.webVitalsDuration,...this.timeOnPage&&{timeOnPage:this.timeOnPage}}}documentVisibilityChanged(){"visible"===document.visibilityState?this.timeOnPage=ke():"hidden"===document.visibilityState&&(this.totalTimeOnPage+=ke()-this.timeOnPage,this.timeOnPage=void 0)}};Xi=A([I(),O("design:paramtypes",[Wi,Qi])],Xi);let Yi=class extends lt{constructor(e){super(),this._choices=[{choice:"ats",weight:1},{choice:"conf",weight:1},{choice:"hawk",weight:1},{choice:"tgtaff",weight:1},{choice:"none",weight:96}],this.key="3pho",this._result=this.run(),e.set(this.key,this.result)}get result(){return this._result}run(){return new ut(this._choices).get()}};Yi=A([Xe("TKHOExperiment"),I(),O("design:paramtypes",[nt])],Yi);let Ji=class{constructor(e){this.tracker=e.result}};Ji=A([I(),O("design:paramtypes",[Yi])],Ji);let Zi=class extends lt{constructor(){super(),this._result=[],this.shouldUseCoreOverride=!1,this._choices=[{choice:"appnexus",threshold:.1},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.01},{choice:"criteo",threshold:.01},{choice:"gridvid",threshold:.01},{choice:"gumgum",threshold:.5},{choice:"ix",threshold:.005},{choice:"openx",threshold:.1},{choice:"pubmatic",threshold:.01},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.01},{choice:"spotx",threshold:.01},{choice:"telaria",threshold:.1},{choice:"triplelift",threshold:.01},{choice:"ttd",threshold:.01},{choice:"unruly",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"kargo",threshold:.01}],this.key="vbho",this._result=this.run(),this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new pt(e).get())).map((({choice:e})=>e))}};Zi=A([Xe("VBHOExperiment"),I(),O("design:paramtypes",[])],Zi);let es=class{constructor(e){this.bidders=e.result}};es=A([I(),O("design:paramtypes",[Zi])],es);let ts=class extends lt{constructor(e){super(),this._choices=[{choice:{name:"chocolate_ebda",weight:5}},{choice:{name:"ix_ebda",weight:5}},{choice:{name:"medianet_ebda",weight:10}},{choice:{name:"openx_ebda",weight:10}},{choice:{name:"pubmatic_ebda",weight:5}},{choice:{name:"rhythmone_ebda",weight:5}},{choice:{name:"rubicon_ebda",weight:5}},{choice:{name:"sonobi_ebda",weight:5}},{choice:{name:"spotx_ebda",weight:1}},{choice:{name:"telaria_ebda",weight:5}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:1}},{choice:{name:"emx_ebda",weight:5}},{choice:{name:"sharethrough_ebda",weight:5}},{choice:{name:"sovrn_ebda",weight:10}},{choice:{name:"yieldmo_ebda",weight:10}}],this.key="vebho",this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new ut(e);return t.totalWeight,t.get()}};ts=A([Xe("VEBHOExperiment"),I(),O("design:paramtypes",[nt])],ts);let is=class{constructor(e){this.bidder=e.result}};is=A([I(),O("design:paramtypes",[ts])],is);let ss=class extends lt{constructor(e){super(),this._choices=[{choice:6e3,weight:5},{choice:4e3,weight:75},{choice:2e3,weight:15},{choice:0,weight:5}],this.key="cbt",this._result=this.run(),6e3===this._result?e.set(this.key,"6s"):4e3===this._result?e.set(this.key,"4s"):2e3===this._result?e.set(this.key,"2s"):0===this._result&&e.set(this.key,"0s")}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ss.prototype,"run",null),ss=A([Xe("CloseButtonTimeoutExperiment"),I(),O("design:paramtypes",[nt])],ss);let rs=class extends lt{constructor(e){super(),this.shouldUseCoreOverride=!1,this._choices=[{choice:{protocols:[1,2,3,4,5,6,7,8],value:"all",scope:"all"},weight:55},{choice:{protocols:[2,3,5,6,7,8],value:"nv1",scope:"all"},weight:15},{choice:{protocols:[1,2,3,5,6,7,8],value:"allr",scope:"limited"},weight:15},{choice:{protocols:[2,3,5,6,7,8],value:"nv1r",scope:"limited"},weight:15}],this.key="proto",this._result=this.run(),e.set(this.key,this._result.value)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],rs.prototype,"run",null),rs=A([Xe("ProtocolsExperiment"),I(),O("design:paramtypes",[nt])],rs);let ns=class extends lt{constructor(e){super(),this._choices=[{choice:5e3,weight:40},{choice:1e4,weight:40},{choice:15e3,weight:20}],this.key="vast_to",this._result=this.run(),5e3===this._result?e.set(this.key,"5s"):1e4===this._result?e.set(this.key,"10s"):15e3===this._result&&e.set(this.key,"15s")}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ns.prototype,"run",null),ns=A([Xe("VastTimeoutExperiment"),I(),O("design:paramtypes",[nt])],ns);let os=class extends dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Pt.RemoveVideoTitleWrapper,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){if(1!==this._choices.length)return D.error("RemoveVideoTitleWrapperSiteExperiment","run","Bernoulli Trial should have exactly one variant",this._choices),!1;const e=this._choices[0].weight/100;return new pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("RemoveVideoTitleWrapperSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],os.prototype,"run",null),os=A([Xe("RemoveVideoTitleWrapperSiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt])],os);let as=class extends lt{constructor(e,t){super(),this._adthrive=e,this._result=!1,this.key="vadv",this._choices=[{choice:!0},{choice:!1}];const i=this._adthrive.siteAds.adOptions.advancePlaylist,s=this._adthrive.siteAds.adOptions.advancePlaylistOptions,r=s?s&&s.playlistPlayer&&s.playlistPlayer.enabled:i;K(r,!0)&&(this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(1).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],as.prototype,"run",null),as=A([Xe("AdvancePlaylistExperiment"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,nt])],as);let ls=class extends lt{constructor(e,t){super(),this._adthrive=e,this._result=!1,this.key="rvadv_ab1",this._choices=[{choice:!0},{choice:!1}];const i=this._adthrive.siteAds,s=i.adOptions.advancePlaylistOptions||{},r=i.videoPlayers;(r&&r.players||[]).filter((e=>"stickyPlaylist"===e.type)).length&&K(s.relatedPlayer&&s.relatedPlayer.enabled,!0)&&(this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(1).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ls.prototype,"run",null),ls=A([Xe("AdvancePlaylistRelatedExperiment"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,nt])],ls);let ds=class extends lt{constructor(e){super(),this.key="reqTo",this._choices=[{choice:1e4,weight:20},{choice:15e3,weight:60},{choice:2e4,weight:20}],this._result=this.run(),1e4===this._result?e.set(this.key,"10"):15e3===this._result?e.set(this.key,"15"):2e4===this._result&&e.set(this.key,"20")}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ds.prototype,"run",null),ds=A([Xe("JwRequestTimeoutExperiment"),I(),O("design:paramtypes",[nt])],ds);let cs=class extends lt{constructor(){super(),this.key="LogAdDurationExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new pt(.03).get()}};cs=A([Xe("LogAdDurationExperiment"),I(),O("design:paramtypes",[])],cs);let hs=class extends lt{constructor(){super(),this.key="LogAdLifeCycleExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new pt(.1).get()}};hs=A([Xe("LogAdLifeCycleExperiment"),I(),O("design:paramtypes",[])],hs);let ps=class extends lt{constructor(e){super(),this.key="pbm",this._choices=[{choice:!0},{choice:!1}],this._map=new Map([[wt.Video_In_Post_ClicktoPlay_SoundOn,[3]],[wt.Video_Collapse_Autoplay_SoundOff,[6]],[wt.Video_Coll_SOff_Smartphone,[6]],[wt.Video_Individual_Autoplay_SOff,[6]]]),this._result=this.run(),this.playbackmethod=this._result?this._map:void 0,e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(1).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ps.prototype,"run",null),ps=A([Xe("PlaybackmethodExperiment"),I(),O("design:paramtypes",[nt])],ps);let us=class extends dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=Pt.VideoAdvancePlaylistRelatedPlayer,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);const s=this._siteExperiments.getVideoPlaylistByType("stickyPlaylist");this.enabled&&this.experimentConfig&&s.length>0&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){if(1!==this._choices.length)return D.error("VideoAdvancePlaylistRelatedPlayerSiteExperiment","run","Bernoulli Trial should have exactly one variant",this._choices),!1;const e=this._choices[0].weight/100;return new pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("VideoAdvancePlaylistRelatedPlayerSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],us.prototype,"run",null),us=A([Xe("VideoAdvancePlaylistRelatedPlayerSiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt])],us);class gs{static getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static shufflePlaylist(e){let t,i,s=e.length;for(;0!==s;)i=Math.floor(Math.random()*e.length),s-=1,t=e[s],e[s]=e[i],e[i]=t;return e}static isMobileLandscape(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches}static playerViewable(e){const t=e.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>t.top+t.height/2&&t.top+t.height/2>0:window.innerHeight>t.top+t.height/2}static playerVisible(e){const t=e.getBoundingClientRect();return window.innerHeight>t.top}static createQueryString(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}static createEncodedQueryString(e){return Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&")}static setMobileLocation(e){return"top-left"===(e=e||"bottom-right")?e="adthrive-collapse-top-left":"top-right"===e?e="adthrive-collapse-top-right":"bottom-left"===e?e="adthrive-collapse-bottom-left":"bottom-right"===e?e="adthrive-collapse-bottom-right":"top-center"===e&&(e=we()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right"),e}}let _s=class{constructor(e,t,i,s,r,n,o,a,l,d){this._adthrive=e,this.players=[],this.instreamAdUnits=new Set([wt.Video_Collapse_Autoplay_SoundOff,wt.Video_Individual_Autoplay_SOff,wt.Video_Coll_SOff_Smartphone,wt.Video_In_Post_ClicktoPlay_SoundOn]),this.closeButtonTimeout=t.result,this.vastTimeout=K(i.result,1e4),this.maxRedirect=8,this.apiValue=[2],this.videoWasClosed=K(ie("video_closed",18e5,!0),!1),this.mobileStickyPlayerOnPage=!1,this.playbackmethod=r.playbackmethod,this.logAdDuration=n.result,this.logAdLifeCycle=o.result,this.jwRequestTimeout=a.result,this.mimeType=navigator.userAgent&&-1===navigator.userAgent.search(/Chrom|firefox/i)?["video/mp4","application/javascript"]:["video/mp4","application/javascript","video/webm"],this.videoProtocols=s.result,this.position={id:1,name:"above"},this.removeVideoTitleWrapper=K(e.siteAds.adOptions.removeVideoTitleWrapper,!1);const c=e.siteAds.videoPlayers;this.footerSelector=K(c&&c.footerSelector,""),this.players=K(c&&c.players.map((e=>(e.mobileLocation=gs.setMobileLocation(e.mobileLocation),e))),[]),this.contextualSettings=c&&c.contextual,this.jwPlaylist=this.getPlayListPlayerVideos(),this.advancePlaylist=this.getAdvancePlaylistConfig(l),this.stickyOutstreamSettings=this._getStickyOutstreamSettings()}setupAdvanceRelatedExperiment(e){const t=x.resolve(us),i=x.resolve(ls),s=this.advancePlaylist.relatedPlayer;if(t.enabled)s.applyToFirst=t.result,s.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&t.result)).catch((()=>Promise.reject().catch((()=>!1))));else{const t=e?s.sticky:s.static,r=t?t.enabled:s.enabled;s.applyToFirst=t?t.applyToFirst:s.applyToFirst,s.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&r&&i.result)).catch((()=>Promise.reject().catch((()=>!1))))}}getPlayListPlayerVideos(){const e=this._adthrive.siteAds.videoPlayers,t=(e&&e.players||[]).filter((e=>"stickyPlaylist"===e.type)),i=t.length&&t[0].playlistId;return i?te(`https://cdn.jwplayer.com/v2/playlists/${i}`):Promise.reject().catch((()=>!1))}getAdvancePlaylistConfig(e){const t=(this._adthrive.siteAds.adOptions.advancePlaylistOptions||{}).relatedPlayer||{};return{playlistPlayer:{enabled:e.result},relatedPlayer:{applyToFirst:K(t.applyToFirst,!0),enabled:K(t.enabled,!0),shouldRun:Promise.reject().catch((()=>!1)),static:t.static,sticky:t.sticky}}}_getStickyOutstreamSettings(){const e=this._adthrive.siteAds.videoPlayers&&this._adthrive.siteAds.videoPlayers.partners&&this._adthrive.siteAds.videoPlayers.partners.stickyOutstream,t=this._adthrive.siteAds.video&&this._adthrive.siteAds.video.partners.stickyOutstream;return K(e||t,{blockedPageSelectors:"",mobile:{enabled:!1},desktop:{enabled:!1},allowForPageWithStickyPlayer:{enabled:!1},allowOnHomepage:!1})}};_s=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ss,ns,rs,ps,cs,hs,ds,as,us])],_s);let ms=class{constructor(e,t,i,s,r){this._videoAdOptions=e,this.apiValue=[2],this.mobileStickyPlayerOnPage=!1,this.playlistPlayerAdded=!1,this.contextualPlayerAdded=!1,this.sekindoPlayerAdded=!1,this.hasJwPlayer=!1,this.preventStickyOutstream=!1,this.hasStickyOutstream=!1,this.footerSelector="",this.removeVideoTitleWrapper=!1,this.instreamAdUnits=new Set([wt.Video_Collapse_Autoplay_SoundOff,wt.Video_Individual_Autoplay_SOff,wt.Video_Coll_SOff_Smartphone,wt.Video_In_Post_ClicktoPlay_SoundOn]);const n=this._videoAdOptions;this.videoProtocols=t.result,this.closeButtonTimeout=i.result,this.vastTimeout=s.result,this.position={id:1,name:"above"},this.maxRedirect=8,this.playbackmethod=n.playbackmethod,this.advancePlaylist=n.advancePlaylist,this.jwPlaylist=n.jwPlaylist,this.setupAdvanceRelatedExperiment=n.setupAdvanceRelatedExperiment,this.contextualSettings=n.contextualSettings,this.mimeType=n.mimeType,this.videoProtocols=n.videoProtocols,this.closeButtonTimeout=n.closeButtonTimeout,this.jwRequestTimeout=n.jwRequestTimeout,this.logAdDuration=n.logAdDuration,this.logAdLifeCycle=n.logAdLifeCycle,this.vastTimeout=n.vastTimeout,this.videoWasClosed=n.videoWasClosed,this.removeVideoTitleWrapper=r.enabled?r.result:n.removeVideoTitleWrapper,this.players=n.players,this.footerSelector=n.footerSelector,this.stickyOutstreamSettings=n.stickyOutstreamSettings}};ms=A([I(),O("design:paramtypes",[_s,rs,ss,ns,os])],ms);let ys=class{constructor(e,t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,T,P,I,A,M,O,z){this.abGroup=e,this.adOptions=t,this.adTypes=i,this.amazon=s,this.ccpa=r,this.clsOptimizedAds=n,this.comscore=o,this.context=a,this.disableAds=l,this.ebho=d,this.impressionLog=c,this.footer=h,this.gam=p,this.gdpr=u,this.hbho=g,this.identityApi=_,this.idho=m,this.infiniteScroll=y,this.lazyLoad=f,this.liveRampAts=v,this.marmalade=b,this.partners=S,this.pubAbGroup=C,this.prebid=w,this.site=E,this.targetDensity=k,this.timeouts=T,this.timing=P,this.tkho=I,this.vbho=A,this.vebho=M,this.video=O,this.dynamicAds=z.get();const R=x.resolve(ei);R.enabled&&(this.clsOptions=R)}};ys=A([I(),O("design:paramtypes",[nt,Mt,Ot,Jt,Zt,si,ri,ti,ni,pi,gi,_i,mi,yt,fi,vi,Si,Ci,xi,Ti,Ii,Ai,ot,Vi,Oi,ji,Gi,Xi,Ji,es,is,ms,ci])],ys);class fs{constructor(e,t,i,s,r,n=!1,o=8,a,l=[],d=!0,c=!1){this.location=e,this.sequence=t,this.sizes=i,this.element=s,this.sticky=r,this.lazy=n,this.auctionPriority=o,this.stickyOverlapSelector=a,this.special=l,this.enabledForAuction=d,this.infinite=c,this.refreshPaused=!1,this.viewableDuration=0,this.outOfViewIO=!0,this.outOfViewGPT=!0,this.alwaysInView=!1,this.displayed=!1,this.refreshCount=0,this.viewability=0,this.highlyViewable=!1,this.servedPrebidBidResponse=void 0}get id(){return this.element.id}get isSticky(){return this.sticky}get hasHighViewability(){return this.sticky||"Recipe"===this.location}setHighlyViewable(e){const t=this.viewability>=Number(e&&e.hvThreshold);this.highlyViewable=this.lazy||t}isHighlyViewable(){return this.highlyViewable||this.lazy||this.refreshCount>0}get isAboveTheFold(){return(e=>{const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,bottom:t.bottom+window.pageYOffset,right:t.right+window.pageXOffset,width:t.right-t.left,height:t.bottom-t.top}})(this.element).top>1e3}hasSize([e,t]){return this.sizes.some((([i,s])=>e===i&&t===s))}get name(){return[this.location,this.sequence].filter(Le).join("_")}get placementMapName(){return"Content"===this.location&&this.sequence&&this.sequence>9?"Content_9":this.name.includes("Below_Post")?"Below_Post":this.name}pushToQueue(e){const t=window.googletag;t&&t.cmd&&t.cmd.push(e)}setViewability(e){e.adViewability.filter((t=>t.speed===e.speed&&window.innerWidth>=t.width[0]&&(!t.width[1]||window.innerWidth<=t.width[1]))).forEach((e=>{Object.keys(e.adUnits).forEach((t=>{t===this.name?this.viewability=e.adUnits[t]:"Content"===this.location&&this.sequence>9?this.viewability=e.adUnits.Content:"Below_Post"===this.location&&this.sequence>1&&(this.viewability=e.adUnits.Below_Post)}))}))}clearTargeting(e){this.googleTagSlot?this.googleTagSlot.clearTargeting(e):D.error("Slot","setTargeting","Attempted to clear targeting before slot was defined",e)}setTargeting(e){this.pushToQueue((()=>{if(this.googleTagSlot){const t=Array.isArray(e)?e:[e];for(const e of t)this.googleTagSlot.setTargeting(e.key,e.value)}else D.error("Slot","setTargeting","Attempted to set targeting before slot was defined",e)}))}setSlotTargetingFlag(e,t,i=!1){const s=()=>{if(this.googleTagSlot){const s=this.googleTagSlot.getTargeting("flag_slot").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.googleTagSlot.setTargeting("flag_slot",[...s,...t.map((t=>`${e}:${t}`))])}};t&&t.length>0&&this.pushToQueue((()=>s()))}getTargeting(e){return this.googleTagSlot?this.googleTagSlot.getTargeting(e):(D.error("Slot","getTargeting","Attempted to get targeting before slot was defined"),[])}getTargetingMap(){if(this.googleTagSlot){const e=this.googleTagSlot;return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}return D.error("Slot","getTargetingMap","Attempted to get targeting before slot was defined"),{}}}let vs=class{constructor(){this.added=new R,this.bidServed=new R,this._slots=new Map}add(e){const t=this.castArray(e);for(const e of t)if(!this._slots.has(e.id)){this._slots.set(e.id,e);try{this.added.emit(e)}catch(e){D.error("Slots","add",e)}}return t}remove(e){const t=this.castArray(e);for(const e of t)this._slots.has(e.id)&&this._slots.delete(e.id)}get(e){return e?this._slots.get(e):[...this._slots.values()]}castArray(e){if("string"==typeof e){const t=this.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}};vs=A([Xe("Slots"),I()],vs);let bs=class{getBidWithBsidForSlot(e,t){const i=e.filter((e=>e.meta&&e.meta.dchain)),s=new RegExp(`${t.location}_${t.sequence}(?!d)`,"i");for(let t=e.length-1;t>=0;t--){const{adUnitCode:r,meta:n}=e[t];if(s.test(r)&&this.getLastBsid(n))return i[t]}}getLastBsid(e={}){const{dchain:t}=e,i=t&&t.nodes||[];for(let e=i.length-1;e>=0;e--)if(i[e].bsid)return i[e].bsid}};bs=A([Xe("DemandChain"),P()],bs);let Ss=class{constructor(){this._elements=[],this._emailProviderOnPage=!1,this.piiManagerReady=new R,this._emailProviders=[{divSelector:'div[id$="-optin"]'},{divSelector:'div[class^="cb-form-group"]'},{divSelector:"div.sumo-form-wrapper.listbuilder-popup"}],this.emailCaptured=new R,this._emailCheckTimeout=1500,this._eventMap=new Map([["mousemove",window],["scroll",window],["mouseleave",document],["om.Campaign.startShow",document]]),this._boundCallEventHandler=this.callCheckEmailProviders.bind(this),this._boundProcessEventHandler=this.processInputChange.bind(this),this.addElementListeners(),this.addEmailProviderListeners()}_captureEmail(e,t){this.emailCaptured.emit({email:e,source:"ecc"})}collectUrlEmailFromUrl(){const e=localStorage.getItem("adt_ei"),t=!!e&&Z(e);t&&this.piiManagerReady.on((()=>{this._captureEmail(t,"collectUrlEmailFromUrl")}))}addEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.addEventListener(t,this._boundCallEventHandler)}))}removeEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.removeEventListener(t,this._boundCallEventHandler)}))}callCheckEmailProviders(e){("mouseleave"!==e.type||e.clientY<=0)&&setTimeout((()=>{this._emailProviderOnPage||this.emailProviderHandler()}),this._emailCheckTimeout)}emailProviderHandler(){for(const e of this._emailProviders){if(document.querySelectorAll(e.divSelector).length){this.removeEmailProviderListeners(),this._emailProviderOnPage=!0,this.addElementListeners();break}}}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll("input[type=text], input[type=email], input[name=email]"))}addElementListeners(){this.setElements();for(const e of this._elements)e.addEventListener("blur",this._boundProcessEventHandler),e.addEventListener("change",this._boundProcessEventHandler)}removeElementListeners(){for(const e of this._elements)e.removeEventListener("blur",this._boundProcessEventHandler),e.removeEventListener("change",this._boundProcessEventHandler)}processInputChange(e){const t=e.target.value,i=Z(t);i&&(this._captureEmail(i,"_processInputChange"),this.removeElementListeners())}};Ss=A([Xe("EmailCaptureHandler"),I(),O("design:paramtypes",[])],Ss);class Cs{addAdUnits(e){this.addToQueue((()=>{pbjs.addAdUnits(e)}))}getPrebidAdUnits(){return window.pbjs&&window.pbjs.adUnits}addToQueue(e){pbjs.que.push(e)}enableAnalytics(e){this.addToQueue((()=>{pbjs.enableAnalytics(e)}))}isPrebidLoaded(){return window.pbjs&&window.pbjs.libLoaded}markWinningBidAsUsed(e){this.addToQueue((()=>{pbjs.markWinningBidAsUsed(e)}))}offEvent(e,t){this.addToQueue((()=>{pbjs.offEvent(e,t)}))}onEvent(e,t){this.addToQueue((()=>{pbjs.onEvent(e,t)}))}refreshUserIds(e,t){this.addToQueue((()=>{pbjs.refreshUserIds(e,t)}))}requestBids(e){this.addToQueue((()=>{pbjs.requestBids(e)}))}setAliasBidder(e,t){this.addToQueue((()=>{pbjs.aliasBidder(e,t)}))}setBidderConfig(e){this.addToQueue((()=>{pbjs.setBidderConfig(e)}))}setBidderSettings(e){this.addToQueue((()=>{pbjs.bidderSettings=e}))}setBidsReceivedFilter(e){this.addToQueue((()=>{pbjs.setBidsReceivedFilter(e)}))}setConfig(e){this.addToQueue((()=>{pbjs.setConfig(e)}))}setTargetingForGPTAsync(e){this.addToQueue((()=>{pbjs.setTargetingForGPTAsync(e)}))}triggerUserSyncs(){this.addToQueue((()=>{pbjs.triggerUserSyncs()}))}registerSignalSources(){this.addToQueue((()=>{pbjs.registerSignalSources()}))}waitForQueue(){return new Promise((e=>{this.isPrebidLoaded()||e(!1),pbjs.que.push((()=>{e(!0)}))}))}getBidResponsesForAdUnitCode(e){return pbjs.getBidResponsesForAdUnitCode(e)}getAdserverTargetingForAdUnitCode(e){return pbjs.getAdserverTargetingForAdUnitCode(e)}getAllPrebidWinningBids(){return pbjs.getAllPrebidWinningBids()}getConfig(e,t){return t?pbjs.getConfig(e,t):pbjs.getConfig(e)}getHighestCpmBids(e){return pbjs.getHighestCpmBids(e)}}var ws;let Es=ws=class{constructor(e,t,i,s,r){this._config=e,this._slots=t,this.emailCapture=i,this._prebidMethods=s,this._demandChain=r,this._started=!1,this.postStartTargetingWhiteList=["bms","pvk","flag","hi_au","abgroup","mcmp"],this.impressionViewable=new R,this.slotOnload=new R,this.slotRenderEnded=new R,this.slotVisibilityChanged=new R,this.slotRequested=new R,this.slotResponseReceived=new R,this.started=new R}init(){this.emailCapture.collectUrlEmailFromUrl(),ws.pushToQueue((()=>{const e=googletag.pubads();e.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0}),e.set("page_url",this._config.context.pageUrl),e.collapseEmptyDivs(),e.enableSingleRequest(),e.disableInitialLoad(),e.setTagForChildDirectedTreatment(0),this._addGamEventListeners()}))}start(){ws.pushToQueue((()=>{googletag.enableServices();try{this.started.emit()}catch(e){D.error("GoogleAdManager","start","started",e)}this._started=!0}))}static pushToQueue(e){googletag.cmd.push(e)}waitForQueue(){return new Promise((e=>{googletag.cmd.push((()=>{e(!0)}))}))}setTargeting(e){const t=(Array.isArray(e)?e:[e]).filter((e=>!(!e.value||!e.value.length)));if(this._started&&t.some((e=>!this.postStartTargetingWhiteList.includes(e.key))))D.error("GoogleAdManager","setTargeting","Attempted to set targeting after started");else for(const e of t)e&&ws.pushToQueue((()=>{googletag.pubads().setTargeting(e.key,e.value)}))}setSlotTargeting(e,t){const i=Array.isArray(e)?e:[e];for(const e of i)e&&ws.pushToQueue((()=>{t.setTargeting(e.key,Array.isArray(e.value)?e.value.join(","):e.value)}))}setTargetingFlag(e,t,i=!1){const s=()=>{const s=googletag.pubads().getTargeting("flag").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.setTargeting({key:"flag",value:[...s,...t.map((t=>`${e}:${t}`))]})};t&&t.length>0&&ws.pushToQueue((()=>s()))}getTargeting(){return googletag.pubads().getTargetingKeys().map((e=>({key:e,value:googletag.pubads().getTargeting(e)})))}getTargetingValuesForKey(e){return googletag.pubads().getTargeting(e)}getTargetingMap(){const e=googletag.pubads();return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}clearTargetingForKey(e){ws.pushToQueue((()=>{googletag.pubads().clearTargeting(e)}))}_getPathname(e){return"Content"===e.location&&e.sequence&&e.sequence>9||"Below_Post"===e.location&&e.sequence&&e.sequence>1?e.location:e.name}defineSlots(e){const{id:t}=this._config.site,{account:i,prefix:s}=this._config.gam;return e.map((e=>{const r=this._getPathname(e),n=`/${i}/${s}_${r}/${t}`,o="Video_StickyOutstream"===e.location?[...e.sizes]:[...e.sizes,"fluid"];return this._setupSlot(e,n,o),e})).filter(Le)}displaySlots(e){ws.pushToQueue((async()=>{const t=googletag.pubads(),i=t.isInitialLoadDisabled();googletag&&!googletag.pubadsReady&&D.error("index","load",new Error(`Unexpected googletag.pubadsReady: ${googletag.pubadsReady}`));let s=[];await this._prebidMethods.waitForQueue().then((e=>{!0===e&&(s=this._prebidMethods.getAllPrebidWinningBids())}));for(const r of e){const e=this._demandChain.getBidWithBsidForSlot(s,r);if(e){const t=this._demandChain.getLastBsid(e.meta);t&&r.googleTagSlot.setTargeting("hb_bsid",t)}googletag.pubads().enableLazyLoad(r.lazy?this._config.lazyLoad.googleLazyLoadSettings.gam:this._config.lazyLoad.googleLazyLoadSettings.disabled),i?t.refresh([r.googleTagSlot]):googletag.display(r.id)}}))}refreshSlots(e){ws.pushToQueue((()=>{googletag.pubads().refresh(e.map((e=>e.googleTagSlot)))}))}clearSlots(e){ws.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.pubads().clear(t)}))}destroySlots(e){ws.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.destroySlots(t)}))}_addGamEventListeners(){this._addEventListener(this.impressionViewable,"impressionViewable"),this._addEventListener(this.slotOnload,"slotOnload"),this._addEventListener(this.slotRenderEnded,"slotRenderEnded"),this._addEventListener(this.slotVisibilityChanged,"slotVisibilityChanged"),this._addEventListener(this.slotRequested,"slotRequested"),this._addEventListener(this.slotResponseReceived,"slotResponseReceived")}_addEventListener(e,t){ws.pushToQueue((()=>{googletag.pubads().addEventListener(t,(t=>{const i=this._slots.get(t.slot.getSlotElementId());if(i)try{e.emit({slot:i,event:t})}catch(e){D.error("GoogleAdManager","addEventListener","emit",e)}}))}))}_setupSlot(e,t,i){const s=googletag.pubads();e.googleTagSlot="Interstitial"===e.location?googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat.INTERSTITIAL):googletag.defineSlot(t,i,e.element.id),e.googleTagSlot?(e.googleTagSlot.addService(s).setTargeting("location",e.location).setTargeting("sequence",String(e.sequence)).setTargeting("id",e.id),(1===e.sequence&&e.isAboveTheFold||"Footer"===e.location)&&e.googleTagSlot.setTargeting("ATF","true"),e.isSticky&&"Video_StickyOutstream"!==e.location&&e.googleTagSlot.setTargeting("sticky","true"),e.special&&e.special.length>0&&e.googleTagSlot.setTargeting("special",e.special),"Sponsor_Tile"===e.location&&e.googleTagSlot.setCollapseEmptyDiv(!0,!0),s.isInitialLoadDisabled()&&googletag.display(e.googleTagSlot)):D.error("GoogleAdManager","defineSlots",`Duplicate ${t}`)}};Es=ws=A([Xe("GoogleAdManager"),I(),O("design:paramtypes",[ys,vs,Ss,Cs,bs])],Es);class ks{get videoEnabled(){return!0}get enabled(){return!0}}let xs=class extends lt{constructor(e){super(),this.key="amzn_hold_disp",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.5).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],xs.prototype,"run",null),xs=A([Xe("AmazonLibraryExperiment"),I(),O("design:paramtypes",[nt])],xs);let Ts=class extends lt{constructor(e){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="tpcapi",N()&&(this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(.95).get()}};Ts=A([Xe("TopicsAPIExperiment"),I(),O("design:paramtypes",[nt])],Ts);let Ps=class{constructor(e,t){this._bootstrapConfig=e,this.topicsDataRecevied=new R,this.topics=[],this._frame=document.createElement("iframe"),this.enabled=!this._bootstrapConfig.isGDPR&&t.result,this.enabled&&this._addIframeToPage().then((()=>{this._setupPostMessaging()}))}get topicsApiIframeLocation(){return`${this._bootstrapConfig.baseUrl}/html/topics.html`}_setupPostMessaging(){try{if(this._frame&&this._frame.contentWindow){const e=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",(t=>{if(t.origin===e&&"adthrive_topics"===t.data.message&&t.data.topics&&t.data.topics.length){this.topics=this.topics.concat(t.data.topics);try{this.topicsDataRecevied.emit(this.topics)}catch(e){D.error("TopicsApiIframeManager","topics","received",e)}}})),this._frame.contentWindow.postMessage({message:"getTopicsApi"},e)}}catch(e){D.error("TopicsApiIframeManager","setupPostMessaging","Failed to set mcmp data",e)}}_addIframeToPage(){let e;const t=new Promise((t=>{e=t}));this._frame.onload=()=>{e()};try{this._frame.src=this.topicsApiIframeLocation,this._frame.id="adthrive-topics-api",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(e){D.error("TopicsApiIframeManager","addIframeToPage","Failed to append iframe to document",e)}return t}};Ps=A([Xe("TopicsApiIframeManager"),I(),O("design:paramtypes",[Dt,Ts])],Ps);let Is=class extends lt{constructor(e){super(),this.key="jwb",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.95).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Is.prototype,"run",null),Is=A([Xe("JwBoostExperiment"),I(),O("design:paramtypes",[nt])],Is);let As=class{constructor(e,t,i,s){this._config=e,this._jwBoostExperiment=t,this._topicsApiIframeManager=i,this._prebidMethods=s,this._data={},this.createOrtbDataObj(),this._config.marmalade.rfDataProcessed.on((()=>{this.createOrtbDataObj(),this._prebidMethods.setConfig({ortb2:this._data})}))}createOrtbDataObj(){this._userSegments=this._getUserSegments(),this._siteSegments=this._getSiteSegments(),this._data={...this._userSegments.length&&{user:{data:this._userSegments}},...this._siteSegments.length&&{site:{content:{data:this._siteSegments}}}}}get data(){return this._data}_getSiteSegments(){return this.buildSegmentData(this._config.marmalade.ortbSegments.get("iabc")||[],6)}_getUserSegments(){const e=this.buildSegmentData(this._config.marmalade.ortbSegments.get("iaba")||[],4),t=this._convertTopicData(this._topicsApiIframeManager.topics);return t.length||this._topicsApiIframeManager.topicsDataRecevied.on((e=>{this._setDelayedTopicsData(this._convertTopicData(e))})),e.concat(t)}_convertTopicData(e){return this.buildSegmentData(e.reduce(((e,t)=>e.concat({id:String(t.topic)})),[]),600,"adthrive.com")}_setDelayedTopicsData(e){this._prebidMethods.addToQueue((()=>{const t=this._prebidMethods.getConfig("ortb2")||{};t.user=t.user||{},t.user.data=t.user.data||[],t.user.data=t.user.data.concat(e),this._prebidMethods.setConfig({ortb2:t})}))}buildSegmentData(e,t,i="cafemedia.com"){return e.length?[{name:i,segment:e,ext:{segtax:t}}]:[]}buildSegmentDataFromArray(e,t,i){return this.buildSegmentData(e.map((e=>({id:e}))),t,i)}addOrtb2ImpExtPrebid(e,t=0){const i={ext:{data:{}}},s=e.ortb2Imp?{...i,...e.ortb2Imp}:i;return t&&(s.ext.prebid={floorMin:t}),s}setOrtb2Imp(e,t,i=!0){if(t)for(const s of Object.keys(e)){i&&t.ext&&t.ext.data?t.ext.data[s]=e[s]:t[s]=e[s]}}_setVideoOrtb2ImpData(e,t){this.setOrtb2Imp({adserver:{name:"gam",adslot:`/${this._config.gam.account}/${this._config.gam.prefix}_${t.name}/${this._config.site.id}`}},e),this._jwBoostExperiment.result&&this.setOrtb2Imp({jwTargeting:t.getJwBoostTargeting()},e)}addOrtb2Imp(e,t=!1,i){const{slot:s,video:r}=e,n=i||{ext:{data:{}}};return r&&this._setVideoOrtb2ImpData(n,r),s&&t&&this.setOrtb2Imp({instl:1},n),s&&s.isHighlyViewable()&&this.setOrtb2Imp({pos:"atf"},n),n}};As=A([I(),O("design:paramtypes",[ys,Is,Ps,Cs])],As);let Ms=class{constructor(e,t,i,s,r,n){this._floorsExperiment=e,this._config=t,this._prebidMethods=i,this._ortb2=s,this._slots=r,this._floorsConfig=n,this._amazonFloors={},this._videoFlagSlot={},this.modelVersionMap=new Map([]),(this._floorsExperiment.result.legacy||this._floorsExperiment.result.rubicon)&&this._prebidMethods.onEvent("auctionEnd",(e=>{this.setFloorTargeting("auctionEnd",e),e.adUnitCodes.forEach((e=>this._floorsConfig.clearFloorConfig(`${window.location.hostname}|${e}`)))}))}setValues(e,t,i){e.values[`${window.location.host}|${t}`]=i>0?i:0}getDefaultFloorConfig(){return{currency:"USD",schema:{fields:["domain","adUnitCode"],delimiter:"|"},values:{}}}setPrebidFloors(e){e.modelGroups.length>0&&this._setPrebidFloors(e)}prioritizeFloorsConfig(e,t){if(!Object.keys(e.values).length)return;let i={...this._floorsConfig.cmFloorsConfig};const s=Object.keys(e.values);for(const r of s){const s=e.values[r],n=this._floorsConfig.establishedFloorsTypes[r],o=n&&this._floorsConfig.cmPriority.indexOf(t)<=this._floorsConfig.cmPriority.indexOf(n);if(!n||o){this._floorsConfig.saveFloorConfig(r,t,s);const e={[r]:s};i={...i,...e}}}return e.values=i,this.setLegacyFloorsConfig(e),e}setLegacyFloorsConfig(e){this._setAmazonFloors(e);const t=this._floorsExperiment.result.fallback,i=this._floorsExperiment.result.fm,s=!t&&this._floorsConfig.floorsData||{floorProvider:"legacy",floorsSchemaVersion:2,modelGroups:[{...e,skipRate:0,modelWeight:100,modelVersion:"legacy"}]};if(i){s.skipRate=0;const t=this.setAdUnitCodeKeys(e.values);this._setAdUnitFloorMin(t)}return this.setPrebidFloors(s),s}_setAdUnitFloorMin(e){var t;(null===(t=pbjs.adUnits)||void 0===t?void 0:t.length)&&pbjs.adUnits.forEach((t=>{const i=e[t.code&&t.code.toLowerCase()];if(i){const e=this._ortb2.addOrtb2ImpExtPrebid(t,i);t.ortb2Imp=e}}))}_setPrebidFloors(e){this._prebidMethods.setConfig({floors:{enforcement:{enforceJS:!1},data:e}})}_setAmazonFloors({values:e,currency:t}){Object.keys(e).forEach((i=>{const s=i.split("|").length&&i.split("|")[1]||i;this._amazonFloors[s]={value:e[i],currency:t||"USD"}}))}getAmazonFloorsBySlotId(e){return this._amazonFloors[e]||this._amazonFloors[e.toLowerCase()]||{}}setAdUnitCodeKeys(e){return Object.keys(e).reduce(((t,i)=>(i.split("|").forEach((s=>{this.verifyAdUnitCode(s)&&(t[s.toLowerCase()]=e[i])})),t)),{})}verifyAdUnitCode(e){const t=!!/AdThrive_/i.exec(e),i=void 0!==[...this._config.video.instreamAdUnits].filter((t=>t.toLowerCase()===e.toLowerCase()))[0];return t||i}getVideoFlagSlot(e){return this._videoFlagSlot[e]}setVideoFlagSlot(e,t={}){return e&&(this._videoFlagSlot[e]=t)}_getTargetingValue(e,t,i){const s=e&&"legacy"===e.floorProvider&&"L",r=e&&e.skipped&&"s",n=e&&this.modelVersionMap.get(e.modelVersion);let o=s||r||`${n}`;const a=t.adUnits[0].ortb2Imp&&t.adUnits[0].ortb2Imp.ext,l=a&&a.prebid&&a.prebid.floorMin;if(i&&this._floorsConfig.floorsData&&l){const i=t.adUnitCodes[0];o=this._getRubiconFloorForAdUnit(e.modelVersion,i)>l?`${n}`:"L"}return o}_getRubiconFloorForAdUnit(e,t){let i=0;const s=this._floorsConfig.floorsData.modelGroups.filter((t=>t.modelVersion===e))[0];if(s){const e=s.values,r=window.location.hostname,n=s.default,o=e["*|*"],a=e[`${r}|*`];i=e[`${r}|${t.toLowerCase()}`]||a||o||n||0}return i}setFloorTargeting(e,t){var i;const s=t.adUnitCodes[0],r=this._slots.get(s),n=null===(i=t.adUnits[0].bids[0])||void 0===i?void 0:i.floorData,o=n&&"auctionEnd"===e?this._getTargetingValue(n,t,this._floorsExperiment.result.fm):"f",a=r&&r.id===s,l=Object.keys(wt).some((e=>wt[e]===s)),d=this.getFloorPrice(t);if(a)return r.setSlotTargetingFlag("fv",[o],!0),void r.setSlotTargetingFlag("hbf",[d.toString()],!0);l&&(this.setVideoFlagSlot(s,{fv:o}),this.setVideoFlagSlot(s,{hbf:d.toString()}))}getFloorPrice(e){return e.bidsReceived[0]&&e.bidsReceived[0].floorData&&e.bidsReceived[0].floorData.floorValue&&e.bidsReceived[0].floorData.floorValue.toFixed(2)||0}};Ms=A([Xe("Floors"),I(),O("design:paramtypes",[$t,ys,Cs,As,vs,Wt])],Ms);class Os{getSupplyChainConfig(e){return{ver:"1.0",complete:1,nodes:[{asi:"cafemedia.com",sid:e,hp:1}]}}}let zs=class extends Ft{constructor(){super(...arguments),this.videoPlayerAdded=new R,this.requestingVideoBids=new R,this.addAPStagSlotBidResponse=new R}};zs=A([I()],zs);let Rs=class extends ks{constructor(e,t,i,s){super(),this._config=e,this._amazonHoldDisplayExperiment=t,this._floors=i,this._videoEventBus=s,this.holdDisplayExperiment=!1,this.videoSlotNames=new Map,this._amazonConfig={pubID:this._config.amazon.pubId,adServer:"googletag",videoAdServer:"DFP",...this._config.ccpa.required&&this._config.ccpa.privacyString&&{params:{us_privacy:this._config.ccpa.privacyString}},schain:(new Os).getSupplyChainConfig(this._config.site.id)}}init(){window.apstag.init(this._amazonConfig),this._config.ccpa.consentChange.on((e=>{this._amazonConfig.params&&e&&(this._amazonConfig.params.us_privacy=e),window.apstag.init(this._amazonConfig)})),this.holdDisplayExperiment=this._amazonHoldDisplayExperiment.result,this.videoSlotNames=this.initVideoSlotMap()}requestBids(e,t=this._config.timeouts.initialBidsRequest-200){const{id:i}=this._config.site,{networkCode:s,prefix:r}=this._config.gam;return new Promise((n=>{Es.pushToQueue((()=>{const o=e.filter((e=>void 0!==e.googleTagSlot&&!this._config.amazon.adUnitExclusions.has(e.location))).map((e=>{const t=this._floors.getAmazonFloorsBySlotId(e.element.id);return{slotID:e.element.id,slotName:`/${s}/${r}_${e.name}/${i}`,sizes:e.sizes,..."Video_StickyOutstream"===e.location&&{mediaType:"video"},...t&&t.value>0&&t.currency&&{floor:{value:Math.ceil(100*t.value),currency:t.currency}}}}));o.length?(window.apstag.fetchBids({slots:o,timeout:t},(()=>{Es.pushToQueue((()=>{window.apstag.setDisplayBids(),n()}))})),this.holdDisplayExperiment||n()):n()}))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest-200)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest-200){return Promise.all(e.map((e=>{const i=this._floors.getAmazonFloorsBySlotId(e.name),s={slotID:this.videoSlotNames.get(e.name),mediaType:"video",...i&&i.currency&&{floor:{value:Math.ceil(100*i.value),currency:i.currency}}};return new Promise((i=>{s?window.apstag.fetchBids({slots:[s],timeout:t},(t=>{t.length>0&&this._videoEventBus.addAPStagSlotBidResponse.legacyEmit({playlistId:e._playlistId,bid:t[0]}),i()})):i()}))}))).then((()=>Promise.resolve())).catch()}initVideoSlotMap(){const e={desktop:new Map([[wt.Video_Collapse_Autoplay_SoundOff,"Sticky_Playlist_Desktop"],[wt.Video_Individual_Autoplay_SOff,"Sticky_Related_Desktop"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Desktop"]]),mobile:new Map([[wt.Video_Coll_SOff_Smartphone,"Sticky_Playlist_Mobile"],[wt.Video_Individual_Autoplay_SOff,"Sticky_Related_Mobile"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Mobile"]])};return be()?e.desktop:e.mobile}get videoEnabled(){return this._config.partners.video.amazonUAM}get enabled(){return void 0!==window.apstag&&this._config.amazon.enabled}};Rs=A([Xe("AmazonAuctionManager"),P(),O("design:paramtypes",[ys,xs,Ms,zs])],Rs);class Bs{get enabled(){return!0}}let Ds=class extends Bs{constructor(e){super(),this._config=e}init(){this.addPrivacyPreferencesFooter()}addPrivacyPreferencesFooter(){this._config.footer.elements.push({order:1,element:'\n      <div class="adthrive-privacy-preferences">\n        <a href="javascript:adthrive.cmd.push(adthrive.showPrivacyPreferences);">Update Privacy Preferences</a>\n      </div>\n    '})}};Ds=A([Xe("GDPRComponent"),P(),O("design:paramtypes",[ys])],Ds);let Vs=class extends Bs{constructor(e,t){super(),this._events=e,this._config=t}init(){D.queueLogs=!0,this.checkConsent().then((e=>{e?(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(e),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):D.disableLogging=!0})).catch((e=>{D.error("init","checkConsentForVendor",e)}))):this.listenForConsentSubmit().catch((e=>{D.error("init","listenForConsentSubmit",e)}))})).catch((e=>{D.error("init","checkConsent",e)}))}checkConsent(){return new Promise((e=>{window.__tcfapi("getTCData",2,((t,i)=>i&&t&&t.tcString?e(t.tcString):e("")))}))}checkConsentForVendor(e,t){return new Promise((i=>{window.__tcfapi("checkConsent",2,((e,t)=>i(!!t&&e)),{data:[{vendorId:e,purposeIds:t}]})}))}listenForConsentSubmit(){return new Promise((e=>{window.__tcfapi("addEventListener",2,((t,i)=>{i&&(t&&"useractioncomplete"===t.eventStatus&&(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(t.tcString),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):(D.disableLogging=!0,D.clearLogQueue(!1))})).catch((e=>{D.error("listenForConsentSubmit","checkConsentForVendor",e)})),window.__tcfapi("removeEventListener",2,(e=>{}),t.listenerId)),e(!0)),e(!1)}))}))}get enabled(){return"function"==typeof window.__tcfapi}};Vs=A([Xe("GDPREnforcementComponent"),P(),O("design:paramtypes",[mt,ys])],Vs);class Ls{}let Fs=class extends lt{constructor(e){super(),this.key="pba",this._choices=[{choice:{name:"roxot",weight:1}},{choice:{name:"rubicon",weight:0}},{choice:{name:"none",weight:99}}],this._result=this.run(),e.set("pba",this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight})));return new ut(e).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],Fs.prototype,"run",null),Fs=A([Xe("AnalyticsExperiment"),I(),O("design:paramtypes",[nt])],Fs);let js=class extends Ls{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._analyticsExperiment=i,this.name="roxot"}init(){if(window.localStorage)try{this._prebidMethods.enableAnalytics({provider:"roxot",options:{publisherIds:["ffcc0e40-07d0-4238-92e4-f711915afb5a"],host:`${this._config.context.bucket}.com`}})}catch(e){D.error("RoxotAnalytics","init - ignored",e)}else D.error("RoxotAnalytics","init",new Error("Disabled roxot because localStorage is undefined"))}get enabled(){var e;return"roxot"===(null===(e=this._analyticsExperiment.result)||void 0===e?void 0:e.name)}};js=A([Xe("RoxotAnalytics"),P(),O("design:paramtypes",[ys,Cs,Fs])],js);let Ns=class extends Ls{constructor(e,t,i){super(),this._rubiconFloorsExperiment=e,this._analyticsExperiment=t,this._prebidMethods=i,this.name="rubicon"}init(){try{this._prebidMethods.enableAnalytics({provider:this.name,options:{accountId:9262,endpoint:"https://prebid-a.rubiconproject.com/event"}})}catch(e){D.error("RubiconAnalytics","init - ignored",e)}}get enabled(){var e;return"rubi"===this._rubiconFloorsExperiment.result||"rubicon"===(null===(e=this._analyticsExperiment.result)||void 0===e?void 0:e.name)}};Ns=A([Xe("RubiconAnalytics"),P(),O("design:paramtypes",[Gt,Fs,Cs])],Ns);class Us extends class{updateBidParams(e,t){}get enabled(){return!0}get videoEnabled(){return!0}get name(){return this.bidderConfig.bidder_name}_addPositionParam(e,t){e.params.position=t}_addPlacementIdParam(e,t){e.params.placementId=t}_addBidLabel(e,t){const i=e.labelAny||[];i.includes(t)||(e.labelAny=i.concat(t))}}{getSlotBidRequests(e){}getVideoSlotBidRequests(e){}getBidRequests(e){return e.reduce(((e,t)=>(e.set(t.id,this.getSlotBidRequests(t)),e)),new Map)}getVideoBidRequests(e){return e.reduce(((e,t)=>(e.set(t.name,this.getVideoSlotBidRequests(t)),e)),new Map)}}var qs;!function(e){e.ThirtyThreeAcross="33across",e.AppNexus="appnexus",e.Colossus="colossus",e.ColossusServer="col_ss",e.Criteo="criteo",e.GumGum="gumgum",e.IndexExchange="ix",e.Kargo="kargo",e.MediaGridVideo="gridvid",e.OpenX="openx",e.Pubmatic="pubmatic",e.PubmaticServer="pubm_ss",e.Roundel="roundel",e.Rubicon="rubicon",e.RubiconServer="rubi_ss",e.Sharethrough="sharethrough",e.Spotx="spotx",e.Telaria="telaria",e.Triplelift="triplelift",e.TripleliftServer="tripl_ss",e.TTD="ttd",e.YahooSSP="yahoossp"}(qs||(qs={}));let Hs=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.ThirtyThreeAcross),this.videoCreativeIds=[["138395447475",qs.ThirtyThreeAcross],["138395937226",qs.ThirtyThreeAcross],["138395937256",qs.ThirtyThreeAcross],["138395937310",qs.ThirtyThreeAcross],["138395937325",qs.ThirtyThreeAcross],["138395447241",qs.ThirtyThreeAcross],["138395937274",qs.ThirtyThreeAcross],["138395937313",qs.ThirtyThreeAcross],["138395937319",qs.ThirtyThreeAcross],["138395937343",qs.ThirtyThreeAcross],["138395937349",qs.ThirtyThreeAcross],["138395937304",qs.ThirtyThreeAcross],["138395937307",qs.ThirtyThreeAcross],["138395937322",qs.ThirtyThreeAcross],["138395937346",qs.ThirtyThreeAcross],["138395445846",qs.ThirtyThreeAcross]],this._bannerProductId="siab",this._videoProductId="instream",this._bannerMap=new Map([["Below_Post","dqjinO_Lqr6i5uaKkv7mNO"],["Content_1","dzqsVw_Lqr6iHHaKlId8sQ"],["Content_2","dGYL36_Lqr6iHHaKlId8sQ"],["Content_3","dPmBLW_Lqr6ikXaKkGJozW"],["Content_4","dYmdO4_Lqr6ikXaKkGJozW"],["Content_5","d73_q4_Lqr6ikfaKlId8sQ"],["Content_6","aeCNc8_Lur6ikfaKlId8sQ"],["Content_7","amEJ90_Lur6ikXaKkGJozW"],["Content_8","avcDUU_Lur6ikXaKkGJozW"],["Content_9","aE0F5q_Lur6iHHaKlId8sQ"],["Footer_1","aMbGkS_Lur6ikXaKkGJozW"],["Header_1","aZCnyg_Lur6ikfaKlId8sQ"],["Header_2","a7S6ye_Lur6ikXaKkGJozW"],["Recipe_1","bfXhLW_Lur6ioMaKkGJozW"],["Recipe_2","bmQVLo_Lur6ikfaKlId8sQ"],["Recipe_3","d7kcPCUhur6yo-aKkGJozW"],["Recipe_4","agAjkaUhyr6yo9aKlId8sQ"],["Sidebar_1","buEy3O_Lur6ikfaKlId8sQ"],["Sidebar_2","bCOsqy_Lur6ikfaKlId8sQ"],["Sidebar_3","bOGvrc_Lur6ikXaKkGJozW"],["Sidebar_4","bW-wb0_Lur6ikfaKlId8sQ"],["Sidebar_5","b8nVxi_Lur6ikXaKkGJozW"],["Sidebar_9","cggK7W_Lur6ikfaKlId8sQ"]]),this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,"a_lKMg0Iar7k8brkHcnlxd"],[wt.Video_Coll_SOff_Smartphone,"b7sKMM0Iar7ikGrkHcnnVW"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"c98www0Iar7ioerkHcnlKl"],[wt.Video_Individual_Autoplay_SOff,"bhUZlu0Ier7ioerkHcnlKl"]])}get enabled(){return this._config.partners.thirtyThreeAcross}get videoEnabled(){const e=this._config;return e.partners.video.thirtyThreeAcross&&!!e.video.playbackmethod}getSlotBidRequests(e){const t=this._bannerMap,i=t.has(e.placementMapName)&&t.get(e.placementMapName);if(i)return[{bidder:this.name,params:{siteId:i,productId:this._bannerProductId}}]}getVideoSlotBidRequests(e){const t=this._videoMap,i=t.has(e.name)&&t.get(e.name);if(i)return[{bidder:this.name,params:{siteId:i,productId:this._videoProductId}}]}};Hs=A([Xe("ThirtyThreeAcrossBidder"),P(),O("design:paramtypes",[ys])],Hs);let Gs=class extends lt{constructor(e){super(),this.key="rmos1",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.01).get()}};Gs=A([Xe("OneVideoStreamExperiment"),I(),O("design:paramtypes",[nt])],Gs);let $s=class extends lt{constructor(e,t){super(),this._result=!1,this.key="rmosnv1",this._choices=[{choice:!0},{choice:!1}],t.video.hasJwPlayer||(this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(.01).get()}};$s=A([Xe("OneVideoStreamNoVideoExperiment"),I(),O("design:paramtypes",[nt,ys])],$s);let Ws=class extends lt{constructor(e,t){super(),this._config=t,this._result=0,this._choices=[{choice:0,weight:33},{choice:1,weight:33},{choice:1.5,weight:34}],this.key="socon";const i=this.run();if(e.set(this.key,i.toString()),void 0!==this._config.context.downlink){const e=this._config.context.downlink;this._result=e<=i?1:0}}get result(){return this._result}run(){return new ut(this._choices).get()}};Ws=A([Xe("OutstreamSOCONExperiment"),I(),O("design:paramtypes",[nt,ys])],Ws);let Ks=class{constructor(e){this._config=e,this._sharedConfig={context:"outstream",mimes:["video/mp4"],api:[2],skip:0,pos:1,protocols:[2,3,5,6,7,8],linearity:1,minduration:0,maxduration:30,playbackmethod:[2]},this._rendererConfig={renderer:{url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:e=>{this._renderer(e)}}};const{desktop:t,tablet:i}=this._config.site.breakpoints;this._stickyOutstreamSize="phone"===X(i,t)?[178,100]:[227,150]}_callANRenderer(e,t,i){const s=this._getOutstreamRendererConfig(t,i);e.renderer.push((()=>{this._callANRenderAd(s,e.adUnitCode)}))}_callANRenderAd(e,t){window.ANOutstreamVideo.renderAd({targetId:t,adResponse:e,rendererOptions:{audioOnMouseover:!1,playerSkin:{topBarColor:"rgba(0,0,0,0.0)",topBarTextColor:"rgba(0,0,0,0.0)"},playVideoVisibleThreshold:1,disableCollapse:{enabled:!1,replay:!1}}})}_renderer(e){let t=e.ad||e.vastXml;const i=-1!==e.adUnitCode.indexOf("StickyOutstream"),s=i?this._stickyOutstreamSize:e.width&&e.height?[e.width,e.height]:[640,480],r=i?"StickyOutstream":"Outstream";t?this._callANRenderer(e,t,s):e.vastUrl&&(t=le(e.vastUrl),t.then((t=>(this._callANRenderer(e,t,s),!0))).catch((e=>(D.error(r,"fetch",{message:e}),!1))))}callANRendererWithUrl(e,t,i=!1){const s=le(e),r=i?"StickyOutstream":"Outstream",n=i?this._stickyOutstreamSize:[640,480];s.then((e=>{const i=this._getOutstreamRendererConfig(e,n);this._callANRenderAd(i,t)})).catch((e=>(D.error(r,"callANRendererWithUrl","fetch",{message:e}),!1)))}get standardOutstreamConfig(){const e={...this._rendererConfig};return e.renderer.backupOnly=!0,{playerSize:[640,480],...this._sharedConfig,...e}}get stickyOutstreamConfig(){return{...this._sharedConfig,...this._rendererConfig,playerSize:this._stickyOutstreamSize}}_getOutstreamRendererConfig(e,t){return{ad:{video:{content:e,player_width:t[0],player_height:t[1]}}}}};Ks=A([P(),O("design:paramtypes",[ys])],Ks);let Qs=class{constructor(e,t,i,s,r){this._config=e,this._gam=t,this._outstream=i,this._oneVideoStreamExperiment=s,this._soconExperiment=r,this._standardOutstreamSlots=["Content_1","Below_Post"],this.oneStreamExpResult=!1}runOneStreamExperiment(){const e=x.resolve($s);this._gam.setTargeting({key:"abgroup",value:this._config.abGroup.groups.join(",")}),this.oneStreamExpResult=e.result,this.oneStreamExpResult&&["Content_3","Content_5","Recipe_1"].forEach((e=>{this._standardOutstreamSlots.push(e)}))}isOutstreamAllowed(){return!this._oneVideoStreamExperiment.result||!this._config.video.hasJwPlayer}outstreamEnabled(e){const t=e.viewability,i=e.refreshCount,s="Video_StickyOutstream"===e.location,r=i>=1||t>=.5||s,n=!s&&this._soconExperiment.result,o=(this._config.adTypes.outstreamEnabled||s)&&this.outstreamSlots.has(e.placementMapName)&&this.isOutstreamAllowed()&&!n;return{outstreamCapable:o,currentlyActive:o&&r}}getMediaType(e){const t={},{slot:i,video:s}=e;if(s&&this._config.video.instreamAdUnits.has(s.name)){const e=this.getInstreamConfig(s);t.video=e}if(i){const e={sizes:i.sizes,...i.isHighlyViewable()&&{pos:1}};"Video_StickyOutstream"!==i.location&&(t.banner=e),this.outstreamEnabled(i).currentlyActive&&(t.video="Video_StickyOutstream"!==i.location?this._outstream.standardOutstreamConfig:this._outstream.stickyOutstreamConfig)}return t}get outstreamSlots(){return new Set(this.getOutstreamEnabledUnits())}getOutstreamEnabledUnits(){return this._config.video.hasStickyOutstream?["Video_StickyOutstream_1"]:this._standardOutstreamSlots}getInstreamConfig(e){var t;return{context:"instream",playerSize:e.size,mimes:this._config.video.mimeType,protocols:this._config.video.videoProtocols.protocols,maxduration:30,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)},...e.collapsible&&{playbackend:3},linearity:1,api:this._config.video.apiValue,w:e.size[0],h:e.size[1],pos:this._config.video.position.id,minduration:1,startdelay:0,placement:1,skip:0}}};Qs=A([I(),O("design:paramtypes",[ys,Es,Ks,Gs,Ws])],Qs);let Xs=class extends Us{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(qs.AppNexus),this.videoCreativeIds=[["138323232312",qs.AppNexus],["138323908966",qs.AppNexus],["138323900998",qs.AppNexus],["138323900548",qs.AppNexus],["138323457386",qs.AppNexus],["138323908963",qs.AppNexus],["138323908960",qs.AppNexus],["138323901004",qs.AppNexus],["138323901001",qs.AppNexus],["138323521089",qs.AppNexus],["138323457473",qs.AppNexus],["138323908969",qs.AppNexus],["138323908957",qs.AppNexus],["138323908954",qs.AppNexus],["138323900995",qs.AppNexus],["138323521092",qs.AppNexus]],this._keywords={keywords:{...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket],Chrome:`${N()}`,Mobile:""+navigator.userAgent&&navigator.userAgent.search(/Mobi/i)>-1,...this._config.site.verticals.length&&{verticals:this._config.site.verticals}}},this.outstreamType=we()?"outstreamMobile":"outstreamDesktop",this._map=new Map([["Below_Post",[{placementId:13036386}]],["Content_1",[{placementId:13036388},{placementId:16808429,adType:this.outstreamType,playback_method:["auto_play_sound_off"]}]],["Content_2",[{placementId:13036389}]],["Content_3",[{placementId:13036391}]],["Content_4",[{placementId:13036393}]],["Content_5",[{placementId:13036394}]],["Content_6",[{placementId:13036396}]],["Content_7",[{placementId:13036398}]],["Content_8",[{placementId:13036399}]],["Content_9",[{placementId:13036400}]],["Footer_1",[{placementId:13036401}]],["Header_1",[{placementId:13036404}]],["Header_2",[{placementId:13036405}]],["Interstitial_1",[{placementId:21240886}]],["Recipe_1",[{placementId:13036406}]],["Recipe_2",[{placementId:13036407}]],["Recipe_3",[{placementId:15014787}]],["Recipe_4",[{placementId:15998791}]],["Sidebar_1",[{placementId:13036408}]],["Sidebar_2",[{placementId:13036409}]],["Sidebar_3",[{placementId:13036410}]],["Sidebar_4",[{placementId:13036411}]],["Sidebar_5",[{placementId:13036412}]],["Sidebar_9",[{placementId:13036416}]],["Video_StickyOutstream_1",[{placementId:22366045}]],[wt.Video_Collapse_Autoplay_SoundOff,[{placementId:15504193,playback_method:["auto_play_sound_off"]}]],[wt.Video_Coll_SOff_Smartphone,[{placementId:15504209,playback_method:["auto_play_sound_off"]}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:15504166,playback_method:["click_to_play"]}]],[wt.Video_Individual_Autoplay_SOff,[{placementId:17947919,playback_method:["auto_play_sound_off"]}]]]),this._playbackmethodMap=new Map([[3,"click_to_play"],[6,"auto_play_sound_off"]])}get enabled(){return this._config.partners.appNexus}get videoEnabled(){return this._config.partners.video.appNexus}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:e})=>!e||this._config.adTypes.has(e))).map((({adType:t,placementId:i,playback_method:s})=>{const r=t===this.outstreamType?{video:{playback_method:s}}:"",n=t===this.outstreamType&&!this._mediaType.outstreamEnabled(e).currentlyActive;return{bidder:this.name,...n?{labelAny:["refresh"]}:{},params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,placementId:i,...r,...e.isHighlyViewable()&&{position:"above"}}}}))}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name))return[{bidder:this.name,params:{...this._keywords,placementId:this._map.get(e.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playback_method:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},frameworks:this._config.video.apiValue}}}]}updateBidParams(e){this._addPositionParam(e,"above")}};Xs=A([Xe("AppNexusBidder"),P(),O("design:paramtypes",[ys,Qs])],Xs);let Ys=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("brightroll"),this._params={publisher:"adthrive"},this._map=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"])}get enabled(){return this._config.partners.brightroll}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}};Ys=A([Xe("BrightRollBidder"),P(),O("design:paramtypes",[ys])],Ys);let Js=class extends Us{constructor(e){super(),this._config=e,this.adapterName="colossusssp",this.bidderConfig=this._config.partners.getBidderConfig(qs.Colossus),this.videoCreativeIds=[["138384629372",qs.Colossus],["138384629375",qs.Colossus],["138384699576",qs.Colossus],["138384629339",qs.Colossus],["138384699561",qs.Colossus],["138384699546",qs.Colossus],["138384629351",qs.Colossus],["138384629381",qs.Colossus],["138384629366",qs.Colossus],["138384629378",qs.Colossus],["138384629384",qs.Colossus],["138384699564",qs.Colossus],["138384629363",qs.Colossus],["138384699582",qs.Colossus],["138384699579",qs.Colossus]],this._desktopBannerMap=new Map([["Below_Post",{id:"318",size:[300,250]}],["Content",{id:"319",size:[300,250]}],["Content_1",{id:"320",size:[300,250]}],["Content_2",{id:"321",size:[300,250]}],["Content_3",{id:"322",size:[300,250]}],["Content_4",{id:"323",size:[300,250]}],["Content_5",{id:"324",size:[300,250]}],["Content_6",{id:"325",size:[300,250]}],["Content_7",{id:"326",size:[300,250]}],["Content_8",{id:"327",size:[300,250]}],["Content_9",{id:"328",size:[300,250]}],["Footer_1",{id:"329",size:[728,90]}],["Header_1",{id:"330",size:[728,90]}],["Header_2",{id:"331",size:[728,90]}],["Recipe_1",{id:"332",size:[300,250]}],["Recipe_2",{id:"333",size:[300,250]}],["Recipe_3",{id:"334",size:[300,250]}],["Recipe_4",{id:"335",size:[300,250]}],["Recipe_5",{id:"336",size:[300,250]}],["Sidebar_1",{id:"337",size:[300,250]}],["Sidebar_2",{id:"338",size:[300,250]}],["Sidebar_3",{id:"339",size:[300,250]}],["Sidebar_4",{id:"340",size:[300,250]}],["Sidebar_5",{id:"341",size:[300,250]}],["Sidebar_9",{id:"342",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post",{id:"343",size:[300,250]}],["Content",{id:"344",size:[300,250]}],["Content_1",{id:"345",size:[300,250]}],["Content_2",{id:"346",size:[300,250]}],["Content_3",{id:"347",size:[300,250]}],["Content_4",{id:"348",size:[300,250]}],["Content_5",{id:"349",size:[300,250]}],["Content_6",{id:"350",size:[300,250]}],["Content_7",{id:"351",size:[300,250]}],["Content_8",{id:"352",size:[300,250]}],["Content_9",{id:"353",size:[300,250]}],["Footer_1",{id:"354",size:[320,50]}],["Header_1",{id:"355",size:[320,50]}],["Header_2",{id:"356",size:[320,50]}],["Recipe_1",{id:"357",size:[300,250]}],["Recipe_2",{id:"358",size:[300,250]}],["Recipe_3",{id:"359",size:[300,250]}],["Recipe_4",{id:"360",size:[300,250]}],["Recipe_5",{id:"361",size:[300,250]}],["Sidebar_1",{id:"362",size:[300,250]}],["Sidebar_2",{id:"363",size:[300,250]}],["Sidebar_3",{id:"364",size:[300,250]}],["Sidebar_4",{id:"365",size:[300,250]}],["Sidebar_5",{id:"366",size:[300,250]}],["Sidebar_9",{id:"367",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,"368"],[wt.Video_Coll_SOff_Smartphone,"369"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"370"],[wt.Video_Individual_Autoplay_SOff,"371"]]);const t=this._bannerMap;this._map=we()?t.mobile:t.desktop}get enabled(){return this._config.partners.colossus}get videoEnabled(){return this._config.partners.video.colossus}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{group_id:t.id,traffic:"banner"}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{group_id:this._videoMap.get(e.name),traffic:"video"}}]}};Js=A([Xe("ColossusBidder"),P(),O("design:paramtypes",[ys])],Js);let Zs=class extends Us{constructor(e){super(),this._config=e,this.adapterName="colossus",this.bidderConfig=this._config.partners.getBidderConfig(qs.ColossusServer),this.videoCreativeIds=[["138399171431",qs.ColossusServer],["138396598194",qs.ColossusServer],["138397072123",qs.ColossusServer],["138397072117",qs.ColossusServer],["138397070791",qs.ColossusServer],["138396598191",qs.ColossusServer],["138397072120",qs.ColossusServer],["138397070788",qs.ColossusServer],["138396598197",qs.ColossusServer],["138396598188",qs.ColossusServer],["138396598158",qs.ColossusServer],["138396598152",qs.ColossusServer],["138397073191",qs.ColossusServer],["138397072102",qs.ColossusServer],["138396598200",qs.ColossusServer],["138396598155",qs.ColossusServer]],this._desktopBannerMap=new Map([["Below_Post",{id:"455",size:[300,250]}],["Content",{id:"456",size:[300,250]}],["Content_1",{id:"457",size:[300,250]}],["Content_2",{id:"458",size:[300,250]}],["Content_3",{id:"459",size:[300,250]}],["Content_4",{id:"460",size:[300,250]}],["Content_5",{id:"461",size:[300,250]}],["Content_6",{id:"462",size:[300,250]}],["Content_7",{id:"463",size:[300,250]}],["Content_8",{id:"464",size:[300,250]}],["Content_9",{id:"465",size:[300,250]}],["Footer_1",{id:"466",size:[728,90]}],["Header_1",{id:"467",size:[728,90]}],["Header_2",{id:"468",size:[728,90]}],["Recipe_1",{id:"469",size:[300,250]}],["Recipe_2",{id:"470",size:[300,250]}],["Recipe_3",{id:"471",size:[300,250]}],["Recipe_4",{id:"472",size:[300,250]}],["Recipe_5",{id:"473",size:[300,250]}],["Sidebar_1",{id:"474",size:[300,250]}],["Sidebar_2",{id:"475",size:[300,250]}],["Sidebar_3",{id:"476",size:[300,250]}],["Sidebar_4",{id:"477",size:[300,250]}],["Sidebar_5",{id:"478",size:[300,250]}],["Sidebar_9",{id:"479",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post",{id:"481",size:[300,250]}],["Content",{id:"482",size:[300,250]}],["Content_1",{id:"483",size:[300,250]}],["Content_2",{id:"484",size:[300,250]}],["Content_3",{id:"485",size:[300,250]}],["Content_4",{id:"486",size:[300,250]}],["Content_5",{id:"487",size:[300,250]}],["Content_6",{id:"488",size:[300,250]}],["Content_7",{id:"489",size:[300,250]}],["Content_8",{id:"490",size:[300,250]}],["Content_9",{id:"491",size:[300,250]}],["Footer_1",{id:"492",size:[320,50]}],["Header_1",{id:"493",size:[320,50]}],["Header_2",{id:"494",size:[320,50]}],["Recipe_1",{id:"495",size:[300,250]}],["Recipe_2",{id:"496",size:[300,250]}],["Recipe_3",{id:"497",size:[300,250]}],["Recipe_4",{id:"498",size:[300,250]}],["Recipe_5",{id:"499",size:[300,250]}],["Sidebar_1",{id:"500",size:[300,250]}],["Sidebar_2",{id:"501",size:[300,250]}],["Sidebar_3",{id:"502",size:[300,250]}],["Sidebar_4",{id:"503",size:[300,250]}],["Sidebar_5",{id:"504",size:[300,250]}],["Sidebar_9",{id:"505",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,"450"],[wt.Video_Coll_SOff_Smartphone,"451"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"452"],[wt.Video_Individual_Autoplay_SOff,"453"]]);const t=this._bannerMap;this._map=we()?t.mobile:t.desktop}get enabled(){return this._config.partners.colossus}get videoEnabled(){return this._config.partners.video.colossus}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{groupId:t.id}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{groupId:this._videoMap.get(e.name)}}]}};Zs=A([Xe("ColossusServerBidder"),P(),O("design:paramtypes",[ys])],Zs);let er=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("conversant"),this._siteId="203587",this._map=new Map([["Below_Post",{tag_id:"8c6e3091"}],["Content",{tag_id:"f4f67b17"}],["Content_1",{tag_id:"9cbc79fd"}],["Content_2",{tag_id:"8fdfa3de"}],["Content_3",{tag_id:"ff6c383c"}],["Content_4",{tag_id:"972f654c"}],["Content_5",{tag_id:"bd1aadb5"}],["Content_6",{tag_id:"ce4f5d6e"}],["Content_7",{tag_id:"d85e90b"}],["Content_8",{tag_id:"f02f4ba"}],["Content_9",{tag_id:"2c01cbc"}],["Footer_1",{tag_id:"1b2dec1"}],["Header_1",{tag_id:"44d21b5"}],["Header_2",{tag_id:"3488dd9"}],["Recipe_1",{tag_id:"f6cf917"}],["Recipe_2",{tag_id:"31d9c43"}],["Recipe_3",{tag_id:"a7b4d19"}],["Recipe_4",{tag_id:"245c673"}],["Recipe_5",{tag_id:"0bf3576"}],["Sidebar_1",{tag_id:"bf73d45"}],["Sidebar_2",{tag_id:"0a57500"}],["Sidebar_3",{tag_id:"cceddcd"}],["Sidebar_4",{tag_id:"872fffd4"}],["Sidebar_5",{tag_id:"a7653e4"}],["Sidebar_9",{tag_id:"517df454"}],[wt.Video_Coll_SOff_Smartphone,{tag_id:"0d0dfda"}],[wt.Video_Collapse_Autoplay_SoundOff,{tag_id:"50331e1d"}],[wt.Video_Individual_Autoplay_SOff,{tag_id:"de9d5670"}],[wt.Video_In_Post_ClicktoPlay_SoundOn,{tag_id:"ab89e3c1"}]])}get enabled(){return this._config.partners.conversant}get videoEnabled(){return this._config.partners.video.conversant}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{tag_id:this._map.get(e.placementMapName).tag_id,site_id:this._siteId}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{tag_id:this._map.get(e.name).tag_id,site_id:this._siteId,mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},position:this._config.video.position.id}}]}};er=A([Xe("ConversantBidder"),P(),O("design:paramtypes",[ys])],er);let tr=class extends Us{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig(qs.Criteo),this.videoCreativeIds=[["138381583896",qs.Criteo],["138381548372",qs.Criteo],["138381548387",qs.Criteo],["138381548384",qs.Criteo],["138381548525",qs.Criteo],["138381548522",qs.Criteo],["138381548516",qs.Criteo],["138381548513",qs.Criteo],["138382062244",qs.Criteo],["138382062241",qs.Criteo],["138382062238",qs.Criteo],["138382062235",qs.Criteo],["138382062232",qs.Criteo],["138382062226",qs.Criteo],["138382062223",qs.Criteo],["138381584697",qs.Criteo]],this.settings={storageAllowed:!0},this._params={networkId:3927},this._map=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"]),this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,"1629631"],[wt.Video_Coll_SOff_Smartphone,"1629630"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"1629629"],[wt.Video_Individual_Autoplay_SOff,"1629401"]]),this._prebidMethods.setConfig({criteo:{fastBidVersion:"none"}})}get enabled(){return this._config.partners.criteo}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}get videoEnabled(){return this._config.partners.video.criteo}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name))return[{bidder:this.name,params:{zoneId:this._videoMap.get(e.name),video:{playbackmethod:(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))||[]}}}]}};tr=A([Xe("CriteoBidder"),P(),O("design:paramtypes",[ys,Cs])],tr);let ir=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.GumGum),this.videoCreativeIds=[["138330842944",qs.GumGum],["138330432527",qs.GumGum],["138330466869",qs.GumGum],["138330842389",qs.GumGum],["138330842452",qs.GumGum],["138330432530",qs.GumGum],["138330432548",qs.GumGum],["138330432551",qs.GumGum],["138330466908",qs.GumGum],["138330842464",qs.GumGum],["138330842470",qs.GumGum],["138330466872",qs.GumGum],["138330842458",qs.GumGum],["138330842461",qs.GumGum],["138330842467",qs.GumGum],["138330842455",qs.GumGum]],this._zoneIds={client:"g95nznmj",s2s:{desktop:"0yo5ozig",tablet:"0yo5ozig",phone:"nedjcoh9"}},this._map=new Map([["Interstitial_1",[{slotId:110743}]],["Footer_1",[]],[wt.Video_Collapse_Autoplay_SoundOff,"glpmwixo"],[wt.Video_Coll_SOff_Smartphone,"5zl85htf"],[wt.Video_Individual_Autoplay_SOff,"8jzhuyj5"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"dtwgesum"]]),this._animatedFooterEnabled=this._config.adTypes.animatedFooter,this._interstitialEnabled=this._config.adOptions.interstitial.prebid,this._contextualAuctionParams=this._config.prebid.s2s.bidders.includes(this.name)?{zone:this._zoneIds.s2s[this._config.context.device]}:{inScreen:this._zoneIds.client}}get enabled(){return this._config.partners.gumgum&&(this._animatedFooterEnabled||this._interstitialEnabled)}get videoEnabled(){return this._config.partners.video.gumgum}getSlotBidRequests(e){const t=this._map.get(e.placementMapName),i="Footer"===e.location&&this._animatedFooterEnabled,s="Interstitial"===e.location;if(t&&(i||s))return[{bidder:this.name,params:{...this._contextualAuctionParams,...s&&{slot:t[0].slotId}}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{video:this._map.get(e.name)}}]}};ir=A([Xe("GumGumBidder"),P(),O("design:paramtypes",[ys])],ir);const sr=new Map([["Below_Post",{siteId:"185759",hvSiteId:"404596"}],["Content_1",{siteId:"185761",hvSiteId:"404597",outstreamSiteId:"820298"}],["Content_2",{siteId:"185762",hvSiteId:"404598"}],["Content_3",{siteId:"185763",hvSiteId:"404599"}],["Content_4",{siteId:"185764",hvSiteId:"404600"}],["Content_5",{siteId:"185765",hvSiteId:"404601"}],["Content_6",{siteId:"185766",hvSiteId:"404602"}],["Content_7",{siteId:"185767",hvSiteId:"404603"}],["Content_8",{siteId:"185768",hvSiteId:"404604"}],["Content_9",{siteId:"185769",hvSiteId:"404605"}],["Footer_1",{siteId:"185770"}],["Header_1",{siteId:"185774",hvSiteId:"404607"}],["Interstitial_1",{siteId:"631834"}],["Recipe_1",{siteId:"185776"}],["Recipe_2",{siteId:"185777",hvSiteId:"404609"}],["Recipe_3",{siteId:"304909"}],["Recipe_4",{siteId:"371523",hvSiteId:"404611"}],["Sidebar_1",{siteId:"185787"}],["Sidebar_2",{siteId:"185788"}],["Sidebar_3",{siteId:"185789"}],["Sidebar_4",{siteId:"185790"}],["Sidebar_5",{siteId:"185791"}],["Sidebar_9",{siteId:"185795"}],["Video_StickyOutstream_1",{siteId:"745167"}]]),rr=new Map([["Below_Post",[{size:[728,90],id:"1_1"},{size:[300,250],id:"1_2"}]],["Content_1",[{size:[728,90],id:"3_1"},{size:[300,250],id:"3_2"},{size:[320,480],id:"3_2"},{size:[320,50],id:"3_4"},{size:[320,100],id:"3_5"},{size:[300,50],id:"3_6"}]],["Content_2",[{size:[728,90],id:"4_1"},{size:[300,250],id:"4_2"},{size:[728,410],id:"4_2"},{size:[320,50],id:"4_4"},{size:[320,100],id:"4_5"},{size:[300,50],id:"4_6"}]],["Content_3",[{size:[300,250],id:"5_1"},{size:[320,50],id:"5_2"},{size:[320,100],id:"5_3"},{size:[300,50],id:"5_4"}]],["Content_4",[{size:[300,250],id:"6_1"},{size:[320,50],id:"6_2"},{size:[320,100],id:"6_3"},{size:[300,50],id:"6_4"}]],["Content_5",[{size:[300,250],id:"7_1"},{size:[320,50],id:"7_2"},{size:[320,100],id:"7_3"},{size:[300,50],id:"7_4"}]],["Content_6",[{size:[300,250],id:"8_1"},{size:[320,50],id:"8_2"},{size:[320,100],id:"8_3"},{size:[300,50],id:"8_4"}]],["Content_7",[{size:[300,250],id:"9_1"},{size:[320,50],id:"9_2"},{size:[300,50],id:"9_3"}]],["Content_8",[{size:[300,250],id:"10_1"},{size:[320,50],id:"10_2"},{size:[300,50],id:"10_3"}]],["Content_9",[{size:[300,250],id:"11_1"},{size:[320,50],id:"11_2"},{size:[300,50],id:"11_3"}]],["Footer_1",[{size:[728,90],id:"12_1"},{size:[970,90],id:"12_2"},{size:[320,50],id:"12_3"},{size:[320,100],id:"12_4"},{size:[300,50],id:"12_5"}]],["Header_1",[{size:[728,90],id:"15_1"},{size:[970,90],id:"15_2"},{size:[970,250],id:"15_3"},{size:[320,50],id:"15_4"},{size:[320,100],id:"15_5"},{size:[300,50],id:"15_6"}]],["Interstitial_1",[{size:[300,600],id:"36_1"},{size:[336,280],id:"36_2"},{size:[320,480],id:"36_3"},{size:[300,250],id:"36_4"},{size:[320,50],id:"36_5"}]],["Recipe_1",[{size:[300,250],id:"17_1"},{size:[320,50],id:"17_3"},{size:[320,100],id:"17_4"},{size:[300,50],id:"17_5"}]],["Recipe_2",[{size:[300,250],id:"18_1"},{size:[320,50],id:"18_3"},{size:[320,100],id:"18_4"},{size:[300,50],id:"18_5"}]],["Recipe_3",[{size:[300,250],id:"42_1"},{size:[320,50],id:"42_3"},{size:[320,100],id:"42_4"},{size:[300,50],id:"42_5"}]],["Recipe_4",[{size:[300,250],id:"43_1"},{size:[320,50],id:"43_3"},{size:[320,100],id:"43_4"},{size:[300,50],id:"43_5"}]],["Sidebar_1",[{size:[300,250],id:"27_1"},{size:[300,600],id:"27_2"},{size:[300,1050],id:"27_3"},{size:[160,600],id:"27_4"},{size:[300,50],id:"27_5"}]],["Sidebar_2",[{size:[300,250],id:"28_1"},{size:[300,600],id:"28_2"},{size:[160,600],id:"28_3"},{size:[300,50],id:"28_4"}]],["Sidebar_3",[{size:[300,250],id:"29_1"},{size:[300,600],id:"29_2"},{size:[160,600],id:"29_3"},{size:[300,50],id:"29_4"}]],["Sidebar_4",[{size:[300,250],id:"30_1"},{size:[300,600],id:"30_2"},{size:[160,600],id:"30_3"},{size:[300,50],id:"30_4"}]],["Sidebar_5",[{size:[300,250],id:"31_1"},{size:[300,600],id:"31_2"},{size:[160,600],id:"31_3"},{size:[300,50],id:"31_4"}]],["Sidebar_9",[{size:[300,250],id:"35_1"},{size:[300,600],id:"35_2"},{size:[300,1050],id:"35_3"},{size:[160,600],id:"35_4"},{size:[300,50],id:"35_5"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"48_1",sizeOverride:[227,150]},{size:[320,50],id:"48_2",sizeOverride:[178,100]}]]]),nr=new Map([[wt.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"185255",id:"44_1"}]],[wt.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"321341",id:"45_1"}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"385287",device:"desktop",id:"46_1"},{size:[400,225],siteId:"385288",device:"mobile",id:"46_2"}]],[wt.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"385285",device:"desktop",id:"47_1"},{size:[400,225],siteId:"385286",device:"mobile",id:"47_2"}]]]);let or=class extends Us{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._mediaType=i,this._bidderName=qs.IndexExchange,this._device=be()?"desktop":"mobile",this._hasLargeFormatSiteCode=this._config.marmalade.siteCodes.includes("MRLOI_22"),this._largeFormatSizes=this._hasLargeFormatSiteCode?"desktop"===this._device?[[728,410]]:[[320,480]]:[],this.bidderConfig=this._config.partners.getBidderConfig(qs.IndexExchange),this.videoCreativeIds=[["138323461889",qs.IndexExchange],["138365130553",qs.IndexExchange],["138323602520",qs.IndexExchange],["138323911414",qs.IndexExchange],["138365130307",qs.IndexExchange],["138323648223",qs.IndexExchange],["138323911009",qs.IndexExchange],["138364758402",qs.IndexExchange],["138323523396",qs.IndexExchange],["138364703774",qs.IndexExchange],["138323464748",qs.IndexExchange],["138364758405",qs.IndexExchange],["138323911423",qs.IndexExchange],["138365130310",qs.IndexExchange],["138323911420",qs.IndexExchange],["138365130313",qs.IndexExchange],["138323911411",qs.IndexExchange],["138364758408",qs.IndexExchange],["138323911012",qs.IndexExchange],["138364703777",qs.IndexExchange],["138323523390",qs.IndexExchange],["138364758411",qs.IndexExchange],["138323523387",qs.IndexExchange],["138365130316",qs.IndexExchange],["138323911426",qs.IndexExchange],["138364758414",qs.IndexExchange],["138323911408",qs.IndexExchange],["138364703780",qs.IndexExchange],["138323911405",qs.IndexExchange],["138364703783",qs.IndexExchange],["138323523393",qs.IndexExchange],["138364758417",qs.IndexExchange],["138323911417",qs.IndexExchange],["138365130319",qs.IndexExchange]]}get enabled(){return this._config.partners.indexExchange}get videoEnabled(){return this._config.partners.video.indexExchange}init(){const e=re(),t=this._config,i=t.site,s=[...i.verticals].filter(ee),r=i.filteredSensitiveCategories,n={PD:`${t.adOptions.pmp?"":"no"}${t.context.device}`,...s.length&&{Topic:s.join("#Topic:")},...r.length&&{Sens:r.join("#Sens:")},Source:ue(e),Browser:$(),vp:"0"};var o,a;pe(n,this._prebidMethods),this._largeFormatSizes.length&&(o=this._largeFormatSizes,(a=this._prebidMethods).addToQueue((()=>{const e=a.getConfig("ix");e.largeFormatSizes=o,a.setConfig({ix:e})})))}getVideoBidRequests(e){return e.reduce(((t,i)=>{const s=this.getVideoSizeSites(e).filter((e=>e.video===i)).map((e=>{const{siteId:t,id:s,size:r}=e.sizeSite,n=this.getPrebidAdUnitBidRequest(t,s,r);return n.params.video=this.getVideoParams(i.name),n}));return t.set(i.name,s)}),new Map)}getBidRequests(e){return e.reduce(((t,i)=>{const s=sr.get(i.placementMapName),r=this._mediaType.outstreamEnabled(i).outstreamCapable,n="Video_StickyOutstream"===i.location;if(!s)return t;return t.set(i.id,this.getSlotSizeIds(e).filter((e=>e.slot===i)).reduce(((e,{sizeId:{id:t,size:o}})=>{const a=(i,s=!1,r="")=>{const a=this.getPrebidAdUnitBidRequest(i,t,o,n,s,r);e.push(a)},l=s.hvSiteId,d=r?s.outstreamSiteId:void 0;return l&&a(l,!1,`hvp_${i.placementMapName}`),d&&!this._config.video.hasStickyOutstream&&a(d,!0,`outstreamCapable_${i.placementMapName}`),e.push(this.getPrebidAdUnitBidRequest(s.siteId,t,o,n)),e}),[]))}),new Map)}getVideoParams(e,t){const i={...this._config.video,...t},s=i.playbackmethod&&i.playbackmethod.get(e),r=new Map([[3,[3]],[6,[2]]]),n=s&&{playbackmethod:r.get(s[0])};return{api:i.apiValue,mimes:i.mimeType,...n,minduration:0,maxduration:30,protocols:i.videoProtocols.protocols,pos:i.position.id}}getPrebidAdUnitBidRequest(e,t,i,s=!1,r=!1,n=""){return{bidder:this._bidderName,...n&&{labelAny:[n]},params:{id:t,siteId:e,...s||r?{video:{}}:{size:i}}}}getSlotSizeIds(e){return e.filter((e=>rr.has(e.placementMapName))).reduce(((e,t)=>[...e,...rr.get(t.placementMapName).filter((({size:e})=>t.hasSize(e)||this.largeFormatSizeEnabled(e))).map((e=>({slot:t,sizeId:e})))]),[])}largeFormatSizeEnabled([e,t]){return this._largeFormatSizes.some((([i,s])=>e===i&&t===s))}getVideoSizeSites(e){return e.filter((e=>nr.has(e.name))).reduce(((e,t)=>[...e,...nr.get(t.name).filter((({device:e,size:i},s,r)=>(!e||e&&e===this._device)&&t.size[0]===i[0]&&t.size[1]===i[1])).map((e=>({video:t,sizeSite:e})))]),[])}};or=A([Xe("IndexExchangeBidder"),P(),O("design:paramtypes",[ys,Cs,Qs])],or);const[ar,lr,dr,cr,hr]=["desktop","content","sidebar","header","footer"],pr={desktop:{content:{placementId:"_mfu14jCkaN",size:[300,250]},header:{placementId:"_vzS4k9rMKu",size:[728,90]},sidebar:{placementId:"_zxmQwsW17E",size:[300,600]},footer:{placementId:"_lP4vuVhICu",size:[728,90]}}},ur=new Map([["Below_Post",[pr[ar][lr],pr[ar][cr]]],["Content_1",[pr[ar][lr],pr[ar][cr]]],["Content_2",[pr[ar][lr],pr[ar][cr]]],["Content_3",[pr[ar][lr],pr[ar][cr]]],["Content_4",[pr[ar][lr],pr[ar][cr]]],["Content_5",[pr[ar][lr],pr[ar][cr]]],["Content_6",[pr[ar][lr],pr[ar][cr]]],["Content_7",[pr[ar][lr],pr[ar][cr]]],["Content_8",[pr[ar][lr],pr[ar][cr]]],["Content_9",[pr[ar][lr],pr[ar][cr]]],["Header_1",[pr[ar][cr],pr[ar][lr]]],["Header_2",[pr[ar][cr],pr[ar][lr]]],["Footer_1",[pr[ar][hr]]],["Recipe_1",[pr[ar][lr]]],["Recipe_2",[pr[ar][lr]]],["Recipe_3",[pr[ar][lr]]],["Recipe_4",[pr[ar][lr]]],["Recipe_5",[pr[ar][lr]]],["Sidebar_1",[pr[ar][dr],pr[ar][lr]]],["Sidebar_2",[pr[ar][dr],pr[ar][lr]]],["Sidebar_3",[pr[ar][dr],pr[ar][lr]]],["Sidebar_4",[pr[ar][dr],pr[ar][lr]]],["Sidebar_5",[pr[ar][dr],pr[ar][lr]]],["Sidebar_9",[pr[ar][dr],pr[ar][lr]]],[wt.Video_Collapse_Autoplay_SoundOff,[{placementId:"_kWJDXIuROl",size:[640,360]}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:"_fR1aawM8Zo",size:[640,360]}]],[wt.Video_Individual_Autoplay_SOff,[{placementId:"_nmpcOw19lD",size:[640,360]}]]]),gr=new Map([[wt.Video_Coll_SOff_Smartphone,[{placementId:"_kUg4kKElHf",size:[400,225]}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:"_upDLM7q4jV",size:[400,225]}]],[wt.Video_Individual_Autoplay_SOff,[{placementId:"_fyab3CymN5",size:[400,225]}]]]),_r=new Map([["10000",{id:"_htv2gWQDl4",isOutstream:!1}],["11000",{id:"_rEapvpk6cZ",isOutstream:!0}],["11100",{id:"_hDLFEUkifu",isOutstream:!0}],["10100",{id:"_kEvPWSnblw",isOutstream:!1}],["00011",{id:"_hRaLC9FgYn",isOutstream:!1}],["00010",{id:"_iyznbek6ki",isOutstream:!1}],["00001",{id:"_g1dEyYpnCU",isOutstream:!1}]]),mr=["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_5","Content_6","Content_7","Content_8","Content_9","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"],yr=["Below_Post","Content_1"],fr={desktop:ur,mobile:gr},vr=["Below_Post","Content_1","Content_3","Content_5","Recipe_1"];let br=class extends Us{constructor(e,t,i){super(),this.adthrive=e,this._config=t,this._mediaType=i,this._device=we()?"mobile":"desktop",this._map=fr[this._device],this.bidderConfig=this._config.partners.getBidderConfig(qs.Kargo),this.videoCreativeIds=[["138381592896",qs.Kargo],["138381553202",qs.Kargo],["138381553217",qs.Kargo],["138381553238",qs.Kargo],["138381553328",qs.Kargo],["138381553214",qs.Kargo],["138381553235",qs.Kargo],["138381553244",qs.Kargo],["138381553331",qs.Kargo],["138381553334",qs.Kargo],["138382066465",qs.Kargo],["138381553241",qs.Kargo],["138381553325",qs.Kargo],["138381553337",qs.Kargo],["138381553340",qs.Kargo],["138382066468",qs.Kargo]],this.settings={storageAllowed:!0}}get enabled(){return this._config.partners.kargo}get videoEnabled(){return this._config.partners.video.kargo}createBitStringAdOptions(e){const t=e.hasSize([300,250]),i=e.hasSize([320,50]);return[+this.isBanner(e,t,i),+this.isOutstream(e,t),+this.isInterscroller(e),+this.isAnimatedFooter(e,i),+this.isExpandableFooter(e,i)].join("")}isBanner(e,t,i){return t&&i&&mr.includes(e.placementMapName)}isOutstream(e,t){return t&&vr.includes(e.placementMapName)&&this._mediaType.outstreamEnabled(e).outstreamCapable}isInterscroller(e){return this._config.adTypes.has("interscroller")&&yr.includes(e.placementMapName)}isAnimatedFooter(e,t){return t&&this._config.adTypes.has("animatedFooter")&&"Footer_1"===e.placementMapName}isExpandableFooter(e,t){return t&&this._config.adTypes.has("expandableFooter")&&"Footer_1"===e.placementMapName}getSlotBidRequests(e){if("mobile"===this._device){const t=this.createBitStringAdOptions(e);if(_r.has(t)){const i=_r.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id}}]}}else if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:t,mobileCollapsePlayer:i,size:s})=>(!t||this._config.adTypes.has(t))&&(!i||!this._config.video.mobileStickyPlayerOnPage)&&e.hasSize(s))).map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}getVideoSlotBidRequests(e){var t;return null===(t=this._map.get(e.name))||void 0===t?void 0:t.map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}};br=A([Xe("KargoBidder"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ys,Qs])],br);let Sr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("grid"),this.settings={bidCpmAdjustment:(e,t)=>this._getCPMAdjustment(e,t),adserverTargeting:[{key:"hb_format",val:e=>e&&e.meta&&"trustx"===e.meta.demandSource?`trustx_${e.mediaType}`:e.mediaType}]},this._getCPMAdjustment=(e,t)=>{const i=t.dealId,s=("vastUrl"in t||"vastXml"in t)&&i&&i.toString().includes("G-TRUSTX");return L(this._config,e,"grid",{...t,...s&&{dealId:void 0}})},this._map=new Map([["Below_Post",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],["Content_8",365],["Content_9",366],["Footer_1",367],["Header_1",368],["Header_2",369],["Interstitial_1",48428],["Recipe_1",370],["Recipe_2",371],["Recipe_3",372],["Recipe_4",373],["Sidebar_1",375],["Sidebar_2",376],["Sidebar_3",377],["Sidebar_4",378],["Sidebar_5",379],["Sidebar_9",380],["Video_StickyOutstream_1",133519]])}get enabled(){return this._config.partners.mediaGrid}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{uid:this._map.get(e.placementMapName)}}]}};Sr=A([Xe("MediaGridBidder"),P(),O("design:paramtypes",[ys])],Sr);let Cr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.MediaGridVideo),this.adapterName="grid",this.videoCreativeIds=[["138323922262",qs.MediaGridVideo],["138323922901",qs.MediaGridVideo],["138323922886",qs.MediaGridVideo],["138323922898",qs.MediaGridVideo],["138323922904",qs.MediaGridVideo],["138323923042",qs.MediaGridVideo],["138323922889",qs.MediaGridVideo],["138323923018",qs.MediaGridVideo],["138323922907",qs.MediaGridVideo],["138323922859",qs.MediaGridVideo],["138323923048",qs.MediaGridVideo],["138323923045",qs.MediaGridVideo],["138323923051",qs.MediaGridVideo],["138323923021",qs.MediaGridVideo],["138323922895",qs.MediaGridVideo],["138323922892",qs.MediaGridVideo]],this._map=new Map([[wt.Video_Collapse_Autoplay_SoundOff,[{uid:2163}]],[wt.Video_Coll_SOff_Smartphone,[{uid:2165}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{device:"desktop",uid:2164},{device:"mobile",uid:6056}]],[wt.Video_Individual_Autoplay_SOff,[{device:"desktop",uid:2166},{device:"mobile",uid:6057}]]])}get enabled(){return this._config.partners.mediaGridVideo}get videoEnabled(){return this._config.partners.video.mediaGridVideo}getVideoSlotBidRequests(e){const t=be()?"desktop":"mobile";if(this._map.has(e.name))return this._map.get(e.name).filter((({device:e})=>!e||e===t)).map((({uid:e})=>({bidder:this.name,params:{uid:e}})))}};Cr=A([Xe("MediaGridVideoBidder"),P(),O("design:paramtypes",[ys])],Cr);let wr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("nativo"),this.adapterName="nativo",this._map=new Set(["Content_1","Content_2","Recipe_1","Recipe_2","Sidebar_1","Sidebar_2"])}get enabled(){return this._config.partners.nativo}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{}}]}};wr=A([Xe("NativoBidder"),P(),O("design:paramtypes",[ys])],wr);let Er=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.OpenX),this.videoCreativeIds=[["138323525262",qs.OpenX],["138323914702",qs.OpenX],["138323526741",qs.OpenX],["138323526186",qs.OpenX],["138323526738",qs.OpenX],["138323526744",qs.OpenX],["138323526747",qs.OpenX],["138323526189",qs.OpenX],["138323914588",qs.OpenX],["138323526192",qs.OpenX],["138323526750",qs.OpenX],["138323466806",qs.OpenX],["138323468969",qs.OpenX],["138323914705",qs.OpenX],["138323526183",qs.OpenX],["138323526753",qs.OpenX]],this._params={delDomain:"cafemedia-d.openx.net"},this._highImpactParamsMap=new Map([["Content_1",["interscroller","miniscroller"]]]),this._map=new Map([["Below_Post","538699862"],["Content_1","538699864"],["Content_2","538699865"],["Content_3","538699866"],["Content_4","538699867"],["Content_5","538699868"],["Content_6","538699869"],["Content_7","538699870"],["Content_8","538699871"],["Content_9","538699872"],["Footer_1","538699840"],["Header_1","538699873"],["Header_2","538699874"],["Interstitial_1","543876568"],["Recipe_1","538699843"],["Recipe_2","538699844"],["Recipe_3","540594416"],["Recipe_4","540751624"],["Sidebar_1","538699853"],["Sidebar_2","538699854"],["Sidebar_3","538699855"],["Sidebar_4","538699856"],["Sidebar_5","538699857"],["Sidebar_9","538699861"],["Video_StickyOutstream_1","545721971"],[wt.Video_Collapse_Autoplay_SoundOff,"540679731"],[wt.Video_Coll_SOff_Smartphone,"540679733"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"540679727"],[wt.Video_Individual_Autoplay_SOff,"540925853"]]),this._custParams={...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket]}}get enabled(){return this._config.partners.openx}get videoEnabled(){return this._config.partners.video.openx}getSlotBidRequests(e){if(this._map.has(e.placementMapName)){const t=this._highImpactParamsMap.get(e.placementMapName)||[];return[{bidder:this.name,params:{...this._params,unit:this._map.get(e.placementMapName),customParams:{...this._custParams,hi_au:t.filter((e=>this._config.adTypes[e]))}}}]}}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name)){const i="all"===this._config.video.videoProtocols.scope?{protocols:this._config.video.videoProtocols.protocols}:"";return[{bidder:this.name,params:{...this._params,unit:this._map.get(e.name),video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...i,pos:this._config.video.position.id,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)}}}}]}}};Er=A([Xe("OpenXBidder"),P(),O("design:paramtypes",[ys])],Er);let kr=class{constructor(){this.segmentName="www.iris.tv",this.segtax=501,this._irisEndpoint="https://context.iris.tv/video_info",this._token="5d8f38ad6d7de4253cfa501b84c30b1014868d9884be5d68dc64bd50a6edb54c",this._clientToken="EXJQESR8SMWMZCJ"}fetchIrisResponse(e){return te(`${this._irisEndpoint}?access_token=${this._token}&client_token=${this._clientToken}&platform_id=${e}`)}async setContextualData(e){return this.fetchIrisResponse(e).then((e=>{if(e&&"boolean"!=typeof e){const t=e.video_info,i=t&&t.context;i&&i.length&&(this._contextualData=i,this._irisId=t.iris_id)}return!0})).catch((()=>!1))}get irisContextualData(){return this._contextualData}get irisId(){return this._irisId}};kr=A([I()],kr);let xr=class extends Us{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig(qs.Pubmatic),this.adapterName=qs.Pubmatic,this.serverBidderName=qs.PubmaticServer,this.videoCreativeIds=[["138323526825",qs.Pubmatic],["138323915419",qs.Pubmatic],["138323915299",qs.Pubmatic],["138323527095",qs.Pubmatic],["138323469392",qs.Pubmatic],["138323915422",qs.Pubmatic],["138323469395",qs.Pubmatic],["138323469389",qs.Pubmatic],["138323469383",qs.Pubmatic],["138323469320",qs.Pubmatic],["138323469317",qs.Pubmatic],["138323527092",qs.Pubmatic],["138323469401",qs.Pubmatic],["138323469398",qs.Pubmatic],["138323469386",qs.Pubmatic],["138323469404",qs.Pubmatic]],this.videoServerCreativeIds=[["138337271609",qs.PubmaticServer],["138337343196",qs.PubmaticServer],["138337343229",qs.PubmaticServer],["138337720879",qs.PubmaticServer],["138337720885",qs.PubmaticServer],["138337343202",qs.PubmaticServer],["138337343211",qs.PubmaticServer],["138337343217",qs.PubmaticServer],["138337343232",qs.PubmaticServer],["138337720597",qs.PubmaticServer],["138337720888",qs.PubmaticServer],["138337343199",qs.PubmaticServer],["138337343214",qs.PubmaticServer],["138337343223",qs.PubmaticServer],["138337343226",qs.PubmaticServer],["138337343220",qs.PubmaticServer]],this.pubId="157347",this._map=new Map([["Below_Post",{client:"BelowPost1",server:"BelowPost1_XandrS2S"}],["Content_1",{client:"Content1",server:"Content1_XandrS2S"}],["Content_2",{client:"Content2",server:"Content2_XandrS2S"}],["Content_3",{client:"Content3",server:"Content3_XandrS2S"}],["Content_4",{client:"Content4",server:"Content4_XandrS2S"}],["Content_5",{client:"Content5",server:"Content5_XandrS2S"}],["Content_6",{client:"Content6",server:"Content6_XandrS2S"}],["Content_7",{client:"Content7",server:"Content7_XandrS2S"}],["Content_8",{client:"Content8",server:"Content8_XandrS2S"}],["Content_9",{client:"Content9",server:"Content9_XandrS2S"}],["Footer_1",{client:"Footer1",server:"Footer1_XandrS2S"}],["Header_1",{client:"Header1",server:"Header1_XandrS2S"}],["Header_2",{client:"Header2",server:"Header2_XandrS2S"}],["Interstitial_1",{client:"interstitial",server:"interstitial_XandrS2S"}],["Recipe_1",{client:"Recipe1",server:"Recipe1_XandrS2S"}],["Recipe_2",{client:"Recipe2",server:"Recipe2_XandrS2S"}],["Recipe_3",{client:"Recipe3",server:"Recipe3_XandrS2S"}],["Recipe_4",{client:"Recipe4",server:"Recipe4_XandrS2S"}],["Sidebar_1",{client:"Sidebar1",server:"Sidebar1_XandrS2S"}],["Sidebar_2",{client:"Sidebar2",server:"Sidebar2_XandrS2S"}],["Sidebar_3",{client:"Sidebar3",server:"Sidebar3_XandrS2S"}],["Sidebar_4",{client:"Sidebar4",server:"Sidebar4_XandrS2S"}],["Sidebar_5",{client:"Sidebar5",server:"Sidebar5_XandrS2S"}],["Sidebar_9",{client:"Sidebar9",server:"Sidebar9_XandrS2S"}],["Video_StickyOutstream_1",{client:"2267845",server:"4018943"}],[wt.Video_Collapse_Autoplay_SoundOff,{client:"1961309",server:"3437231"}],[wt.Video_Coll_SOff_Smartphone,{client:"1961310",server:"3437234"}],[wt.Video_In_Post_ClicktoPlay_SoundOn,{client:"1961308",server:"3437232"}],[wt.Video_Individual_Autoplay_SOff,{client:"2503033",server:"3443766"}]])}get enabled(){return this._config.partners.pubMatic}get videoEnabled(){return this._config.partners.video.pubMatic}getSlotBidRequests(e){const t=[];return this._map.has(e.placementMapName)&&(t.push(this.getBidParams(this.name,this._map.get(e.placementMapName).client,e)),t.push(this.getBidParams(this.serverBidderName,this._map.get(e.placementMapName).server,e))),t}getBidParams(e,t,i){return{bidder:e,params:{publisherId:this.pubId,adSlot:`${t}@${i.sizes[0][0]}x${i.sizes[0][1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}getVideoSlotBidRequests(e){const t=[];return this._map.has(e.name)&&(t.push(this.getVideoBidParams(this.name,this._map.get(e.name).client,e)),t.push(this.getVideoBidParams(this.serverBidderName,this._map.get(e.name).server,e))),t}getDCTRParam(e){const t=[],i=this._irisTv.irisContextualData;return i&&i.length&&t.push(`iris_context=${i.toString()}`),t.join("|")}getVideoBidParams(e,t,i){var s;const r=this.getDCTRParam(e);return{bidder:e,params:{publisherId:this.pubId,...r&&{dctr:r},video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},...(null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(i.name))&&{playbackmethod:this._config.video.playbackmethod.get(i.name)}},adSlot:`${t}@${i.size[0]}x${i.size[1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}};xr=A([Xe("PubMaticBidder"),P(),O("design:paramtypes",[ys,kr])],xr);let Tr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.Roundel),this.adapterName=qs.IndexExchange,this.videoCreativeIds=[["138323538893",qs.Roundel],["138323592675",qs.Roundel],["138323592663",qs.Roundel],["138323592660",qs.Roundel],["138323983633",qs.Roundel],["138323970739",qs.Roundel],["138323983639",qs.Roundel],["138323592699",qs.Roundel],["138323592672",qs.Roundel],["138323983636",qs.Roundel],["138323970742",qs.Roundel],["138323592693",qs.Roundel],["138323592696",qs.Roundel],["138323592690",qs.Roundel],["138323592687",qs.Roundel],["138323592684",qs.Roundel]],this._params={siteId:"377190"},this._map=new Map([["Below_Post",[{size:[728,90]},{size:[300,250]}]],["Content_1",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_2",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_5",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_6",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_7",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_8",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_9",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Header_1",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Header_2",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Footer_1",[{size:[728,90]},{size:[970,90]},{size:[320,50]},{size:[320,100]},{size:[300,50]}]],["Recipe_1",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_2",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Sidebar_1",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_2",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_3",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_4",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_5",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_9",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]]]),this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"485376",device:"desktop"}]],[wt.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"485377",device:"mobile"}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"485380",device:"desktop"},{size:[400,225],siteId:"485381",device:"mobile"}]],[wt.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"485378",device:"desktop"},{size:[400,225],siteId:"485379",device:"mobile"}]]]),this._playbackmethodMap=new Map([[3,[3]],[6,[2]]])}get enabled(){return this._config.partners.roundel}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({size:t})=>({bidder:this.name,...e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,size:t}})))}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name)){const i=be()?"desktop":"mobile",s=this._videoMap.get(e.name).filter((e=>e.device===i)).map((({device:e,...t})=>t))[0];return[{bidder:this.name,params:{...s,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},api:this._config.video.apiValue,minduration:0,maxduration:30,protocols:this._config.video.videoProtocols.protocols}}}]}}};Tr=A([Xe("RoundelBidder"),P(),O("design:paramtypes",[ys])],Tr);let Pr=class extends Us{constructor(e,t){super(),this._config=e,this._rubiconExperiment=t,this.bidderConfig=this._config.partners.getBidderConfig(qs.Rubicon),this.adapterName=qs.Rubicon,this.serverBidderName=qs.RubiconServer,this.videoCreativeIds=[["138323536473",qs.Rubicon],["138323540955",qs.Rubicon],["138323540961",qs.Rubicon],["138323540964",qs.Rubicon],["138323929606",qs.Rubicon],["138323480624",qs.Rubicon],["138323536455",qs.Rubicon],["138323540856",qs.Rubicon],["138323929612",qs.Rubicon],["138323480642",qs.Rubicon],["138323929516",qs.Rubicon],["138323480600",qs.Rubicon],["138323480636",qs.Rubicon],["138323536467",qs.Rubicon],["138323926693",qs.Rubicon],["138323536476",qs.Rubicon]],this.videoServerCreativeIds=[["138323542002",qs.RubiconServer],["138323932663",qs.RubiconServer],["138323544525",qs.RubiconServer],["138323932642",qs.RubiconServer],["138323544531",qs.RubiconServer],["138323544528",qs.RubiconServer],["138323932765",qs.RubiconServer],["138323932768",qs.RubiconServer],["138323932852",qs.RubiconServer],["138323932855",qs.RubiconServer],["138323544354",qs.RubiconServer],["138323932858",qs.RubiconServer],["138323544357",qs.RubiconServer],["138323544339",qs.RubiconServer],["138323932672",qs.RubiconServer],["138323932669",qs.RubiconServer]],this._bidders=[],this._map=new Map([["Below_Post",{client:881394,server:1974272}],["Content_1",{client:881398,server:1974276}],["Content_2",{client:881400,server:1974280}],["Content_3",{client:881402,server:1974282}],["Content_4",{client:881404,server:1974284}],["Content_5",{client:881406,server:1974286}],["Content_6",{client:881408,server:1974288}],["Content_7",{client:881410,server:1974290}],["Content_8",{client:881412,server:1974292}],["Content_9",{client:881414,server:1974294}],["Footer_1",{client:881416,server:1974296}],["Header_1",{client:881422,server:1974304}],["Header_2",{client:881426,server:1974306}],["Interstitial_1",{client:1979348,server:1979354}],["Recipe_1",{client:881428,server:1974308}],["Recipe_2",{client:881430,server:1974310}],["Recipe_3",{client:1187188,server:1974312}],["Recipe_4",{client:1279328,server:1974314}],["Sidebar_1",{client:881440,server:1974316}],["Sidebar_2",{client:881454,server:1974318}],["Sidebar_3",{client:881460,server:1974320}],["Sidebar_4",{client:881462,server:1974322}],["Sidebar_5",{client:881466,server:1974324}],["Sidebar_9",{client:881478,server:1974332}],["Video_StickyOutstream_1",{client:2150398,server:2150396}],[wt.Video_Collapse_Autoplay_SoundOff,{client:1259006,server:2055644}],[wt.Video_Coll_SOff_Smartphone,{client:1259010,server:2055648}],[wt.Video_In_Post_ClicktoPlay_SoundOn,{client:1259008,server:2055642}],[wt.Video_Individual_Autoplay_SOff,{client:1506800,server:2055646}]]);const i="both"===this._rubiconExperiment.result||"client"===this._rubiconExperiment.result;("both"===this._rubiconExperiment.result||"server"===this._rubiconExperiment.result)&&this._bidders.push({name:this.serverBidderName,type:"server"}),i&&this._bidders.push({name:this.name,type:"client"})}getDisplayParams(e,t){return{accountId:9262,siteId:"Video_StickyOutstream"===t?386004:{server:363698,client:180726}[e],..."Video_StickyOutstream"===t&&{video:{language:"en"}}}}getVideoParams(e){return{accountId:9262,siteId:{server:375144,client:253996}[e],video:{language:"en"}}}get enabled(){return this._config.partners.rubicon}get videoEnabled(){return this._config.partners.video.rubicon}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._bidders.map((t=>({bidder:t.name,params:{...this.getDisplayParams(t.type,e.location),zoneId:this._map.get(e.placementMapName)[t.type],...e.isHighlyViewable()&&{position:"atf"}}})))}getVideoSlotBidRequests(e){if(this._map.has(e.name))return this._bidders.map((t=>({bidder:t.name,params:{...this.getVideoParams(t.type),zoneId:this._map.get(e.name)[t.type]}})))}updateBidParams(e){this._addPositionParam(e,"atf")}};Pr=A([Xe("RubiconBidder"),P(),O("design:paramtypes",[ys,zi])],Pr);const Ir=new Map([["Below_Post",[{size:[300,250],pkey:"7SbWFfJm2dn10YEIuTIpKDME"},{size:[728,90],pkey:"rcC1EVV27zshgwZefZtMMbQH"},{size:[320,50],pkey:"T7Qor0zFsfzE8d0WArpJPwQX"},{size:[336,280],pkey:"WoVFJAUvQg9oowjifOQLhHfb"}]],["Content_1",[{size:[300,250],pkey:"Hqhk8OQEu54TMfika2qbQjZe"},{size:[728,90],pkey:"Abg2OePLqx4qSJsbvcMFeKMd"},{size:[320,50],pkey:"nlcvbONm7a7qbEq1CUb60bDG"},{size:[336,280],pkey:"ygZ1JVS7p7SMDBgz7ueGgfVr"},{size:[300,50],pkey:"9kDU40A4BJXchR7ikuWND5Ui"}]],["Content_2",[{size:[300,250],pkey:"h28JMhou2Lu9BYHVipYoXuJC"},{size:[320,50],pkey:"jdumKQjHDTttqY113Cyf8Dg5"},{size:[728,90],pkey:"zXUbUzaRyn8LyqVmiSSGFcf5"},{size:[300,50],pkey:"D3MXJwPThTgUD48ESouRejcn"},{size:[336,280],pkey:"ocdg6DMXhAfaTk7KgImuPCPi"}]],["Content_3",[{size:[300,250],pkey:"BFOY9pnh071TtzOy9lBjIr2i"},{size:[320,50],pkey:"96aXzW1FyE1LlnVyOMYuFW7x"},{size:[728,90],pkey:"HhDmPHv4VTNzHzcG65kBlpS0"},{size:[300,50],pkey:"JQXmRwXj1jOjHCQF8ufXkKIJ"}]],["Content_4",[{size:[300,250],pkey:"GA7GQONt3evAWTb7QFsfr4kT"},{size:[320,50],pkey:"iN7VUlNOwy5Nem9ve7HCjt1O"},{size:[728,90],pkey:"WlK6M3BJTYR6CKgtW4fpeWwc"},{size:[300,50],pkey:"7DEh5436UHnmeKGzVXQVsvRk"}]],["Content_5",[{size:[300,250],pkey:"ZKk36rd21PTfmO81jIh4Yogg"},{size:[320,50],pkey:"Dc9sjnVcwjTK2iG3wYmqLveY"},{size:[728,90],pkey:"wuq8OFVQSXj9rmtUlnLo57Tm"},{size:[300,50],pkey:"ZWVmSVe4txKlxxCQoqMcGIus"}]],["Content_6",[{size:[300,250],pkey:"1rWi9eEX25aaJTBP0gYbRZkI"},{size:[320,50],pkey:"xpvziI7Hx5t9ZYEhjNh559PS"},{size:[728,90],pkey:"NCS2KzLcAOxlnkaJ4xjxF0yY"},{size:[300,50],pkey:"T3CRI7sep8LYNDkOrvgSZUPQ"}]],["Content_7",[{size:[300,250],pkey:"UyoEFm2doVvp7106fNDYQWUD"},{size:[320,50],pkey:"TaEN9LCRL7njBnuDdcqFl45i"},{size:[728,90],pkey:"F9qCCjLusYbKBOeMYwTpuEPE"},{size:[300,50],pkey:"T4LKxfIKZJCqFzBemjae6MGu"}]],["Content_8",[{size:[300,250],pkey:"Kx7r3bEMtM8oX76sHwPJmKc0"},{size:[320,50],pkey:"yFU6LWetkGsn5PDQKYT2IDsb"},{size:[728,90],pkey:"SzRqozC7KE5CHZ5X0MYolGNg"},{size:[300,50],pkey:"TIHmP6MqapPY4RpbkOm3pYpV"}]],["Content_9",[{size:[300,250],pkey:"ME02OxIG42MNrqtEtkRcC3WI"},{size:[320,50],pkey:"FZAEaVzZWYVTEcRNmWJmjUXB"},{size:[728,90],pkey:"d2Rjluzn2K59G2BS6dcOSTnQ"},{size:[300,50],pkey:"mBGMr6mqftj8c2qcQky6UjEB"}]],["Footer_1",[{size:[728,90],pkey:"3B3mEOFlqzWznInsydJTcOM4"},{size:[320,50],pkey:"D7FU4vgB3xSrSUsE8x941axF"},{size:[300,50],pkey:"GNY9gDQKzEGt6Tlb13yLfmuX"},{size:[970,90],pkey:"QpPUq12xurb2uH4eesPfZAHF"},{size:[320,100],pkey:"B1C8tQAkMN7kpCuxh1hW6CY8"}]],["Header_1",[{size:[728,90],pkey:"gEiCP252abCex8X60QDCQ18Q"},{size:[320,50],pkey:"1edt8nVrdCirRPclWUszxTkp"},{size:[970,250],pkey:"8vU2bELnZC87m9GLY6XrB82g"},{size:[300,50],pkey:"hjIoNE7R9iO7fInGsX0iibTz"},{size:[300,250],pkey:"jStKXZxN8Ccuf6XS4dKqhKr9"},{size:[970,90],pkey:"InTyYn8hF3Qs7LnzMuZosUTQ"}]],["Header_2",[{size:[728,90],pkey:"qJiJRp6ukhtMyrprTZKHjL2M"},{size:[320,50],pkey:"8FmqCiT44WYjSNLDf1gQE8JU"},{size:[300,250],pkey:"HkFfwTqoieNv9hxPhJKPKoX8"},{size:[970,250],pkey:"NwtHSBVFWxfm6Yh7UeCfuHa6"},{size:[300,50],pkey:"4kwwuV84b6KhCJQy0yjDYdfl"},{size:[320,100],pkey:"TJx2N6gevlYeFawnBbRy4gRl"}]],["Recipe_1",[{size:[300,250],pkey:"uf0lKHKQpMCXGy4lxiCspQq7"},{size:[320,50],pkey:"lklI3sAvIozfaIGNQGORtPOR"},{size:[300,50],pkey:"yiehMO6LI3FNHjbCPIb1L3Sk"},{size:[250,250],pkey:"LyZ0FEa1r0IYt8G2ZZsZi389"}]],["Recipe_2",[{size:[300,250],pkey:"k3diT2fkJ9qUBWQussCusqH3"},{size:[320,50],pkey:"nWhVYiRycgz0snwL4hTcS3vA"},{size:[300,50],pkey:"dq7FbogqyhCRRIH60EEOqCSU"},{size:[250,250],pkey:"yiWtNVya1yOMCncI5pNF5kc5"}]],["Recipe_3",[{size:[300,250],pkey:"43441FPoOkNSE3t2cVABWnsj"},{size:[320,50],pkey:"XTsNJ5wTa3CksG40rnRNHiib"},{size:[300,50],pkey:"OogAcgEwqjMqWmbuSN0n1fhg"},{size:[250,250],pkey:"t9D4xPUErCl21pJOFQemQp9h"}]],["Recipe_4",[{size:[300,250],pkey:"DYIoV5pkMmf8Dh6Z328lJjVS"},{size:[320,50],pkey:"00kJPcqve45ZTYX6hicr37iK"},{size:[300,50],pkey:"BpO7D8zDzdyGmFUOGNcRhUUm"},{size:[300,600],pkey:"xv9dO3gYMP1nJKg1FZVtIUlc"}]],["Sidebar_1",[{size:[300,250],pkey:"CrsU69OOlLRE1gDlLVGWIIV6"},{size:[300,600],pkey:"3pyeQzDRiW84Hg8gNrOq7BUr"},{size:[160,600],pkey:"CFUyMykS3nc38kL2GnT0S7E4"},{size:[320,50],pkey:"1BptSVedVseFELcEHmSjZmDr"},{size:[300,50],pkey:"2pg9IZthU4rVlb45qoI2081a"}]],["Sidebar_2",[{size:[300,250],pkey:"SRG5uYvQkWqlTzkqgXr65zTB"},{size:[300,600],pkey:"Ean6FEKv8T4dKoDEQtgf6J5K"},{size:[160,600],pkey:"WbYPSpMSXQPKyD7MaH1Qc5z7"},{size:[320,50],pkey:"TAk15aJmBw3jMFoV9vSYYWLl"},{size:[300,50],pkey:"9w6UD5z59ooQWpW98mmpv0mD"}]],["Sidebar_3",[{size:[300,250],pkey:"ePJzx8Sm7N35TzihmA98puiL"},{size:[160,600],pkey:"P4EOkxn1ZtpxOxx2lahCdYOJ"},{size:[300,600],pkey:"6mOPwEqEtbkwuuzizUPzdQhN"},{size:[320,50],pkey:"oSwBRQCb6174NZ0wDEyxZW9E"},{size:[300,50],pkey:"LImddo0cIDhlsk6dkvMaHxsW"}]],["Sidebar_4",[{size:[300,250],pkey:"xVf5XsMi0sHZYN4WvjiFhCt3"},{size:[300,600],pkey:"WH8DfDE6oJYbphu2nD4xxeIV"},{size:[160,600],pkey:"8ZBBtdUqKqArOUPgW7bpiUia"},{size:[320,50],pkey:"UMKQPvhCYMOH1sOPVdYEDEQt"},{size:[300,50],pkey:"UoweNgEnjfmpxKoHzSXkuoWg"}]],["Sidebar_5",[{size:[300,250],pkey:"EhtNcAaPOBeM8QI5ypGM7lZy"},{size:[160,600],pkey:"zAOUkIaCHmzOCw2Ma5rrzaql"},{size:[300,600],pkey:"LDMKwAfNFjGKWXL0OWKksknT"},{size:[320,50],pkey:"WdPWJ92IfPqKgO5vRXvlsDO4"},{size:[300,50],pkey:"MgyTpbqDa5nWNz6aDNWyucFn"}]],["Sidebar_9",[{size:[300,250],pkey:"JmiI0R5Mw4cFlLp9pgaem31E"},{size:[300,600],pkey:"IoYC7dL9wONQvhjMnu3iqP3R"},{size:[160,600],pkey:"np3Ol8PXscn2cbaUcrthhTKg"},{size:[320,50],pkey:"Cd46ns56pySxsSXXdRi3KlYq"},{size:[300,50],pkey:"k8W1t71k8qmkYsiK4v3pop6j"},{size:[250,250],pkey:"qINMbG0pc3n9CO2oIW1qxWGE"}]],["Video_StickyOutstream_1",[{size:[300,250],pkey:"qKjlCz8NOStHzB15G18scbgS"},{size:[320,50],pkey:"qKjlCz8NOStHzB15G18scbgS"}]]]),Ar=new Map([[wt.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],pkey:"I5VjN89qESPMegBdpCt92W8S"}]],[wt.Video_Coll_SOff_Smartphone,[{size:[400,225],pkey:"iZXbFkwkNrOgpI7ue8o3mJda"}]],[wt.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],pkey:"sMLWZBQNa6GaKC2khQiIg5Tj"},{size:[400,225],pkey:"yHkEhAMj24ubV101Fklbp6fA"}]],[wt.Video_Individual_Autoplay_SOff,[{size:[640,360],pkey:"GCV9Do84nDBEFaVjb507H4iE"},{size:[400,225],pkey:"6lY8mDlZX6W7ijhbh6OuDCfj"}]]]);let Mr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.Sharethrough),this.videoCreativeIds=[["138377683089",qs.Sharethrough],["138377670131",qs.Sharethrough],["138377670158",qs.Sharethrough],["138377670173",qs.Sharethrough],["138378141751",qs.Sharethrough],["138377670161",qs.Sharethrough],["138377670167",qs.Sharethrough],["138377670170",qs.Sharethrough],["138377670209",qs.Sharethrough],["138377670212",qs.Sharethrough],["138377670224",qs.Sharethrough],["138377669645",qs.Sharethrough],["138377670218",qs.Sharethrough],["138377670221",qs.Sharethrough],["138378141754",qs.Sharethrough],["138377670215",qs.Sharethrough]]}get enabled(){return this._config.partners.sharethrough}get videoEnabled(){return this._config.partners.video.sharethrough}getSlotBidRequests(e){if(Ir.has(e.placementMapName))return Ir.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}getVideoSlotBidRequests(e){return Ar.get(e.name).filter((({size:t})=>e.size[0]===t[0]&&e.size[1]===t[1])).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}};Mr=A([Xe("SharethroughBidder"),P(),O("design:paramtypes",[ys])],Mr);let Or=class extends Us{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig(qs.Spotx),this.videoCreativeIds=[["138303907026",qs.Spotx],["138323929600",qs.Spotx],["138323929594",qs.Spotx],["138323536461",qs.Spotx],["138323929603",qs.Spotx],["138323929507",qs.Spotx],["138323536458",qs.Spotx],["138323536449",qs.Spotx],["138323929591",qs.Spotx],["138323537142",qs.Spotx],["138323929621",qs.Spotx],["138323536452",qs.Spotx],["138323540958",qs.Spotx],["138323929459",qs.Spotx],["138323929522",qs.Spotx],["138323929618",qs.Spotx],["138317573432",qs.Spotx],["138303907368",qs.Spotx],["138303940541",qs.Spotx],["138303941144",qs.Spotx],["138304289827",qs.Spotx],["138303907377",qs.Spotx],["138303935663",qs.Spotx],["138303940901",qs.Spotx],["138303941138",qs.Spotx],["138303941153",qs.Spotx],["138304290448",qs.Spotx],["138303941135",qs.Spotx],["138303941147",qs.Spotx],["138303941156",qs.Spotx],["138304290445",qs.Spotx],["138303941141",qs.Spotx]],this._videoParams={ad_unit:"instream",secure:!0,mimes:this._config.video.mimeType,position:this._config.video.position.id},this._map=new Map([[wt.Video_Collapse_Autoplay_SoundOff,279547],[wt.Video_Coll_SOff_Smartphone,279549],[wt.Video_In_Post_ClicktoPlay_SoundOn,279548],[wt.Video_Individual_Autoplay_SOff,279550]])}get videoEnabled(){return this._config.partners.video.spotx}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._irisTv.irisContextualData,i=this._irisTv.irisId,s=i&&t&&t.length;return[{bidder:this.name,params:{...this._videoParams,channel_id:this._map.get(e.name),...s&&{custom:{iris_context:t,iris_id:i}}}}]}}};Or=A([Xe("SpotXBidder"),P(),O("design:paramtypes",[ys,kr])],Or);let zr=class extends Us{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("teads"),this._pageId=112062,this._adTypeBitIndexMap=new Map([["outstream",{adType:we()?"outstreamMobile":"outstreamDesktop",index:1}],["interscroller",{adType:"interscroller",index:2}],["miniscroller",{adType:"miniscroller",index:3}]]),this._adUnitsMap=new Map([["Below_Post",[]],["Content_1",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_2",["miniscroller","interscroller"]],["Content_3",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_4",["miniscroller","interscroller"]],["Content_5",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_6",["miniscroller","interscroller"]],["Content_7",["miniscroller","interscroller"]],["Content_8",["miniscroller","interscroller"]],["Content_9",["miniscroller","interscroller"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["outstreamDesktop","outstreamMobile","miniscroller"]],["Recipe_2",["miniscroller"]],["Recipe_3",["miniscroller"]],["Recipe_4",["miniscroller"]],["Sidebar_1",[]],["Sidebar_2",[]],["Sidebar_3",[]],["Sidebar_4",[]],["Sidebar_5",[]],["Sidebar_9",[]]]),this._deviceAdTypes={mobile:["outstreamMobile","interscroller","miniscroller"],desktop:["outstreamDesktop"]},this._placementIdMap=new Map([["1000",{id:121842,isOutstream:!1}],["1001",{id:121836,isOutstream:!0}],["1010",{id:121835,isOutstream:!0}],["1011",{id:121840,isOutstream:!0}],["1100",{id:121834,isOutstream:!1}],["1101",{id:121838,isOutstream:!0}],["1110",{id:121837,isOutstream:!0}],["1111",{id:121895,isOutstream:!0}]])}get enabled(){return this._config.partners.teads}createBitArrayAdOptions(e){const t=we()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop,i=["1","0","0","0"],s=this._adUnitsMap.get(e.placementMapName);return this._adTypeBitIndexMap.forEach(((r,n)=>{const o=r.adType;t.includes(o)&&this._config.adTypes.has(o)&&s.includes(o)&&(i[r.index]="outstream"===n?this._mediaType.outstreamEnabled(e).currentlyActive?"1":"0":"1")})),i}getSlotBidRequests(e){if(this._adUnitsMap.has(e.placementMapName)){const t=this.createBitArrayAdOptions(e),i=this._placementIdMap.get(t.join(""));return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,pageId:this._pageId}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}updateBidParams(e,t){const i=this.createBitArrayAdOptions(t),s=this._placementIdMap.get(i.join(""));this._addPlacementIdParam(e,s.id),s.isOutstream&&this._addBidLabel(e,`outstreamActive_${t.placementMapName}`)}};zr=A([Xe("TeadsBidder"),P(),O("design:paramtypes",[ys,Qs])],zr);let Rr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.Telaria),this.videoCreativeIds=[["138323469428",qs.Telaria],["138323528058",qs.Telaria],["138323527527",qs.Telaria],["138323527362",qs.Telaria],["138323520198",qs.Telaria],["138323528061",qs.Telaria],["138323528049",qs.Telaria],["138323528043",qs.Telaria],["138323527632",qs.Telaria],["138323527524",qs.Telaria],["138323527359",qs.Telaria],["138323528055",qs.Telaria],["138323527794",qs.Telaria],["138323527791",qs.Telaria],["138323527530",qs.Telaria],["138323528046",qs.Telaria]],this._map=new Map([[wt.Video_Collapse_Autoplay_SoundOff,{supplyCode:"6psex-fm1gy",adCode:"6psex-o3fcq"}],[wt.Video_In_Post_ClicktoPlay_SoundOn,{supplyCode:"6psex-bgapy",adCode:"6psex-kln5k"}],[wt.Video_Coll_SOff_Smartphone,{supplyCode:"6psex-axuft",adCode:"6psex-jaes3"}],[wt.Video_Individual_Autoplay_SOff,{supplyCode:"6psex-sootr",adCode:"6psex-0vosj"}]])}get videoEnabled(){return this._config.partners.video.telaria}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._map.get(e.name);return[{bidder:this.name,params:{...t,videoId:e.name}}]}}};Rr=A([Xe("TelariaBidder"),P(),O("design:paramtypes",[ys])],Rr);let Br=class extends Us{constructor(e,t,i){super(),this._config=e,this._tripleLiftExperiment=t,this._mediaType=i,this.bidderConfig=this._config.partners.getBidderConfig(qs.Triplelift),this.adapterName=qs.Triplelift,this.serverBidderName=qs.TripleliftServer,this.videoCreativeIds=[["138323510289",qs.Triplelift],["138323472959",qs.Triplelift],["138323472731",qs.Triplelift],["138323472671",qs.Triplelift],["138323472641",qs.Triplelift],["138323473061",qs.Triplelift],["138323473058",qs.Triplelift],["138323473019",qs.Triplelift],["138323473016",qs.Triplelift],["138323472986",qs.Triplelift],["138323472734",qs.Triplelift],["138323473064",qs.Triplelift],["138323473055",qs.Triplelift],["138323472728",qs.Triplelift],["138323472674",qs.Triplelift],["138323472737",qs.Triplelift],["138326649881",qs.Triplelift],["138326691825",qs.Triplelift],["138326691828",qs.Triplelift],["138326691831",qs.Triplelift],["138326691834",qs.Triplelift],["138326691837",qs.Triplelift],["138326691840",qs.Triplelift],["138326691843",qs.Triplelift],["138326691846",qs.Triplelift],["138326691783",qs.Triplelift],["138326691786",qs.Triplelift],["138326691789",qs.Triplelift],["138326691792",qs.Triplelift],["138326691753",qs.Triplelift],["138326691756",qs.Triplelift],["138326691570",qs.Triplelift]],this.videoServerCreativeIds=[["138348653814",qs.TripleliftServer],["138348654438",qs.TripleliftServer],["138349054156",qs.TripleliftServer],["138349054168",qs.TripleliftServer],["138349054201",qs.TripleliftServer],["138348654432",qs.TripleliftServer],["138348654444",qs.TripleliftServer],["138349054186",qs.TripleliftServer],["138349054204",qs.TripleliftServer],["138349054210",qs.TripleliftServer],["138349054435",qs.TripleliftServer],["138349054189",qs.TripleliftServer],["138349054207",qs.TripleliftServer],["138349054426",qs.TripleliftServer],["138349054429",qs.TripleliftServer],["138349054432",qs.TripleliftServer]],this._clientEnabled=!1,this._serverEnabled=!1,this.settings={adserverTargeting:[{key:"hb_format",val:({meta:e,tl_source:t})=>e&&e.mediaType||this.tlSourceMap.get(t||"")}]},this.tlSourceMap=new Map([["hdx","banner"],["tlx","native"]]),this._verticalCategoryMap=new Map([["Baby","Family"],["Family and Parenting","Family"],["Natural Parenting","Family"],["Pregnancy","Family"],["Toddler","Family"],["Personal Finance","Finance"],["Professional Finance","Finance"],["Deals","Finance"],["Clean Eating","Food"],["Food","Food"],["Crafts","Home"],["Gardening","Home"],["Green Living","Home"],["Home Decor and Design","Home"],["Pets","Home"],["Travel","Travel"],["News","News"],["Lifestyle","Lifestyle"],["Beauty","Lifestyle"],["Other","Lifestyle"],["Health and Fitness","Health"],["Entertainment","Entertainment"],["Sports","Sports"],["Womens Style","Womens Style"],["Mens Style and Grooming","Mens Style"],["Tech","Tech"],["Wedding","Wedding"],["Auto","Auto"]]),this._categoryPriorityList=new Set(["Food","Home","Family","Finance","Travel","News","Health","Entertainment","Sports","Womens Style","Mens Style","Tech","Wedding","Auto","Lifestyle"]),this._category=K(this.getCategory(),"Lifestyle"),this._map=new Map([["Interstitial_1",[]],["Below_Post",[]],["Content_1",["nativeMobileContent","nativeDesktopContent"]],["Content_2",["nativeMobileContent","nativeDesktopContent"]],["Content_3",["nativeMobileContent","nativeDesktopContent"]],["Content_4",["nativeMobileContent","nativeDesktopContent"]],["Content_5",["nativeMobileContent","nativeDesktopContent"]],["Content_6",["nativeMobileContent","nativeDesktopContent"]],["Content_7",["nativeMobileContent","nativeDesktopContent"]],["Content_8",["nativeMobileContent","nativeDesktopContent"]],["Content_9",["nativeMobileContent","nativeDesktopContent"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_2",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_3",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_4",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_5",["nativeMobileRecipe","nativeDesktopRecipe"]],["Sidebar_1",["nativeDesktopSidebar"]],["Sidebar_2",["nativeDesktopSidebar"]],["Sidebar_3",["nativeDesktopSidebar"]],["Sidebar_4",["nativeDesktopSidebar"]],["Sidebar_5",["nativeDesktopSidebar"]],["Sidebar_9",["nativeDesktopSidebar"]]]),this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,{client:"AdThriveRON_instream_desktopcollapse_prebid_c2s",server:"AdThriveRON_instream_desktopcollapse_prebid"}],[wt.Video_Coll_SOff_Smartphone,{client:"AdThriveRON_instream_mwebsticky_prebid_c2s",server:"AdThriveRON_instream_mwebsticky_prebid"}],[wt.Video_In_Post_ClicktoPlay_SoundOn,{client:"AdThriveRON_instream_CTP_prebid_c2s",server:"AdThriveRON_instream_CTP_prebid"}],[wt.Video_Individual_Autoplay_SOff,{client:"AdThriveRON_instream_contextcollapse_prebid_c2s",server:"AdThriveRON_instream_contextcollapse_prebid"}]]),this._deviceAdTypes={mobile:["nativeMobileContent","nativeMobileRecipe"],desktop:["nativeDesktopContent","nativeDesktopRecipe","nativeDesktopSidebar"]},this._clientEnabled="both"===this._tripleLiftExperiment.result||"client"===this._tripleLiftExperiment.result,this._serverEnabled="both"===this._tripleLiftExperiment.result||"server"===this._tripleLiftExperiment.result}get enabled(){return this._config.partners.tripleLift}get videoEnabled(){return this._config.partners.video.tripleLift}getSlotBidRequests(e){const t=(we()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName)){const i=[];let s="Interstitial"===e.location?"Interstitial".toLowerCase():"standard";this._map.get(e.placementMapName).forEach((e=>{t.includes(e)&&(s=e)}));const r=this.getInventoryCode(s,e),n=this.isOutstreamEligible(e);return this._clientEnabled&&i.push({bidder:this.name,...this.getLabels(e.placementMapName,n),params:{inventoryCode:r}}),this._serverEnabled&&i.push({bidder:this.serverBidderName,params:{inventoryCode:r+"_pbs2s"}}),i}}inventoryCodeAppend(e){return this.isOutstreamEligible(e)?"_BV":""}isOutstreamEligible(e){return!1}getInventoryCode(e,t){if("standard"===e){return`AdThrive_${"Below_Post"===t.placementMapName?"Below_Post_1":t.placementMapName}_HDX`}if("interstitial"===e)return"AdThriveRON_interstitial_multisize";const i="Content_1"===t.placementMapName||"Sidebar_9"===t.placementMapName?t.location.toLowerCase():t.placementMapName.toLowerCase().replace(/_(?!.*_)/,""),s=we()?"mobile":"desktop",r=this.inventoryCodeAppend(t);return`adthrive${this._category}_${i}_fixed_${s}${r}`}getVideoBidParams(e,t,i){var s,r;return{bidder:e,params:{inventoryCode:i,video:{...be()?{w:640,h:360}:{w:400,h:225},api:this._config.video.apiValue,mimes:this._config.video.mimeType,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},playbackmethod:null===(r=null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(t.name))||void 0===r?void 0:r[0],pos:this._config.video.position.id}}}}getVideoSlotBidRequests(e){const t=[];return this._videoMap.has(e.name)&&(this._clientEnabled&&t.push(this.getVideoBidParams(this.name,e,this._videoMap.get(e.name).client)),this._serverEnabled&&t.push(this.getVideoBidParams(this.serverBidderName,e,this._videoMap.get(e.name).server))),t}getCategory(){const e=this._config.site.verticals.filter((e=>this._verticalCategoryMap.has(e))).map((e=>this._verticalCategoryMap.get(e)));for(const t of this._categoryPriorityList)if(e.includes(t))return t}getLabels(e,t){const i=[];return t&&i.push(`outstreamCapable_${e}`),i.length?{labelAny:i}:{}}};Br=A([Xe("TripleLiftBidder"),P(),O("design:paramtypes",[ys,Ri,Qs])],Br);let Dr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(qs.TTD),this.videoCreativeIds=[["138323472896",qs.TTD],["138323532681",qs.TTD],["138323532645",qs.TTD],["138323532675",qs.TTD],["138323532678",qs.TTD],["138323922211",qs.TTD],["138323530488",qs.TTD],["138323532606",qs.TTD],["138323532648",qs.TTD],["138323922202",qs.TTD],["138323532672",qs.TTD],["138323922205",qs.TTD],["138323922010",qs.TTD],["138323922208",qs.TTD],["138323532642",qs.TTD],["138323921998",qs.TTD]],this._device=this._config.context.device,this._set=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9",wt.Video_Collapse_Autoplay_SoundOff,wt.Video_Coll_SOff_Smartphone,wt.Video_In_Post_ClicktoPlay_SoundOn,wt.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.ttd}get videoEnabled(){return this._config.partners.video.ttd}getSlotBidRequests(e){if(this._set.has(e.placementMapName)){const t=e.id,i=new RegExp(`_${this._device}`);return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t.replace(i,""),supplySourceId:"cafemedia"}}]}}getVideoSlotBidRequests(e){if(this._set.has(e.name)){const t=`${e.name}`;return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t,supplySourceId:"cafemedia"}}]}}};Dr=A([Xe("TTDBidder"),P(),O("design:paramtypes",[ys])],Dr);let Vr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("undertone"),this._params={publisherId:2002},this._deviceAdTypes={mobile:["animatedFooter","expandableFooter","interscroller","miniscroller"],desktop:[]},this._map=new Map([["Below_Post",[{placementId:"2002034",size:[[1,2]],adType:"interscroller",highViewability:!0},{placementId:"2002035",size:[[1,2]],adType:"miniscroller",highViewability:!0},{placementId:"2002036",size:[[300,250]],highViewability:!0}]],["Content_1",[{placementId:"2002001",size:[[1,2]],adType:"interscroller"},{placementId:"2002002",size:[[1,2]],adType:"miniscroller"}]],["Content_2",[{placementId:"2002003",size:[[1,2]],adType:"miniscroller"}]],["Content_3",[{placementId:"2002004",size:[[1,2]],adType:"miniscroller"}]],["Content_4",[{placementId:"2002005",size:[[1,2]],adType:"miniscroller"}]],["Content_5",[{placementId:"2002006",size:[[1,2]],adType:"miniscroller"}]],["Footer_1",[{placementId:"2002033",size:[[320,50]],adType:"expandableFooter"},{placementId:"2002038",size:[[1,1]],adType:"expandableFooter",mobileCollapsePlayer:!0},{placementId:"2002039",size:[[1,1]],adType:"animatedFooter"}]],["Header_1",[{placementId:"2002037",size:[[970,250]]}]],["Interstitial_1",[{placementId:"2002040",size:[[1,1]]}]],["Recipe_1",[{placementId:"2002020",size:[[300,250]]}]],["Recipe_2",[{placementId:"2002021",size:[[300,250]]}]],["Recipe_3",[{placementId:"2002022",size:[[300,250]]}]],["Recipe_4",[{placementId:"2002023",size:[[300,250]]}]],["Sidebar_9",[{placementId:"2002032",size:[[300,250]]}]]])}get enabled(){return this._config.partners.undertone}getSlotBidRequests(e){const t=(we()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:i,mobileCollapsePlayer:s,size:r})=>(!i&&e.hasSize(r[0])||i&&t.includes(i))&&(!s||!this._config.video.mobileStickyPlayerOnPage))).map((({placementId:t,size:i,highViewability:s})=>({bidder:this.name,...s&&e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,placementId:t,size:i}})))}};Vr=A([Xe("UndertoneBidder"),I(),O("design:paramtypes",[ys])],Vr);let Lr=class extends Us{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("unruly"),this._params={siteId:249232}}get enabled(){return this._config.partners.unruly}get videoEnabled(){return this._config.partners.video.unruly}getSlotBidRequests(e){if(this._mediaType.outstreamEnabled(e),"Video_StickyOutstream"!==e.location)return[{bidder:this.name,params:{...this._params}}]}getVideoSlotBidRequests(e){return[{bidder:this.name,params:{...this._params}}]}};Lr=A([Xe("UnrulyBidder"),P(),O("design:paramtypes",[ys,Qs])],Lr);let Fr=class extends Us{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("verizon"),this.adapterName="aol",this._params={dcn:we()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},this._desktopMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]]]),this._mobileMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]]]),this._map=we()?this._mobileMap:this._desktopMap}get enabled(){return this._config.partners.verizon}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:e})=>({bidder:this.name,params:{...this._params,...this._config.site.filteredSensitiveCategories.length&&{ext:{sens:this._config.site.filteredSensitiveCategories}},pos:e}})))}};Fr=A([Xe("VerizonBidder"),P(),O("design:paramtypes",[ys])],Fr);let jr=class extends Us{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig(qs.YahooSSP),this.videoCreativeIds=[["138379204183",qs.YahooSSP],["138378707447",qs.YahooSSP],["138378707558",qs.YahooSSP],["138378717711",qs.YahooSSP],["138378717726",qs.YahooSSP],["138378706907",qs.YahooSSP],["138378706928",qs.YahooSSP],["138378707468",qs.YahooSSP],["138378707561",qs.YahooSSP],["138378717720",qs.YahooSSP],["138378717783",qs.YahooSSP],["138378707552",qs.YahooSSP],["138378717723",qs.YahooSSP],["138378717780",qs.YahooSSP],["138378717786",qs.YahooSSP],["138378707555",qs.YahooSSP]],this._params={display:{dcn:we()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},video:{dcn:"8a969469017b7bdf59b2e07862af0281"}},this._videoMap=new Map([[wt.Video_Collapse_Autoplay_SoundOff,"8a96941a017e7e91c49492261bdf000c"],[wt.Video_Coll_SOff_Smartphone,"8a9690ee017e7e91bee0922682f1000b"],[wt.Video_In_Post_ClicktoPlay_SoundOn,"8a969951017e7e91ba38923576c20011"],[wt.Video_Individual_Autoplay_SOff,"8a969951017e7e91ba389236dc470014"]]),this._displayMap={desktop:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"8a969d87017b7be074aae07a22b70005"}]]]),mobile:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a969d87017b7be074aae07a22b70005"}]]])},this._setYahooMediaConfig();const i=this._displayMap;this._map=we()?i.mobile:i.desktop}get enabled(){return this._config.partners.yahoossp}get videoEnabled(){return this._config.partners.video.yahoossp}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:t})=>({bidder:this.name,params:{..."Video_StickyOutstream"!==e.location?this._params.display:this._params.video,pos:t}})))}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{...this._params.video,pos:this._videoMap.get(e.name)}}]}_setYahooMediaConfig(){this._prebidMethods.setConfig({yahoossp:{mode:"all"}})}};jr=A([Xe("YahooSSPBidder"),P(),O("design:paramtypes",[ys,Cs])],jr);let Nr=class extends Us{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("yieldmo"),this.settings={adserverTargeting:[{key:"hb_format",val:e=>this._creativeFormatMap.get(this.getCreativeFormatId(e.ad))||e.mediaType}]},this._creativeFormatMap=new Map([["44","banner"],["47","banner"],["49","banner"],["50","banner"],["43","banner"],["17","banner"],["23","banner"],["33","banner"],["40","outstream"],["51","outstream"],["48","outstream"],["34","outstream"],["14","miniscroller"],["16","miniscroller"],["37","miniscroller"],["15","miniscroller"],["18","native"],["36","native"],["46","native"],["10","native"],["6","native"]]),this._adOptionsMap=new Map([["100000",{id:"2626064683911553041",isOutstream:!1}],["110000",{id:"2626064684062547986",isOutstream:!0}],["111000",{id:"2626064684196765715",isOutstream:!0}],["110100",{id:"2626064684339372052",isOutstream:!0}],["110010",{id:"2626064684498755605",isOutstream:!0}],["111100",{id:"2626064684632973334",isOutstream:!0}],["111010",{id:"2626064684775579671",isOutstream:!0}],["111110",{id:"2626064684934963224",isOutstream:!0}],["101000",{id:"2626064685069180953",isOutstream:!1}],["101100",{id:"2626064685203398682",isOutstream:!1}],["101010",{id:"2626064685337616411",isOutstream:!0}],["101110",{id:"2626064685471834140",isOutstream:!0}],["100100",{id:"2626064685606051869",isOutstream:!1}],["100110",{id:"2626064685740269598",isOutstream:!0}],["100010",{id:"2626064685882875935",isOutstream:!0}],["110110",{id:"2626807131797397582",isOutstream:!0}],["110001",{id:"2820437600580345895",isOutstream:!0}]]),this._bannerMap=["Below_Post","Content","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Recipe_5","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9","Video_StickyOutstream_1"]}getCreativeFormatId(e){const t=/creative_format_id":([0-9]*)/.exec(e);if(null!==t)return t[1]}get enabled(){return this._config.partners.yieldmo}isMiniScroller(e){return e.sequence&&this._config.adTypes.has("miniscroller")&&("Content"===e.location||"Recipe"===e.location)}isNative(e){const t={mobile:new Map([["Content","nativeMobileContent"],["Recipe","nativeMobileRecipe"]]),desktop:new Map([["Content","nativeDesktopContent"],["Recipe","nativeDesktopRecipe"],["Sidebar","nativeDesktopSidebar"]])},i=we()?t.mobile:t.desktop;return e.sequence&&i.has(e.location)&&this._config.adTypes.has(i.get(e.location))}isOutstream(e){return this._mediaType.outstreamEnabled(e).currentlyActive}isStickyOutstream(e){return"Video_StickyOutstream"===e.location}isMobileOustreamSingleInstance(e){return we()&&"Content_1"===e.placementMapName&&this._mediaType.outstreamEnabled(e).currentlyActive&&this._config.adTypes.has("outstreamMobile")&&!this._config.video.mobileStickyPlayerOnPage}createBitStringAdOptions(e){let t=this._bannerMap.includes(e.placementMapName)?"1":"0";return t+=this.isOutstream(e)?"1":"0",t+=this.isMiniScroller(e)?"1":"0",t+=this.isNative(e)?"1":"0",t+=this.isMobileOustreamSingleInstance(e)?"1":"0",t+=this.isStickyOutstream(e)?"1":"0",t}getSlotBidRequests(e){const t=this.createBitStringAdOptions(e);if(this._adOptionsMap.has(t)){const i=this._adOptionsMap.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,..."Video_StickyOutstream"===e.location&&{video:{placement:2}}}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}updateBidParams(e,t){const i=this.createBitStringAdOptions(t),s=this._adOptionsMap.get(i);this._adOptionsMap.has(i)&&(this._addPlacementIdParam(e,s.id),s.isOutstream&&this._addBidLabel(e,`outstreamActive_${t.placementMapName}`))}};Nr=A([Xe("YieldmoBidder"),P(),O("design:paramtypes",[ys,Qs])],Nr);let Ur=class{constructor(e,t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,x,T,P){this._config=e,this._biddersParams=new Map,this._orderedDisplayBidders=[v,d,c,o,C,h,p,i,x,u,_,T,t,P,y,n,w,S,s,E,k,l,g,m,r].filter((e=>this._bidderFilter(e))),this._orderedVideoBidders=[o,t,c,C,u,d,_,p,a,w,T,f,l,y,s,r,k,S,b,g,n].filter((e=>this._bidderFilter(e,!0))),this._videoCreativeIdMapping=this._setVideoCreativeIdMap()}get orderedDisplayBidders(){return this._orderedDisplayBidders}get orderedVideoBidders(){return this._orderedVideoBidders}get biddersParams(){return this._biddersParams}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}_setVideoCreativeIdMap(){return new Map(this._orderedVideoBidders.reduce(((e,t)=>e.concat(t.videoCreativeIds||[],t.videoServerCreativeIds||[])),[]))}_bidderFilter(e,t=!1){const i=this._config,s=e.name,r=t?i.vbho.bidders:i.hbho.bidders,n=t?"videoEnabled":"enabled",o=t||!e.updateBidParams;return e[n]&&this._holdoutValidation(r,s)&&this._ccpaValidation(i.ccpa,s)&&this._gdprValidation(i.gdpr,s)&&(o||this._biddersParams.set(s,e))}_holdoutValidation(e,t){return!e.length||!e.includes(t)}_ccpaValidation(e,t){return!e.enabled||!e.nonCompliantBidders.includes(t)}_gdprValidation(e,t){return!e.enabled||!e.nonCompliantBidders.includes(t)}};Ur=A([I(),O("design:paramtypes",[ys,Xs,Ys,Js,Zs,er,tr,Cr,ir,or,br,Sr,Er,xr,Tr,Pr,wr,Mr,Or,zr,Rr,Hs,Br,Dr,Vr,Lr,Fr,jr,Nr])],Ur);let qr=class extends lt{constructor(e){super(),this.key="crtvmon",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.1).get()}};qr=A([Xe("CreativeMonitoringExperiment"),I(),O("design:paramtypes",[nt])],qr);let Hr=class{constructor(e,t,i,s,r){this._config=e,this._gam=t,this._prebidMethods=i,this._slots=s,this._creativeMonitoringExperiment=r,this._auctionData=new Set,this._prebidAdvertiserId=413678576,this._gamRenderedData=new Map}setupCreativeEventListeners(){this._prebidMethods.onEvent("auctionInit",this._storeAuctionData.bind(this)),this._prebidMethods.onEvent("adRenderFailed",this._renderFailedHandler.bind(this)),this._prebidMethods.onEvent("adRenderSucceeded",this._renderSucceededHandler.bind(this)),this._prebidMethods.onEvent("staleRender",this._staleRenderHandler.bind(this)),this._gam.slotRenderEnded.on(this._slotRenderEnded.bind(this)),this._gam.slotRequested.on(this._slotRequested.bind(this))}_slotRequested(e){const t=e.slot.id;this._gamRenderedData.has(t)&&this._gamRenderedData.delete(t)}_slotRenderEnded(e){this._gamRenderedData.set(e.slot.id,e),this._creativeMonitoringExperiment.result&&this._checkSlotRender(e)}_storeAuctionData(e){e.adUnitCodes.forEach((t=>this._auctionData.add(`${e.auctionId}-${t}`)))}_deleteStoredAuction(e,t){this._auctionData.delete(`${e}-${t}`)}_getSlotData(e){const t=this._slots.get(e);return{...t&&{slot:t.location,sequence:t.sequence,nref:t.refreshCount}}}_getGAMCreativeData(e){const t=this._gamRenderedData.get(e);return t?{lineItemId:t.event.lineItemId,creativeId:t.event.creativeId,campaignId:t.event.campaignId}:{}}_getBidData(e){return e?{...this._getPrebidBidDataFromBid(e),...this._getSlotData(e.adUnitCode),...this._getGAMCreativeData(e.adUnitCode)}:{}}_renderFailedHandler(e){setTimeout((()=>{const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode);const i={message:e.message,reason:e.reason,...this._getBidData(t)};t&&t.meta&&Object.keys(t.meta).length>0?i.buyerInformation=t.meta:i.markup=t&&t.ad,D.error("PrebidAuctionManager","init","adRenderFailed",i)}),2e3)}_staleRenderHandler(e){e&&this._deleteStoredAuction(e.auctionId,e.adUnitCode)}_renderSucceededHandler(e){const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode)}_isSafeFrame(e){const t=e.element.querySelector("iframe");return!(!t||!t.src)}_checkSlotRender(e){const t=e.event;this._isSafeFrame(e.slot)||t.advertiserId!==this._prebidAdvertiserId||setTimeout((()=>{this._logUnknownFailure(e)}),2e3)}_getHeightWidth(e){if(!e)return{};const t=e.split("x").map(Number);return{...Array.isArray(t)&&2===t.length&&{height:t[1],width:t[0]}}}_getPrebidCreativeWindowData(e){return{adId:e.bidderAdId,bidder:e.bidder,size:e.bidderSize,adserverTargeting:e.targeting}}_getPrebidBidDataFromBid(e){return{price:e.adserverTargeting.hb_pb,bidderSize:e.size||e.adserverTargeting.hb_size,advertiserDomains:e.meta&&e.meta.advertiserDomains||e.adserverTargeting.hb_adomain,bidder:e.bidder}}_getPrebidBidderDataFromIframe(e){const t=e.element.querySelector("iframe").contentWindow;if(!t)return{};const{adId:i,adserverTargeting:s,bidder:r,size:n}=this._getPrebidCreativeWindowData(t),{height:o,width:a}=this._getHeightWidth(t&&t.bidderSize);return{adId:i,adserverTargeting:s,adUnitCode:e.id,bidder:r,height:o,size:n,width:a}}_logUnknownFailure(e){const t=this._config.context,i=e.slot,s=e.event,{adId:r,adserverTargeting:n,auctionId:o,adUnitCode:a,bidder:l,height:d,meta:c,size:h,width:p}=i.servedPrebidBidResponse||this._getPrebidBidderDataFromIframe(i);if(o&&a&&!this._auctionData.has(`${o}-${a}`))return;const u={adId:r,advertiserDomains:c&&c.advertiserDomains||n&&n.hb_adomain,bidderSize:h||n&&n.hb_size,bidder:l,branch:t.branch,bucket:t.bucket,campaignId:s.campaignId,creativeId:s.creativeId||s.sourceAgnosticCreativeId,lineItemId:s.lineItemId||s.sourceAgnosticLineItemId,message:"An unknown error occurred rendering the Prebid creative",nref:i.refreshCount,price:n&&n.hb_pb,sequence:i.sequence,slotSizes:i.sizes,slot:i.location,...p&&d&&{size:[p,d]},...c&&(c.dchain&&{dchain:c.dchain}||c.networkId&&{networkId:c.networkId}),...(!r||r.length<2)&&n&&{hbAdId:n.hb_adid}};D.error("PrebidAuctionManager","init","prebidCreativeFailure",u),o&&a&&this._deleteStoredAuction(o,a)}};Hr=A([I(),O("design:paramtypes",[ys,Es,Cs,vs,qr])],Hr);let Gr=class extends lt{constructor(e){super(),this.key="sab",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(1).get()}};Gr=A([Xe("BidLimitExperiment"),I(),O("design:paramtypes",[nt])],Gr);let $r=class extends lt{constructor(e){super(),this.key="dco",this._choices=[{choice:"strict",weight:0},{choice:"relaxed",weight:100},{choice:"off",weight:0}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],$r.prototype,"run",null),$r=A([Xe("DemandChainExperiment"),I(),O("design:paramtypes",[nt])],$r);let Wr=class extends lt{constructor(e){super(),this.key="dajto",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.1).get()}};Wr=A([Xe("DisableAjaxTimeoutExperiment"),I(),O("design:paramtypes",[nt])],Wr);let Kr=class extends lt{constructor(e){super(),this.key="mxrpog",this._choices=[{choice:4,weight:50},{choice:5,weight:20},{choice:6,weight:20},{choice:7,weight:10}],this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Kr.prototype,"run",null),Kr=A([Xe("MaxRequestsExperiment"),I(),O("design:paramtypes",[nt])],Kr);const Qr={buckets:[{precision:2,max:.1,increment:.01},{precision:2,max:5,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:100,increment:.5}]};let Xr=class{constructor(e){this._config=e,this._configuration={suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_bidder",val:e=>e.bidderCode},{key:"hb_adid",val:e=>e.adId},{key:"hb_pb",val:e=>e.pbCg},{key:"hb_size",val:e=>this._config.video.instreamAdUnits.has(e.adUnitCode)?"":e.size},{key:"hb_deal",val:e=>e.dealId},{key:"hb_format",val:e=>e.mediaType},{key:"hb_adomain",val:e=>{var t,i;return(null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)?null===(i=e.meta)||void 0===i?void 0:i.advertiserDomains[0]:""}}]}}get configuration(){return this._configuration}};Xr=A([I(),O("design:paramtypes",[ys])],Xr);let Yr=class{constructor(e,t,i,s,r,n,o,a){this._config=e,this._prebidMethods=t,this._bidLimitExperiment=i,this._dcoExperiment=s,this._maxRequestsExperiment=r,this._disableAjaxTimeoutExperiment=n,this._ortb2=o,this._standardPrebidBidderSetting=a,this._uspConfig={usp:this._getUspConfig()},this._clientVendorExceptions=["appnexus"],this._serverVendorExceptions=this._config.prebid.s2s.bidders,this._gdprConfig={gdpr:{cmpApi:"iab",timeout:25e3,defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:this._clientVendorExceptions.concat(this._serverVendorExceptions)},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}},this._defaultConfig={maxRequestsPerOrigin:this._maxRequestsExperiment.result,auctionOptions:{secondaryBidders:["unruly","undertone","33across","telaria","nativo"]},bidderSequence:"fixed",...this._bidLimitExperiment.result&&{sendBidsControl:{bidLimit:3}},useBidCache:!0,enableSendAllBids:this._bidLimitExperiment.result,disableAjaxTimeout:this._disableAjaxTimeoutExperiment.result,userSync:{auctionDelay:this._config.prebid.auctionDelay,syncsPerBidder:1,aliasSyncEnabled:!0,enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}},gptPreAuction:{mcmEnabled:!0},priceGranularity:Qr,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:{},targetingControls:{allowTargetingKeys:this._config.prebid.targetingKeys,allowSendAllBidsTargetingKeys:this._config.prebid.sendAllBidsTargetingKeys},dchain:{validation:this._dcoExperiment.result},schain:{validation:"strict",config:(new Os).getSupplyChainConfig(this._config.site.id)},ortb2:this._ortb2.data}}_getUspConfig(){return this._config.ccpa.required?{cmpApi:"iab",timeout:0}:{cmpApi:"static",consentData:{getUSPData:{uspString:"1---"}}}}setDefaultConfig(){const e=this.addPrebidConsent(),t=this._defaultConfig;t.consentManagement=e,this._prebidMethods.setConfig(t)}applyClientAndServerBidderSettings(e){this._prebidMethods.setBidderSettings(e.reduce(((e,t)=>this._setupBidderSettings(e,t)),{standard:this._standardPrebidBidderSetting.configuration}))}aliasBidders(e){e.forEach((e=>{e.adapterName&&(e.adapterName!==e.name&&this._prebidMethods.setAliasBidder(e.adapterName,e.name),e.serverBidderName&&this._prebidMethods.setAliasBidder(e.adapterName,e.serverBidderName))}))}_setupBidderSettings(e,t){return e[t.name]=this.getBidderSettings(t,t.name),t.serverBidderName&&(e[t.serverBidderName]=this.getBidderSettings(t,t.serverBidderName)),e.standard.adserverTargeting&&t.adServerTargeting&&e.standard.adserverTargeting.push(...t.adServerTargeting),e}addPrebidConsent(){return!0===this._config.gdpr.enabled?this._gdprConfig:this._uspConfig}getBidderSettings(e,t){return{bidCpmAdjustment:(e,i)=>L(this._config,e,t,i),...e.settings}}};Yr=A([I(),O("design:paramtypes",[ys,Cs,Gr,$r,Kr,Wr,As,Xr])],Yr);let Jr=class extends lt{constructor(e){super(),this.key="vpred_1",this._choices=[{choice:.9,weight:96},{choice:.85,weight:1},{choice:.8,weight:1},{choice:.75,weight:1},{choice:0,weight:1}],this._result=this.run(),e.set(this.key,0!==this.result?String(100*this._result):"off")}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Jr.prototype,"run",null),Jr=A([Xe("PredictiveAnalysisExperiment"),I(),O("design:paramtypes",[nt])],Jr);let Zr=class extends lt{constructor(e){super(),this._choices=[{choice:100,weight:25},{choice:200,weight:50},{choice:300,weight:25}],this.key="s2sbuff",this._result=this.run(),e.set(this.key,200===this._result?"off":this._result.toString())}get result(){return this._result}run(){return new ut(this._choices).get()}};Zr=A([Xe("S2SBufferExperiment"),I(),O("design:paramtypes",[nt])],Zr);let en=class{constructor(e,t,i){this._config=e,this._prebidMethods=t,this._s2sBufferExperiment=i,this._s2sConfig=[{accountId:"9262",enabled:!0,bidders:this._config.prebid.s2s.bidders,defaultTtl:300,timeout:this._config.timeouts.initialBidsRequest-this._s2sBufferExperiment.result,adapter:"prebidServer",endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"}}]}init(){this._prebidMethods.setConfig({s2sConfig:this._s2sConfig.filter((e=>e.bidders.length))})}};en=A([P(),O("design:paramtypes",[ys,Cs,Zr])],en);let tn=class extends Ft{constructor(){super(...arguments),this.addSlots=new R,this.requestingBids=new R,this.refreshingBids=new R,this.addPrebidSlotTargeting=new R}};tn=A([I()],tn);let sn=class extends ks{constructor(e,t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m){super(),this._adthrive=e,this._bootstrapConfig=t,this._config=i,this._gam=s,this._s2s=r,this._bidderSetup=n,this._mediaType=o,this._prebidMethods=a,this._prebidConfiguration=l,this._predictiveAnalysisExperiment=d,this._slots=c,this._creativeMonitoring=h,this._ortb2=p,this._gdprEnforcement=u,this._slotEventBus=g,this.videoAdUnits=[],this.bidsRequested=new R,this._orderedDisplayBidders=this._bidderSetup.orderedDisplayBidders,this._orderedVideoBidders=this._bidderSetup.orderedVideoBidders,this._videoCreativeIdMapping=this._bidderSetup.videoCreativeIdMapping,this._predictiveAnalysisResult=this._predictiveAnalysisExperiment.result,this._analytics=[_,m].filter((e=>e.enabled))}init(){const e=this._prebidConfiguration,t=this._orderedDisplayBidders,i=this._orderedVideoBidders,s=[...t,...i];e.setDefaultConfig(),e.aliasBidders(s),this._s2s.init(),this._analytics.forEach((e=>void 0!==e.init&&e.init())),t.forEach((e=>void 0!==e.init&&e.init())),e.applyClientAndServerBidderSettings(s),Pe().then((()=>this._prebidMethods.triggerUserSyncs())).then((()=>this._registerSignalSources())).catch((e=>{D.error("PrebidAuctionManager","init","pageLoaded",e)})),this._setEvents(),this._predictiveAnalysisResult&&this._setVideoBidsFilter()}async _registerSignalSources(){if(this._config.ccpa.userOptedOut)return;if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))return}this._prebidMethods.setConfig({userSync:{encryptedSignalSources:{sources:[{source:["adserver.org","criteo.com","id5-sync.com","pubcid.org","parrable.com","liveramp.com"],encrypt:!1}],registerDelay:2e3}}}),this._prebidMethods.registerSignalSources()}_setEvents(){this._creativeMonitoring.setupCreativeEventListeners(),this._prebidMethods.onEvent("bidWon",(e=>{const t=this._slots.get(e.adUnitCode);t&&(t.servedPrebidBidResponse=e,this._slots.bidServed.emit(t))})),this._prebidMethods.onEvent("auctionEnd",(e=>{e.adUnitCodes.forEach((e=>{const t=this._slots.get(e);if(t){const e=this._prebidMethods.getAdserverTargetingForAdUnitCode(t.id);t.googleTagSlot&&!Object.keys(e).length&&t.googleTagSlot.setTargeting("hb_bidder","noBid")}else{const t=this._prebidMethods.getAdserverTargetingForAdUnitCode(e);this._slotEventBus.addPrebidSlotTargeting.emit({adUnitCode:e,slotTargeting:t})}}))}));const e=()=>{!this._mediaType.oneStreamExpResult&&this._mediaType.isOutstreamAllowed()||this._updateHighImpactUnitTargeting(),this._prebidMethods.offEvent("beforeRequestBids",e)};this._prebidMethods.onEvent("beforeRequestBids",e),this._predictiveAnalysisResult&&this._setVideoBidsFilter(),this._prebidMethods.onEvent("bidRequested",(()=>{this.bidsRequested.emit()}))}_setVideoBidsFilter(){if(this._adthrive.core=this._adthrive.core||{},this._adthrive.core.predictiveAnalysis=this._adthrive.core.predictiveAnalysis||[],!this._adthrive.core.predictiveAnalysis.length)return;const e=e=>{const t=this._config.context.device;return"1"===e?"phone"===t:"tablet"===t||"desktop"===t},t=this._adthrive.core.predictiveAnalysis.filter((t=>parseFloat(t.error_rate)>this._predictiveAnalysisResult&&"1"===t.chrome===N()&&e(t.mobile))),i={};t.forEach((e=>{const t=`${e.adomain},${e.bidder}`;i[t]=!0})),this._prebidMethods.setBidsReceivedFilter((e=>e.length&&this._config.video.instreamAdUnits.has(e[0].adUnitCode)?e.filter((e=>{var t,s;let r=!0;return null===(s=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)||void 0===s||s.forEach((t=>{const s=t+","+e.bidder;i[s]&&(r=!1)})),r})):e))}_updateSlotTargeting(e){if(!this._mediaType.outstreamSlots.has(`${e.placementMapName}`))return;const t=this._config.adTypes.enabledMinified.map((e=>e.toLowerCase())).filter((e=>"od"===e||"om"===e));t.length&&this._gam.setSlotTargeting({key:"hi_au",value:t},e.googleTagSlot)}instlEnabled(e){return"Interstitial"===e&&this._config.adOptions.interstitial.prebid}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}addSlots(e){const t=this._orderedDisplayBidders.map((t=>t.getBidRequests(e))),i=e.filter((e=>"Interstitial"!==e.location||this.instlEnabled(e.location))).sort(((e,t)=>e.auctionPriority-t.auctionPriority)).map((e=>{const i=this.instlEnabled(e.location),s=this._ortb2.addOrtb2Imp({slot:e},i);this._mediaType.oneStreamExpResult&&this._updateSlotTargeting(e);return{code:i?this._config.prebid.interstitialAdUnitCode:e.element.id,mediaTypes:this._mediaType.getMediaType({slot:e}),...s?{ortb2Imp:s}:{},bids:t.map((t=>t.get(e.id))).filter(Le).reduce(((e,t)=>e.concat(t)),[])}}));return this._prebidMethods.addAdUnits(i),this._setAdUnitOnSLot(e),i}_setAdUnitOnSLot(e){const t=this._prebidMethods.getPrebidAdUnits();t&&e.forEach((e=>{const i=t.filter((t=>t.code===e.element.id));i.length&&(e.prebidAdUnit=i[0])}))}_updateSlots(e){e.forEach((e=>{e.isHighlyViewable()&&(this._updateBidderBidParams(e),this._updateAdUnitParams(e))}))}_updateAdUnitParams(e){const t=e.prebidAdUnit;if(t){const i=t.ortb2Imp&&t.ortb2Imp.ext&&t.ortb2Imp.ext.prebid,s=i&&i.floorMin&&{ext:{data:{},prebid:{floorMin:i.floorMin}}},r=this._ortb2.addOrtb2Imp({slot:e},!1,s);t.ortb2Imp=r,t.mediaTypes=this._mediaType.getMediaType({slot:e})}}_updateBidderBidParams(e){const t=e.prebidAdUnit;t&&t.bids&&t.bids.forEach((t=>{const i=this._bidderSetup.biddersParams.get(t.bidder);i&&i.updateBidParams(t,e)}))}_updateHighImpactUnitTargeting(){const e=this._gam;Es.pushToQueue((()=>{const t="hi_au",i=e.getTargetingValuesForKey(t).filter((e=>"od"!==e&&"om"!==e));i.length?e.setTargeting({key:t,value:i}):e.clearTargetingForKey(t)}))}_addOutstreamLabel(e,t){return this._mediaType.isOutstreamAllowed()&&e.forEach((e=>{this._mediaType.outstreamEnabled(e).outstreamCapable&&t.push(`outstreamCapable_${e.placementMapName}`),this._mediaType.outstreamEnabled(e).currentlyActive&&t.push(`outstreamActive_${e.placementMapName}`)})),t}_addHvpLabel(e,t){e.forEach((e=>{e.isHighlyViewable()&&t.push(`hvp_${e.placementMapName}`)}))}_addRefreshLabel(e,t){e.forEach((e=>{e.refreshCount>0&&t.push("refresh")}))}_addLabels(e,t){this._addRefreshLabel(e,t),this._addOutstreamLabel(e,t),this._addHvpLabel(e,t)}requestBids(e,t=this._config.timeouts.initialBidsRequest,i=[]){return new Promise((s=>{this.checkLibLoaded().then((r=>{r||s();const n=e.map((e=>this.instlEnabled(e.location)?this._config.prebid.interstitialAdUnitCode:e.element.id));this._addLabels(e,i),this._updateSlots(e),this._prebidMethods.requestBids({adUnitCodes:n,timeout:t,bidsBackHandler:()=>{Es.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(n),s()}))},labels:i})})).catch((e=>D.error("PrebidAuctionManager","requestBids",e)))}))}addVideoSlots(e){const t=this._orderedVideoBidders.map((t=>t.getVideoBidRequests(e))),i=e.map((e=>{const i=this._ortb2.addOrtb2Imp({video:e}),s={code:e.name,ortb2Imp:i,mediaTypes:this._mediaType.getMediaType({video:e}),bids:t.map((t=>t.get(e.name))).filter(Le).reduce(((e,t)=>e.concat(t)),[])};return e.videoAdUnit=s,s}));this._prebidMethods.addAdUnits(i)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest){const i=e.map((({name:e})=>e));return new Promise((e=>{this.checkLibLoaded().then((s=>{s||e(),this._prebidMethods.requestBids({adUnitCodes:i,timeout:t,bidsBackHandler:()=>{Es.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(i),e()}))}})})).catch((e=>D.error("PrebidAuctionManager","requestVideoBids",e)))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest)}checkLibLoaded(){return new Promise((e=>{this._bootstrapConfig.bootstrapLoaders[bt.Prebid].then((()=>e(!0))).catch((()=>e(!1)))}))}get enabled(){return!H()}};sn=A([Xe("PrebidAuctionManager"),I(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Dt,ys,Es,en,Ur,Qs,Cs,Yr,Jr,vs,Hr,As,Vs,tn,js,Ns])],sn);let rn=class{constructor(e,t,i,s,r){this._config=e,this._slotEventBus=s,this._videoEventBus=r,this._auctionManagers=[i,t],this._auctionManagers=this._auctionManagers.filter((e=>e.enabled)),this._setSlotEvents(),this._setVideoEvents()}_setSlotEvents(){this._slotEventBus.addSlots.on((e=>this._addSlots(e))),this._slotEventBus.requestingBids.on((e=>this._requestBids(e))),this._slotEventBus.refreshingBids.on((e=>this._refreshBids(e)))}_setVideoEvents(){this._videoEventBus.videoPlayerAdded.on((e=>this._addVideoSlots(e))),this._videoEventBus.requestingVideoBids.on((({videos:e,timeout:t})=>this._requestVideoBids(e,t)))}init(){this._auctionManagers.forEach((e=>void 0!==e.init&&e.init()))}_requestBids(e){return Promise.all(this._auctionManagers.map((t=>t.requestBids(e))))}_refreshBids(e){return Promise.all(this._auctionManagers.map((t=>t.refreshBids(e))))}_addSlots(e){this._auctionManagers.forEach((t=>{void 0!==t.addSlots&&t.addSlots(e)}))}_addVideoSlots(e){this._auctionManagers.filter((e=>e.videoEnabled&&e.addVideoSlots)).forEach((t=>t.addVideoSlots(e)))}_requestVideoBids(e,t){return Promise.all(this._auctionManagers.filter((e=>e.videoEnabled)).map((i=>i.requestVideoBids(e,t))))}getPrebidAuctionManager(){for(const e of this._auctionManagers)if(e instanceof sn)return e}getAmazonAuctionManager(){for(const e of this._auctionManagers)if(e instanceof Rs)return e}};rn=A([Xe("AuctionManagers"),I(),O("design:paramtypes",[ys,sn,Rs,tn,zs])],rn);let nn=class{constructor(e){this._commands=e.cmd||[]}init(){if(this._commands.length>0){for(const e of this._commands){this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}this._commands=[]}}push(e){if(this._commands.length>0)this._commands.push(e);else{this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}}_call(e){e.call(void 0)}_isGamMethod(e){return e&&(e.includes("setTargeting(")||e.includes("googletag")||e.includes("pubads"))}_addToGamQueue(e){Es.pushToQueue((()=>{this._call(e)}))}};nn=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],nn);let on=class{constructor(e,t,i,s){this._config=e,this._googleAdManager=t,this._slots=i,this._eventBus=s,this.added=new R,this.cleared=new R,this.displayed=new R,this.displaying=new R,this.refreshed=new R,this.refreshing=new R,this.refreshingBids=new R,this.refreshedBids=new R,this.requestingBids=new R,this.requestedBids=new R,this.refreshInterval=25e3}async add(e){await this._googleAdManager.waitForQueue();const t=this._googleAdManager.defineSlots(this.castArray(e)),i=this._config.marmalade;return t.forEach((e=>{e.setViewability(i),e.setHighlyViewable(i),this._config.clsOptimizedAds.setStyle(e.element,e.location)})),this._eventBus.addSlots.emit(t),this._slots.add(t),await this.added.legacyEmit(t),t}async clear(e){const t=this.castArray(e);return t.forEach((e=>{e.displayed=!1,this.setMinDimensions(e.element)})),this._googleAdManager.clearSlots(t),await this.cleared.legacyEmit(t),t}destroy(e){const t=this.castArray(e);return this.pauseRefresh(t),this._slots.remove(t),this._googleAdManager.destroySlots(t),t}rebuild(e){const t=this.castArray(e),i=this._googleAdManager;for(const e of t)Es.pushToQueue((()=>{const t=["refresh","inf_scroll","decref","nref","hvp","lazy"].reduce(((t,i)=>{const s=e.getTargeting(i);return s.length&&t.push({key:i,value:s}),t}),[]);i.destroySlots(this.castArray(e)),i.defineSlots(this.castArray(e)),e.setTargeting(t)}));return t}async refresh(e,t=!0){const i=this.castArray(e);for(const e of i)e.refreshCount++,e.servedPrebidBidResponse=void 0;return await this.refreshing.legacyEmit(i),await Promise.all([!t||Q(this._config.timeouts.refreshBidsRequest),this.refreshBids(i)]).then((()=>this._googleAdManager.refreshSlots(i))),await this.refreshed.legacyEmit(i),i}async display(e){const t=this.castArray(e);return await this.displaying.legacyEmit(t),await this.requestBids(t).then((()=>this._googleAdManager.displaySlots(t))),t.forEach((e=>{e.displayed=!0})),await this.displayed.legacyEmit(t),t}inView(e){const t=this.castArray(e);return t.forEach((e=>this.setRefreshTimeout(e))),t}outOfView(e){const t=this.castArray(e);return t.filter((e=>!e.alwaysInView)).filter((e=>"IntersectionObserver"in window?e.outOfViewGPT&&e.outOfViewIO:e.outOfViewGPT)).forEach((e=>{const t=e.element.querySelector("div > iframe");Se(e.element)&&t&&Se(t)&&this.clearRefreshTimeout(e)})),t}pauseRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshTimeout)).forEach((e=>{e.refreshPaused=!0,this.clearRefreshTimeout(e)})),t}resumeRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshPaused)).forEach((e=>{e.refreshPaused=!1,this.setRefreshTimeout(e)})),t}updateRefreshTimeout(e,t){const i=this.castArray(e);return i.forEach((e=>{e.refreshInterval=t,e.refreshTimeout&&(this.clearRefreshTimeout(e),this.setRefreshTimeout(e))})),i}clearRefreshTimeout(e,t=!1){this.castArray(e).filter((e=>e.refreshTimeout)).forEach((e=>{window.clearTimeout(e.refreshTimeout),e.refreshTimeout=void 0,t?e.viewableDuration=0:e.viewableSince&&(e.viewableDuration+=Re()-e.viewableSince.getTime())}))}setRefreshTimeout(e){this.castArray(e).filter((e=>!e.refreshTimeout)).forEach((e=>{const t=K(e.refreshInterval,this.refreshInterval);t>0&&(e.viewableSince=new Date,e.refreshTimeout=window.setTimeout((()=>{e.viewableDuration=0,e.refreshInterval=void 0,e.refreshTimeout=void 0,this.refresh(e).catch((e=>{}))}),t-e.viewableDuration))}))}async requestBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction&&(!e.lazy||this._config.lazyLoad.lzhb)));return t.length>0&&(await this.requestingBids.legacyEmit(t),await this._eventBus.requestingBids.legacyEmit(t),await this.requestedBids.legacyEmit(t)),t}async refreshBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction));return t.length>0&&(await this.refreshingBids.legacyEmit(t),await this._eventBus.refreshingBids.legacyEmit(t),await this.refreshedBids.legacyEmit(t)),t}castArray(e){if("string"==typeof e){const t=this._slots.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}setMinDimensions(e){const t=getComputedStyle(e,null);e.style.minHeight=t.getPropertyValue("height"),e.style.minWidth=t.getPropertyValue("width")}};on=A([Xe("SlotManager"),I(),O("design:paramtypes",[ys,Es,vs,tn])],on);let an=class{constructor(){this.wasClosed=!1,this.wasStarted=!1,this.totalTimeCollapsed=0}};an=A([Xe("CollapsibleVideoLoggingStore"),I()],an);let ln=class extends lt{constructor(e){super(),this.key="upl",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.25).get()}};ln=A([Xe("UserPageDataLoggingExperiment"),I(),O("design:paramtypes",[nt])],ln);let dn=class extends lt{constructor(){super(),this.key="UserPageDataPrivacyLoggingExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new pt(.1).get()}};dn=A([Xe("UserPageDataPrivacyLoggingExperiment"),I(),O("design:paramtypes",[])],dn);let cn=class extends Bs{constructor(e,t,i,s,r,n,o,a,l){super(),this._bootstrapConfig=e,this._config=t,this._pageManager=i,this._prebidMethods=s,this._slotManager=r,this._userPageDataLoggingExperiment=n,this._userPageDataPrivacyLoggingExperiment=o,this._userPageDataLogEvents=a,this._collapsibleVideoLoggingStore=l,this._userPrivacyData={},this._getUserData=()=>({device:this._config.context.device,timePageOpen:ke()-this._config.timing.started,timeOnPage:this._config.timing.totalTimeOnPage,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,video:{nonclose:!this._collapsibleVideoLoggingStore.wasClosed,playerName:this._collapsibleVideoLoggingStore.playerName,totalTimeCollapsed:this._collapsibleVideoLoggingStore.totalTimeCollapsed,wasStarted:this._collapsibleVideoLoggingStore.wasStarted},...this._userPrivacyData,...!this._config.gdpr.enabled&&!this._config.ccpa.userOptedOut&&{uid1:Ne("adserver.org",this._prebidMethods.isPrebidLoaded())}})}init(){const{reasons:e}=this._config.disableAds;Promise.all([0!==e.size?0:this._slotManager.requestingBids.legacyOnce().then((()=>ke())),0!==e.size?0:this._slotManager.requestedBids.legacyOnce().then((()=>ke())),0!==e.size?0:this._slotManager.displayed.legacyOnce().then((()=>ke())),Pe()]).then((([e,t,i])=>this._setTimingData(e,t,i))).catch((e=>D.error("UserPageDataComponent","init",e))),we()&&this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.visibilityChange],(()=>{"hidden"===document.visibilityState&&this._logUserData()})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload,this._pageManager.pageHide],(()=>this._logUserData())),this._logUserPrivacyData().catch((()=>{D.error("_logUserPrivacyData: ","Could not log user privacy.")}))}get enabled(){return this._userPageDataLoggingExperiment.result}_setTimingData(e,t,i){if(window.performance&&window.performance.timing){const s=window.performance.timing;if(s&&0!==s.navigationStart){const r={pageLoad:s.loadEventStart-s.navigationStart,domainLookup:s.domainLookupEnd-s.domainLookupStart,connect:s.connectEnd-s.connectStart,request:s.responseStart-s.requestStart,response:s.responseEnd-s.responseStart,navigation:s.fetchStart-s.navigationStart,domInteractive:s.domInteractive-s.navigationStart,domContentLoaded:s.domContentLoadedEventStart-s.navigationStart};if(Object.keys(r).map((e=>r[e])).every((e=>!isNaN(e)&&e>=0&&e<36e5))){this._config.timing.setPrebidTimingData(this._bootstrapConfig.bootstrapResult);const{reasons:s}=this._config.disableAds;this._timingData={...r,...this._config.timing.timingData,disableAds:s.size>0?[...s].join(","):"none",auctionStarted:e,auctionFinished:t,displayed:i}}}}}_logUserData(){this._userPageDataLogEvents.loggingData.emit(),this._userPageDataLogEvents.setUserPageData({...this._timingData&&{UserPageTimingData:this._timingData},UserPageDataLoggingComponent:this._getUserData()})}async _logUserPrivacyData(){this._userPageDataPrivacyLoggingExperiment.result&&(this._userPrivacyData=await this._getUserPrivacyData())}async _getUserPrivacyData(){return{gpc:"navigator"in window&&"globalPrivacyControl"in window.navigator?window.navigator.globalPrivacyControl:null,dcp:await this._getDataConsent()}}async _getDataConsent(){if("dataConsentPreference"in document)try{return await document.dataConsentPreference()}catch(e){return null}return null}};cn=A([Xe("UserPageDataLoggingComponent"),P(),O("design:paramtypes",[Dt,ys,Qi,Cs,on,ln,dn,Wi,an])],cn);let hn=class extends lt{constructor(){super(),this.key="AdDensityExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new pt(.25).get()}};hn=A([Xe("AdDensityExperiment"),I(),O("design:paramtypes",[])],hn);const pn=()=>window.location.origin+"/"===un(window.location.href),un=e=>e.split("?")[0];let gn=class extends Bs{constructor(e,t,i,s,r,n,o){super(),this._gam=e,this._config=t,this._adDensityExperiment=i,this._slots=s,this._slotManager=r,this._pageManager=n,this._userPageDataLogEvents=o,this._initialSlotsTimeout=1e4,this._addToMainContent=new Set(["Below_Post"]),this._slotsForAdDensity=new Set(["Content","Recipe","Native_Recipe","Sponsor_Tile","Below_Post","Footer"]),this._mainContent=null,this._commentElem=null,this._heightsRegistered=!1,this._initMainContentHeight=null,this._endMainContentHeight=null,this._slotsHeightLoad=null,this._slotsHeightEnd=null,this._slotsHeightVideo=null,this._slotsForInitial=new Set,this._slotsForMainContent=new Set,this._slotsForEnd=new Set}init(){this._mainContent=(()=>{const e=document.querySelectorAll("article");if(0===e.length)return null;let t=e.item(0);return e.forEach((e=>{e.offsetHeight>t.offsetHeight&&(t=e)})),t&&t.offsetHeight>1.5*window.innerHeight?t:null})(),null!==this._mainContent&&(this._initObserver(this._mainContent),this._gam.slotOnload.on((()=>{this._heightsRegistered||(setTimeout((()=>{this._getSlotHeights()}),this._initialSlotsTimeout),this._heightsRegistered=!0)})),this._slotManager.added.on((e=>{e.some((e=>e.infinite))||this._addSlots(e)})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload],(()=>this._logAdDensity())))}_logAdDensity(){const e={...this._initMainContentHeight&&this._slotsHeightLoad&&{addensload:Math.round(this._slotsHeightLoad/this._initMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightEnd&&{addensend:Math.round(this._slotsHeightEnd/this._endMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightVideo&&{addensvid:Math.round(this._slotsHeightVideo/this._endMainContentHeight*100)}};Object.keys(e).length>0&&this._userPageDataLogEvents.setUserPageData({AdDensityComponent:e})}_addSlots(e){e.filter((e=>this._slotsForAdDensity.has(e.location))).forEach((e=>{e.lazy||(this._slotsForInitial.add(e.name),this._addToMainContent.has(e.location)&&this._slotsForMainContent.add(e.name)),this._slotsForEnd.add(e.name)}))}isSlotInMainContent(e){var t;return!(!(null===(t=this._mainContent)||void 0===t?void 0:t.querySelector(`#${e.id}`))||this.isSlotInComment(e))}isSlotInComment(e){return!(!this._commentElem||!this._commentElem.querySelector(`#${e.id}`))}_getSlotHeights(){let e=0,t=0;this._slots.get().forEach((i=>{this._slotsForInitial.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightLoad=e,this._mainContent&&(this._initMainContentHeight=null!==this._commentElem?this._mainContent.offsetHeight-this._commentElem.offsetHeight:this._mainContent.offsetHeight,this._initMainContentHeight+=t)}_initObserver(e){const t=e.querySelector("div #comments, section .comments");this._observer=this.getIntersectionObserver(t),null!==t?(this._commentElem=t,this._observer.observe(this._commentElem)):this._observer.observe(e)}getIntersectionObserver(e){return new IntersectionObserver((t=>{var i,s;for(const r of t)null!==this._initMainContentHeight&&(null===e&&r.boundingClientRect.top<0&&(this._calculateSlotHeightsAtEnd(),null===(i=this._observer)||void 0===i||i.unobserve(this._mainContent)),null!==e&&r.boundingClientRect.top>0&&(this._calculateSlotHeightsAtEnd(),null===(s=this._observer)||void 0===s||s.unobserve(e)))}),{})}_calculateSlotHeightsAtEnd(){let e=0,t=0;if(this._slots.get().forEach((i=>{this._slotsForEnd.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightEnd=e,this._mainContent&&(this._endMainContentHeight=null!==this._commentElem?this._mainContent.offsetHeight-this._commentElem.offsetHeight:this._mainContent.offsetHeight,this._endMainContentHeight+=t),this._config.video.playlistPlayerAdded){const t=document.querySelector(".adthrive-collapse-player");e+=t?t.offsetHeight:0}if(this._config.video.contextualPlayerAdded){document.querySelectorAll(".adthrive-video-player").forEach((t=>{e+=t.offsetHeight}))}if(this._config.video.sekindoPlayerAdded){const t=document.querySelector(".adthrive-sekindo-player");e+=t?t.offsetHeight:0}this._slotsHeightVideo=e}get enabled(){return this._adDensityExperiment.result&&"IntersectionObserver"in window&&!(null!==document.querySelector("body.home")||null!==document.querySelector("body.archive"))&&!pn()}};gn=A([Xe("AdDensityComponent"),P(),O("design:paramtypes",[Es,ys,hn,vs,on,Qi,Wi])],gn);let _n=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t}init(){if(this._config.context.querystring.has("ad_test")){const e=this._config.context.querystring.get("ad_test");this._gam.setTargeting({key:"sec",value:e.split(",").map((e=>`test${e}`))})}}};_n=A([Xe("AdTestComponent"),P(),O("design:paramtypes",[ys,Es])],_n);let mn=class extends lt{constructor(e){super(),this._result=!1,this.key="bmetrics",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.99).get()}};mn=A([Xe("BrandMetricsExperiment"),I(),O("design:paramtypes",[nt])],mn);let yn=class extends Bs{constructor(e,t,i){super(),this._brandMetricsExperiment=e,this._gam=t,this._prebidAuctionManager=i,this._url="https://cdn.brandmetrics.com/tag/aa466d868b2742ffa2cc31bb6341dc12/cafemedia.js"}init(){this._prebidAuctionManager.bidsRequested.once((()=>{this._load()}))}get enabled(){return this._brandMetricsExperiment.result}_load(){de(this._url).then((()=>this._monitorSurvey())).catch((()=>{}))}_monitorSurvey(){window._brandmetrics=window._brandmetrics||[],window._brandmetrics.push({cmd:"_querySurvey",val:{callback:(e,t)=>{e&&t&&t.measurementId&&this._gam.setTargeting({key:"bms",value:[t.measurementId.toString()]})}}})}};yn=A([Xe("BrandMetrics"),P(),O("design:paramtypes",[mn,Es,sn])],yn);let fn=class extends Bs{constructor(e){super(),this._config=e}init(){(e=>{const t=document.body,i=`adthrive-device-${e}`;if(!t.classList.contains(i))try{t.classList.add(i)}catch(e){D.error("BodyDeviceClassComponent","init",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t})}})(this._config.context.device)}};fn=A([Xe("BodyDeviceClassComponent"),P(),O("design:paramtypes",[ys])],fn);let vn=class extends Bs{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.ccpaRequired=this._config.ccpa.required,this.privacyString=this._config.ccpa.privacyString,this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable,this.ccpaOptIn=this._config.ccpa.ccpaOptIn,this.ccpaOptOut=this._config.ccpa.ccpaOptOut,this.gpcEnabled=!!this._config.ccpa.gpcEnabled,this.gpcUpdated=!1,this.globalPrivacyControl=window.navigator.globalPrivacyControl}init(){window.__uspapi=this.uspapi.bind(this),this.addLocatorFrame(),this.ccpaRequired?(this.setGpcString(),!0===this.gpcEnabled?this.setPrivacyString(this.ccpaOptOut):this.setPrivacyString(this.ccpaOptIn),this.addOptOutLink(),this.setDeviceAccess()):this.setPrivacyString(this.ccpaNotApplicable)}setPrivacyString(e,t=!1){const i=this.ccpaRequired&&this.privacyString===this.ccpaNotApplicable,s=!this.ccpaRequired&&this.privacyString!==this.ccpaNotApplicable;(""===this.privacyString||!0===t||i||s||this.gpcUpdated)&&(document.cookie=`usprivacy=${e}`,this.privacyString=e)}setGpcString(){null!==this.gpcEnabled&&!1!==this.gpcEnabled||!this.globalPrivacyControl?!0!==this.gpcEnabled||this.globalPrivacyControl||(localStorage.removeItem("adthrive_gpc"),this.gpcEnabled=this.globalPrivacyControl,this.gpcUpdated=!0):(localStorage.setItem("adthrive_gpc",`${this.globalPrivacyControl}`),this.gpcEnabled=!!`${this.globalPrivacyControl}`,this.gpcUpdated=!0)}setDeviceAccess(){const e=this.privacyString===this.ccpaOptIn;this._prebidMethods.setConfig({deviceAccess:e})}addOptOutLink(){const e="Do not sell my personal information.",t="Customize my ad experience.",i=this.privacyString===this.ccpaOptIn?e:t,s=document.createElement("div");s.className="adthrive-ccpa-link",s.innerHTML="Information from your device can be used to personalize your ad experience. <br> ";const r=document.createElement("a");r.innerHTML=i,r.addEventListener("click",(()=>{this.privacyString===this.ccpaOptIn?(this.setPrivacyString(this.ccpaOptOut,!0),r.textContent=t):(this.setPrivacyString(this.ccpaOptIn,!0),r.textContent=e),this._config.ccpa.consentChange.emit(this.privacyString),this.setDeviceAccess()}).bind(this)),s.appendChild(r),this._config.footer.elements.push({order:1,element:s})}uspapi(e,t,i){i({command:e,version:t,uspString:Oe("usprivacy")},!0)}addLocatorFrame(){if(null===document.getElementById("__uspapiLocator")){const e=document.createElement("iframe");e.style.display="none",e.id="__uspapiLocator",e.name="__uspapiLocator",document.body.appendChild(e)}}};vn=A([Xe("CCPAComponent"),P(),O("design:paramtypes",[ys,Cs])],vn);let bn=class extends Bs{constructor(e){super(),this._config=e}init(){const{comscore:e,comscoreMessage:t}=this._config.comscore;e&&this._config.footer.elements.push({order:2,element:`<span>An Elite ${t} Publisher</span>`})}};bn=A([Xe("ComscoreFooterComponent"),P(),O("design:paramtypes",[ys])],bn);let Sn=class extends lt{constructor(e){super(),this._result=!1,this.key="confiant",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"exp":"prod")}get result(){return this._result}run(){return new pt(.01).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Sn.prototype,"run",null),Sn=A([Xe("ConfiantRefreshExperiment"),I(),O("design:paramtypes",[nt])],Sn);let Cn=class extends lt{constructor(e){super(),this._result=!1,this.key="cnfep",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(1).get()}};Cn=A([Xe("ConfiantEndpointExperiment"),I(),O("design:paramtypes",[nt])],Cn);let wn=class extends Bs{constructor(e,t,i){super(),this._config=e,this._confiantRefreshExperiment=t,this._confiantEndpointExperiment=i,this._prodPropertyId="mOinGM9MTu5v-Lto835XLhlrSPY",this._expPropertyId="wyN88rwU6FImxcXgha7IWE-FzsE",this._trackerHoldoutKey="conf"}init(){const e=`https://confiant-integrations.global.ssl.fastly.net/${this._confiantRefreshExperiment.result?this._expPropertyId:this._prodPropertyId}/${this._confiantEndpointExperiment.result?"gpt_and_prebid/config.js":"gpt_and_prebid_v3l/config.js"}`;return window.confiant=window.confiant||{},window.confiant.callback=(e,t,i,s,r,n)=>{const o=En.get(e);D.event("ConfiantComponent","adBlocked",{blockingTypeIntegerValue:e,blockingType:o?o.type:"unknown",description:o?o.description:"unknown",tagId:r,wrapperId:s,blockingId:t,isBlocked:i})},de(e)}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}};wn=A([Xe("ConfiantComponent"),P(),O("design:paramtypes",[ys,Sn,Cn])],wn);const En=new Map([[1,{type:"manual",description:"Deprecated"}],[2,{type:"creative",description:"Creative-based detection"}],[3,{type:"provider_security",description:"Domain-based detection for unsafe domains"}],[4,{type:"banned_domain",description:"Domain-based detection for bannded domains"}],[5,{type:"provider_ibv",description:"Domain-based detection for in-banner-video"}],[6,{type:"unsafejs",description:"JavaScript-based detection for unsafe ads"}],[7,{type:"hrap",description:"Domain-based detection for high risk ad platform domains"}]]);let kn=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t,this.debug=!1,this.debug=this._config.context.debug}getConfigTargeting(){const e=this._config,t=this._config.context,i=this.debug;return[...e.gam.targeting,{key:"abgroup",value:e.abGroup.groups},{key:"pubab",value:e.pubAbGroup.groups},{key:"bucket",value:i?"unsupported":t.bucket},{key:"sens",value:e.site.sensitiveCategories},{key:"domain",value:t.domain},{key:"plugin",value:t.plugin},{key:"hi_au",value:e.adTypes.enabledMinified},{key:"vpwxvph",value:`${window.innerWidth}x${window.innerHeight}`},{key:"ri",value:t.querystring.has("ri")?t.querystring.get("ri"):String(Math.floor(100*Math.random()))},{key:"pvk",value:t.pageviewKey},{key:"sess",value:t.sessionKey},{key:"branch",value:t.branch},{key:"deployment",value:i||t.invalidTraffic?"unsupported":t.deployment},{key:"hbho",value:e.hbho.bidders},{key:"vbho",value:e.vbho.bidders},{key:"gptv",value:googletag.getVersion()}]}getConditionalTargeting(){const e=[],t=this._config.context,i=this._config.site,s=this._config.ccpa;return i.sensCategoriesOff.length&&e.push({key:"sens_off",value:i.sensCategoriesOff}),t.connectionTargeting.length&&e.push({key:"connection",value:t.connectionTargeting}),s.required&&e.push({key:"ccpaOptOut",value:s.userOptedOut?"1":"0"}),e}setConditionalFlagTargeting(){const e=this._config.context;e.invalidTraffic&&this._gam.setTargetingFlag("bot",e.invalidTraffic),e.adsMinLoadDuration&&this._gam.setTargetingFlag("adsmnche",e.adsMinLoadDuration),this._config.adOptions.pmp&&this._gam.setTargetingFlag("pmp_elig",["1"]),this._config.clsOptions&&(this._gam.setTargetingFlag("clson",[String(!!this._config.clsOptions.injectedFromPlugin)]),this._gam.setTargetingFlag("clsBranch",[this._config.clsOptions.branch||""]),this._gam.setTargetingFlag("clsBucket",[this._config.clsOptions.bucket||""])),e.integration&&this._gam.setTargetingFlag("integration",[e.integration]),e.deliveryVersion&&this._gam.setTargetingFlag("lmdv",[e.deliveryVersion])}init(){Es.pushToQueue((()=>{this._gam.setTargeting([...this.getConfigTargeting(),...this.getConditionalTargeting()]),this.setConditionalFlagTargeting()}))}};kn=A([Xe("ConfigTargetingComponent"),P(),O("design:paramtypes",[ys,Es])],kn);let xn=class extends Bs{constructor(e,t){super(),this._gam=e,this._slots=t}init(){this._gam.slotRenderEnded.on((e=>this.confirmedClickOverlay(e)))}confirmedClickOverlay({event:e,slot:t}){Es.pushToQueue((()=>{const{id:i,location:s,sequence:r,nref:n}=t.getTargetingMap(),o=this.confirmedClickStatus(this._slots.get(e.slot.getSlotElementId()));ge({event:e,ignoreOtherCompanyIds:!0})&&o&&D.event("confirmedClickOverlay","status",{id:i,location:s,sequence:r,nref:n,confirmedClick:o})}))}confirmedClickStatus(e){const t=["common_15click_overlay","common_15click_anchor"];try{const i=null==e?void 0:e.element.querySelectorAll("iframe[id^=google_ads_iframe]");let s;return i&&(null==i?void 0:i.length)>0&&(s=i[0]),t.some((e=>{var t;return null!=(null===(t=null==s?void 0:s.contentDocument)||void 0===t?void 0:t.getElementById(e))}))}catch(e){D.error("ConfirmedClickComponent","confirmedClickStatus",e)}return!1}};xn=A([Xe("ConfirmedClicksComponent"),P(),O("design:paramtypes",[Es,vs])],xn);let Tn=class extends Bs{constructor(e,t,i){super(),this._config=e,this._gam=t,this._slotManager=i,this._device=this._config.context.device}init(){const e=this._slotManager;this._gam.slotRenderEnded.on((({event:t,slot:i})=>{this.isDeclaredRefreshCompliantSlot(i)&&ge({event:t})&&e.updateRefreshTimeout(i.id,24e4)})),e.added.on((e=>e.forEach((e=>{this.isDeclaredRefreshCompliantSlot(e)&&Es.pushToQueue((()=>{e.setTargeting({key:"decref",value:"240"})}))}))))}isDeclaredRefreshCompliantSlot(e){return"Sidebar"===e.location&&("phone"===this._device||"tablet"===this._device)||"Header"===e.location&&2===e.sequence&&("phone"===this._device||"tablet"===this._device)}};Tn=A([Xe("DeclaredRefreshComponent"),P(),O("design:paramtypes",[ys,Es,on])],Tn);let Pn=class extends dt{constructor(e,t,i,s){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._clsOptions=s,this._choices=[],this._result=null,this.key=Pt.AdDensity,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);const r=this._clsOptions.getWeightedChoiceExperiment(this.key);void 0!==r?(this._result=r,this.setExperimentTargeting()):this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){var e;this.experimentConfig||D.error("AdDensitySiteExperiment","run","No experiment config found");const t=this._choices.map((e=>({choice:e.value/100,weight:e.weight})));return null!==(e=new ut(t).get())&&void 0!==e?e:null}setExperimentTargeting(){if(!this.experimentConfig||null===this._result)return void D.error("AdDensitySiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config and non-null result");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=`${this._result}`;return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Pn.prototype,"run",null),Pn=A([Xe("AdDensitySiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt,ei])],Pn);class In{constructor(e){this._adInjectionMap=e,this._totalContentInserted=0,this._recipeCount=0,this._mainContentHeight=0,this._mainContentDiv=null,this._totalAvailableElements=[],this._densityDevice=Ct.Desktop,this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0},this._densityMax=.99,this._smallerIncrementAttempts=0,this._absoluteMinimumSpacingByDevice=250,this._usedAbsoluteMinimum=!1,this.locationMaxLazySequence=new Map([["Recipe",5]])}inject(e,t=document){window.adthriveCLS&&window.adthriveCLS.targetDensityLog&&D.event("BaseDynamicAdsInjector","_logDensityInfo",window.adthriveCLS.targetDensityLog),this._densityDevice="desktop"===this._config.context.device?Ct.Desktop:Ct.Mobile,this._overrideDefaultAdDensitySettingsWithSiteExperiment();const i=this._config.targetDensity.enabled,s=e.filter((e=>i?"Content"!==e.location:e)),r=e.filter((e=>i?"Content"===e.location:null));return[...s.length?this._injectNonDensitySlots(s,t):[],...r.length?this._injectDensitySlots(r,t):[]]}_injectNonDensitySlots(e,t=document){const i=[];for(const s of e){let e=0,r=0,n=0;s.spacing>0&&(e=window.innerHeight*s.spacing,r=e);const o=this._repeatDynamicAds(s),a=this.getElements(s.elementSelector,t);s.skip;for(let l=s.skip;l<a.length&&!(n+1>o.length);l+=s.every){let d=a[l];if(e>0){const{bottom:t}=J(d);if(t<=r)continue;r=t+e}const c=o[n],h=`${c.location}_${c.sequence}`;if(i.some((e=>e.name===h))){n+=1;continue}const p=this.getDynamicElementId(c),u=`adthrive-${s.location.replace("_","-").toLowerCase()}`,g=[u,`${u}-${s.sequence}`,...s.classNames],_=this.addAd(d,p,s.position,g,s.location);if(_){const e=this._filterAdUnitSizes(c,_);e.length&&(i.push(this.createSlot(c,_,e,t!==document)),"Recipe"===s.location&&++this._recipeCount,n+=1),d=_}}}return i}_injectDensitySlots(e,t=document){try{this._calculateMainContentHeightAndAllElements(e,t)}catch(e){return[]}const{onePerViewport:i,targetAll:s,targetDensityUnits:r,combinedMax:n,numberOfUnits:o}=this._getDensitySettings(e,t);return this._absoluteMinimumSpacingByDevice=i?window.innerHeight:this._absoluteMinimumSpacingByDevice,o?(this._adInjectionMap.filterUsed(),this._findElementsForAds(o,i,s,n,r,t),this._insertAds()):[]}_overrideDefaultAdDensitySettingsWithSiteExperiment(){const e=x.resolve(Pn),{enabled:t,result:i}=e;t&&"number"==typeof i&&(this._config.targetDensity.enabled=!0,this._config.targetDensity.settings[this._densityDevice].adDensity=i)}_getDensitySettings(e,t=document){const i=this._config.targetDensity.settings,s=this._determineOverrides(i.pageOverrides),r=s.length?s[0]:i[this._densityDevice],n=r.adDensity,o=r.onePerViewport,a=this._shouldTargetAllEligible(n),l=this._getTargetDensityUnits(n,a),d=this._getCombinedMax(e,t),c=Math.min(this._totalAvailableElements.length,l,...d>0?[d]:[]);return this._pubLog={onePerViewport:o,targetDensity:n,targetDensityUnits:l,combinedMax:d},{onePerViewport:o,targetAll:a,targetDensityUnits:l,combinedMax:d,numberOfUnits:c}}_determineOverrides(e){return e.filter((e=>{const t=qe(e.pageSelector);return""===e.pageSelector||t.elements&&t.elements.length})).map((e=>e[this._densityDevice]))}_shouldTargetAllEligible(e){return e===this._densityMax}_getTargetDensityUnits(e,t){return t?this._totalAvailableElements.length:Math.floor(e*this._mainContentHeight/(1-e)/this._getMinDivHeight())-this._recipeCount}_getMinDivHeight(e="Content"){return this._config.clsOptimizedAds.getDivHeight(e,this._config.context.device)}_getCombinedMax(e,t=document){return K(e.filter((e=>{let i;try{i=t.querySelector(e.elementSelector)}catch(e){}return i})).map((e=>Number(e.max)+Number(e.lazyMaxDefaulted?0:e.lazyMax))).sort(((e,t)=>t-e))[0],0)}_elementLargerThanMainContent(e){return e.offsetHeight>=this._mainContentHeight&&this._totalAvailableElements.length>1}_elementDisplayNone(e){const t=window.getComputedStyle(e,null).display;return t&&"none"===t||"none"===e.style.display}_isBelowMaxes(e,t){return this._adInjectionMap.map.length<e&&this._adInjectionMap.map.length<t}_findElementsForAds(e,t,i,s,r,n=document){D.event("BaseDynamicAdsInjector","_logDensityInfo",{onePerViewport:t,combinedMax:s,targetDensityUnits:r,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length});const o=e=>{for(const{dynamicAd:t,element:o}of this._totalAvailableElements)if(this._logDensityInfo(o,t.elementSelector,e),!(!i&&this._elementLargerThanMainContent(o)||this._elementDisplayNone(o))){if(!this._isBelowMaxes(s,r))break;this._checkElementSpacing({dynamicAd:t,element:o,insertEvery:e,targetAll:i,target:n})}!this._usedAbsoluteMinimum&&this._smallerIncrementAttempts<5&&(++this._smallerIncrementAttempts,o(this._getSmallerIncrement(e)))},a=this._getInsertEvery(e,t,r);o(a)}_getSmallerIncrement(e){let t=.6*e;return t<=this._absoluteMinimumSpacingByDevice&&(t=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0),t}_insertAds(){const e=[];return this._adInjectionMap.filterUsed(),this._adInjectionMap.map.forEach((({el:t,coords:i,dynamicAd:s,target:r},n)=>{const o=Number(s.sequence)+n,a=s.max,l=s.lazy&&o>a;s.sequence=o,s.lazy=l;const d=this._addContentAd(t,s,r);d&&(s.used=!0,e.push(d))})),e}_getInsertEvery(e,t,i){let s=this._absoluteMinimumSpacingByDevice;return this._moreAvailableElementsThanUnitsToInject(i,e)?(this._usedAbsoluteMinimum=!1,s=this._useWiderSpacing(i,e)):(this._usedAbsoluteMinimum=!0,s=this._useSmallestSpacing(t)),t&&window.innerHeight>s?window.innerHeight:s}_useWiderSpacing(e,t){return this._mainContentHeight/Math.min(e,t)}_useSmallestSpacing(e){return e&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:this._absoluteMinimumSpacingByDevice}_moreAvailableElementsThanUnitsToInject(e,t){return this._totalAvailableElements.length>e||this._totalAvailableElements.length>t}_logDensityInfo(e,t,i){const{onePerViewport:s,targetDensity:r,targetDensityUnits:n,combinedMax:o}=this._pubLog;this._totalAvailableElements.length}_checkElementSpacing({dynamicAd:e,element:t,insertEvery:i,targetAll:s,target:r=document}){(this._isFirstAdInjected()||this._hasProperSpacing(t,e,s,i))&&(++this._totalContentInserted,this._markSpotForContentAd(t,{...e},r))}_isFirstAdInjected(){return!this._adInjectionMap.map.length}_markSpotForContentAd(e,t,i=document){const s="beforebegin"===t.position||"afterbegin"===t.position;this._adInjectionMap.add(e,this._getElementCoords(e,s),t,i),this._adInjectionMap.sort()}_hasProperSpacing(e,t,i,s){const r="beforebegin"===t.position||"afterbegin"===t.position,n="beforeend"===t.position||"afterbegin"===t.position,o=i||this._isElementFarEnoughFromOtherAdElements(e,s,r),a=n||this._isElementNotInRow(e,r),l=-1===e.id.indexOf("AdThrive_Below_Post");return o&&a&&l}_isElementFarEnoughFromOtherAdElements(e,t,i){const s=this._getElementCoords(e,i);let r=!1;for(let e=0;e<this._adInjectionMap.map.length;e++){const i=this._adInjectionMap.map[e].coords,n=this._adInjectionMap.map[e+1]&&this._adInjectionMap.map[e+1].coords;if(r=s-t>i&&(!n||s+t<n),r)break}return r}_isElementNotInRow(e,t){const i=e.previousElementSibling,s=e.nextElementSibling,r=t?!i&&s||i&&e.tagName!==i.tagName?s:i:s;return!(!r||0!==e.getBoundingClientRect().height)||(!r||e.getBoundingClientRect().top!==r.getBoundingClientRect().top)}_calculateMainContentHeightAndAllElements(e,t=document){const i=this._setMainContentAndElements(e,t);this._mainContentDiv=i;const s=this._mainContentDiv.querySelector("div #comments, section .comments");this._mainContentHeight=s?this._mainContentDiv.offsetHeight-s.offsetHeight:this._mainContentDiv.offsetHeight}_setMainContentAndElements(e,t=document){const i=this._getElementsFromDynamicAdEntry(e,t);if(0===i.length)throw Error("No Main Content Elements Found");return Array.from(i).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e))||document.body}_getElementsFromDynamicAdEntry(e,t=document){const i=this._getLongestArticleTag(t),s=i?[i]:[],r=[];e.forEach((e=>{const i=Array.from(this.getElements(e.elementSelector,t)).slice(0,e.skip);this._getSelectors(e.elementSelector).forEach((n=>{const o=t.querySelectorAll(n);for(let t=0;t<o.length;t++){const n=o[t];if(this._adInjectionMap.map.some((({el:e})=>e.isEqualNode(n))))continue;const a=n&&n.parentElement;a&&a!==document.body?s.push(a):s.push(n),-1===i.indexOf(n)&&r.push({dynamicAd:e,element:n})}}))}));const n=this._getContainerDivTop(t);return this._totalAvailableElements=r.sort(((e,t)=>e.element.getBoundingClientRect().top-n-(t.element.getBoundingClientRect().top-n))),s}_getContainerDivTop(e=document){return(e===document?document.body:e).getBoundingClientRect().top}_getLongestArticleTag(e=document){const t=e.querySelectorAll("article");if(0===t.length)return null;const i=Array.from(t).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e));return i&&i.offsetHeight>1.5*window.innerHeight?i:null}_getSelectors(e){return e.includes(",")?e.split(","):[e]}_getElementCoords(e,t=!1){const i=e.getBoundingClientRect();return(t?i.top:i.bottom)+window.scrollY}_addContentAd(e,t,i=document){let s=null;const r=`adthrive-${t.location.replace("_","-").toLowerCase()}`,n=`${r}-${t.sequence}`,o=this.addAd(e,this.getDynamicElementId(t),t.position,[r,n,...t.classNames],t.location);if(o){const e=this._filterAdUnitSizes(t,o);e.length&&(s=this.createSlot(t,o,e,i!==document))}return s}getElements(e,t=document){return t.querySelectorAll(e)}_filterAdUnitSizes(e,t){const i=(e=>{let t=e.clientWidth;if(getComputedStyle){const i=getComputedStyle(e,null);t-=parseFloat(i.paddingLeft||"0")+parseFloat(i.paddingRight||"0")}return t})(t),s=e.sticky&&"Sidebar"===e.location;return e.sizes.filter((t=>{const r=!e.autosize||(t[0]<=i||t[0]<=320),n=!s||t[1]<=window.innerHeight-100;return r&&n}))}createSlot({location:e,sequence:t,sticky:i,lazy:s,stickyOverlapSelector:r,special:n,auctionPriority:o},a,l,d){return new fs(e,t,l,a,i,s,o,r,n,!0,d)}_repeatDynamicAds(e){const t=[],i=e.lazy?K(this.locationMaxLazySequence.get(e.location),0):0,s=e.max,r=e.lazyMax,n=0===i&&e.lazy?s+r:Math.min(Math.max(i-e.sequence+1,0),s+r),o=Math.max(s,n);for(let i=0;i<o;i++){const r=Number(e.sequence)+i,n=e.lazy&&i>=s;t.push({...e,sequence:r,lazy:n})}return t}addAd(e,t,i,s=[],r){var n;let o=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;if("Video_StickyOutstream"===r){o=`<div class="adthrive-sticky-outstream adthrive-sticky-outstream-${t.includes("phone")?"mobile":"desktop"}">`+o+"</div>"}return(null===(n=window.adthriveCLS)||void 0===n?void 0:n.injectedSlots.some((e=>e.element.id===t)))||e.insertAdjacentHTML(i,o),document.getElementById(t)}}let An=class extends class{constructor(){this._map=[]}add(e,t,i,s=document){this._map.push({el:e,coords:t,dynamicAd:i,target:s})}get map(){return this._map}sort(){this._map.sort((({coords:e},{coords:t})=>e-t))}filterUsed(){this._map=this._map.filter((({dynamicAd:e})=>!e.used))}}{};An=A([I()],An);let Mn=class extends In{constructor(e,t){super(t),this._config=e,this._adInjectionMap=t}getDynamicElementId(e){return`${this._config.gam.prefix}_${e.location}_${e.sequence}_${this._config.context.device}`}};Mn=A([Xe("DynamicAdsInjector"),P(),O("design:paramtypes",[ys,An])],Mn);let On=class extends Bs{constructor(e,t,i,s){super(),this._config=e,this._injector=t,this._slotManager=i,this._gam=s}hasClsInjectedContent(){if(window.adthriveCLS&&window.adthriveCLS.injectedSlots.length)for(const e of window.adthriveCLS.injectedSlots)if(e.name.includes("Content"))return!0;return!1}start(){const e=this.hasClsInjectedContent(),t=this._config.dynamicAds.filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((t=>!e||e&&"Content"!==t.location)).filter((e=>"Interstitial"===e.location||"Video_StickyOutstream"===e.location?this.forPageBlocks(e.pageSelector):this.forPage(e))).filter((e=>!this.pluginInjected(e))).filter((e=>"Video_StickyOutstream"!==e.location||!this.shouldFilterStickyOutstream()));let i=this._injector.inject(t);if(this._config.clsOptions&&this._config.clsOptions.enabled){const e=[];this._config.clsOptions.injectedSlots.forEach((t=>{i.some((e=>e.name===t.name))||e.push(this._injector.createSlot(t.dynamicAd,t.element,t.sizes,t.infinite))})),i=i.concat(e)}this._slotManager.add(i).catch((e=>{D.error("DynamicAdsComponent","start","add",e)}))}get enabled(){return this._config.dynamicAds.length>0}shouldFilterStickyOutstream(){return!!(this._config.video.preventStickyOutstream||this._config.disableAds.video||!this._config.video.stickyOutstreamSettings.allowOnHomepage&&pn())||(this._config.video.hasStickyOutstream=!0,!1)}pluginInjected(e){const t=JSON.stringify(e);return this._config.clsOptions&&this._config.clsOptions.injectedSlots.some((e=>JSON.stringify(e.clsDynamicAd)===t))}forDevice(e,t){return e.devices.includes(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}forPageBlocks(e){return 0===e.length||!e.split(",").some((e=>null!==document.querySelector(e)))}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};On=A([Xe("DynamicAdsComponent"),P(),O("design:paramtypes",[ys,Mn,on,Es])],On);let zn=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t}init(){try{this._gam.slotOnload.once((()=>this.refreshExternal()))}catch(e){D.error("ExternalSlotsComponent","init",e)}}refreshExternal(){Es.pushToQueue((()=>{const{account:e}=this._config.gam,t=googletag.pubads().getSlots().filter((t=>null===RegExp(`^/?${e}/`).exec(t.getAdUnitPath()))).filter((e=>null!==document.getElementById(e.getSlotElementId())));t.length&&googletag.pubads().refresh(t)}))}};zn=A([Xe("ExternalSlotsComponent"),P(),O("design:paramtypes",[ys,Es])],zn);let Rn=class extends Bs{constructor(e){super(),this._gam=e}init(){const e=this.isFirstPageview()?"1":"0";this.setFPV(e)}setFPV(e="0"){+e&&localStorage.setItem("adthrive_fpv",(new Date).toString()),this._gam.setTargeting({key:"fpv",value:e})}isFirstPageview(){let e=0;try{const t=localStorage.getItem("adthrive_fpv");if(t&&(e=Date.now()-Date.parse(t)),!t||e>864e5)return!0}catch(e){}return!1}};Rn=A([Xe("FirstPageviewComponent"),P(),O("design:paramtypes",[Es])],Rn);let Bn=class{constructor(e){this._videoEventBus=e,this.refreshingVideoBids=new R,this.requestingVideoBids=new R,this.requestingSekindoBids=new R}addVideoSlots(e){this._videoEventBus.videoPlayerAdded.emit(e)}async requestVideoBids(e,t){await this.requestingVideoBids.legacyEmit(e).catch(),await this._determineIsRefreshing(e).catch(),await this._videoEventBus.requestingVideoBids.legacyEmit({videos:e,timeout:t})}async _determineIsRefreshing(e){const t=e.filter((e=>e._prerollNum>0));t.length&&await this.refreshingVideoBids.legacyEmit(t)}};Bn=A([Xe("VideoRequestManager"),I(),O("design:paramtypes",[zs])],Bn);let Dn=class extends Bs{constructor(e,t,i,s,r){super(),this._slotManager=e,this._config=t,this._prebidMethods=i,this._videoRequestManager=s,this._irisTv=r,this.staticFirstPartyData={site_code:this._config.marmalade.siteCodes.filter(ee),site_id:[this._config.site.id],sens:this._config.site.filteredSensitiveCategories,verticals:this._config.site.verticals,pmp_elig:[this._config.adOptions.pmp]}}init(){this._slotManager.added.once((()=>{this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["false"],vp:"0"},rfCodeBidder:"rubi"}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["triplelift","tripl_ss"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["yahoossp"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1})})),this._slotManager.refreshing.once((()=>{this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["true"],vp:"0"}}),this._prebidMethods.addToQueue((()=>{this.setIXRefresh()}))})),this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((()=>{const e=this._irisTv,t=e.irisContextualData;t&&t.length&&this.setBidderSpecificFpd({bidders:["pubmatic","pubm_ss"],fpdData:{content:{id:e.irisId}},addStaticFpd:!1,isExtData:!1})}))})),this._videoRequestManager.refreshingVideoBids.on((e=>{e.forEach((e=>{e.vp>0&&e._prerollNum<=10&&(this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["true"],vp:e.vp.toString()}}),this._prebidMethods.addToQueue((()=>{this.setIXVPParam(e.vp)})))}))}))}setBidderSpecificFpd({bidders:e,fpdData:t,addStaticFpd:i=!0,location:s="site",isExtData:r=!0,rfCodeBidder:n}){const o=this._config.marmalade.mcmp,a=()=>{this._config.marmalade.rfMcmpCodes.forEach((e=>{const t=e[0];e[1].includes(n)&&o.push(t)})),this.setPrebidFirstPartyData(e,d,s)},l={...i&&{...this.staticFirstPartyData,mcmp:o},...t},d=r?{ext:{data:l}}:l;n?this._config.marmalade.rfDataProcessed.emitted?a():(this.setPrebidFirstPartyData(e,d,s),this._config.marmalade.rfDataProcessed.on((()=>a()))):this.setPrebidFirstPartyData(e,d,s)}setPrebidFirstPartyData(e,t,i){this._prebidMethods.setBidderConfig({bidders:e,config:{ortb2:{[i]:t}}})}setIXRefresh(){const e=this._prebidMethods.getConfig("ix");e&&e.firstPartyData&&"True"!==e.firstPartyData.Refresh&&pe({Refresh:"True"},this._prebidMethods)}setIXVPParam(e){const t=this._prebidMethods.getConfig("ix");t&&t.firstPartyData&&e>0&&pe({vp:e.toString()},this._prebidMethods)}};Dn=A([Xe("FirstPartyDataComponent"),P(),O("design:paramtypes",[on,ys,Cs,Bn,kr])],Dn);let Vn=class extends Bs{constructor(e,t,i,s){super(),this._slotManager=e,this._prebidMethods=t,this._floors=i,this._floorsExperiment=s,this._percentile=0,this._enabledAdUnits=["Content","Recipe","Below_Post"],this._adUnitCpms=[],this._percentile=this._floorsExperiment.result.percentile.lazy}init(){this._slotManager.requestingBids.on((e=>{const t=this._floors.getDefaultFloorConfig();e.filter((e=>this._enabledAdUnits.includes(e.location)&&e.lazy)).forEach((e=>{const i=Ee(this._adUnitCpms,this._percentile);this._floors.setValues(t,e.id,i)})),this._floors.prioritizeFloorsConfig(t,qt.lazy)})),this._slotManager.requestedBids.on((e=>{e.filter((e=>this._enabledAdUnits.includes(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this.saveBids(e)}))}))}))}saveBids(e){this._prebidMethods.getBidResponsesForAdUnitCode(e.id).bids.forEach((e=>{this._adUnitCpms.push(e.cpm)}))}get enabled(){const e=!0===ie("session_fpv")||null===ie("session_fpv");return Boolean(this._percentile)&&e&&!0===this._floorsExperiment.result.legacy}};Vn=A([Xe("FloorsLazyComponent"),P(),O("design:paramtypes",[on,Cs,Ms,$t])],Vn);let Ln=class extends lt{constructor(e){super(),this.abgroup=e,this._choices=[{choice:1,weight:10},{choice:1.3,weight:30},{choice:1.1,weight:30},{choice:1.2,weight:30}],this.key="refflr2",this._result=this.run(),this.abgroup.set(this.key,this._result.toString())}get result(){return this._result}run(){return new ut(this._choices).get()}};Ln=A([Xe("FloorsRefreshExperiment"),I(),O("design:paramtypes",[nt])],Ln);let Fn=class extends lt{constructor(e){super(),this.abgroup=e,this._choices=[{choice:1,weight:97},{choice:1.1,weight:1},{choice:1.2,weight:1},{choice:1.3,weight:1}],this.key="refvidflr",this._result=this.run(),this.abgroup.set(this.key,this._result.toString())}get result(){return this._result}run(){return new ut(this._choices).get()}};Fn=A([Xe("FloorsInstreamRefreshExperiment"),I(),O("design:paramtypes",[nt])],Fn);let jn=class extends Bs{constructor(e,t,i,s,r,n,o,a){super(),this._config=e,this._slotManager=t,this._floors=i,this._prebidMethods=s,this._videoRequestManager=r,this._floorsExperiment=n,this._floorsRefreshExperiment=o,this._floorsInstreamRefreshExp=a,this._expirationThreshold=5,this._bannerMulitplier=this._floorsRefreshExperiment.result,this._instreamMultiplier=this._floorsInstreamRefreshExp.result}init(){this._slotManager.refreshing.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>e.id)))}))})),this._videoRequestManager.refreshingVideoBids.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>{var t;return null===(t=e.videoAdUnit)||void 0===t?void 0:t.code})))}))}))}_updateBidTTL(e,t){this._prebidMethods.getBidResponsesForAdUnitCode(e).bids.filter((e=>"rendered"!==e.status&&e.ttl&&!e.expired)).forEach((e=>{const i=e.responseTimestamp,s=e.ttl-this._expirationThreshold;Number(i)+1e3*Number(s)<t&&(e.ttl=s,e.expired=!0)}))}_getFloorValue(e,t){const i=t?this._instreamMultiplier:this._bannerMulitplier;return e&&e*i}_setRefreshFloors(e){const t=this._floors.getDefaultFloorConfig();for(const i of e){const e=Re();this._updateBidTTL(i,e);const[s]=this._prebidMethods.getHighestCpmBids(i),r=this._config.video.instreamAdUnits.has(i),n=this._getFloorValue(null==s?void 0:s.cpm,r);n&&this._floors.setValues(t,i,n)}this._floors.prioritizeFloorsConfig(t,qt.refresh)}get enabled(){return!0===this._floorsExperiment.result.legacy}};jn=A([Xe("FloorsRefreshComponent"),P(),O("design:paramtypes",[ys,on,Ms,Cs,Bn,$t,Ln,Fn])],jn);let Nn=class extends Bs{constructor(e,t,i,s){super(),this._adthrive=e,this._config=t,this._floors=i,this._floorsExperiment=s}init(){const e=this._config.floorsData;e?this.createFloorsMap(e):this._config.floorsDataReady.once((()=>this.createFloorsMap(e)))}createFloorsMap(e){e?(this.buildFloorsMap(e.modelGroups),this._floors.setPrebidFloors(e)):D.error("RubiconFloorsComponent","init","Rubicon floor data not found")}buildFloorsMap(e){e.forEach(((e,t)=>{this._floors.modelVersionMap.set(e.modelVersion,t)}))}get enabled(){const e=this._adthrive.deliveryFeatures||this._adthrive.experiments;return!(!e||!e.includes(St.rubiconFloors))&&!0===this._floorsExperiment.result.rubicon}};Nn=A([Xe("FloorsRubiconComponent"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Wt,Ms,$t])],Nn);let Un=class extends Bs{constructor(e,t,i,s){super(),this._slotManager=e,this._floors=t,this._prebidMethods=i,this._floorsExperiment=s,this._percentile=.6,this._rdx=33;const r=ie("bc");this._savedBids=r?xe(r,this._rdx):{Content:[],Recipe:[],Header:[],Below_Post:[],Sidebar:[],Footer:[]}}init(){if(!1===ie("session_fpv")){const e=this._floors.getDefaultFloorConfig();this._slotManager.requestingBids.on((t=>{t.filter((e=>Object.keys(this._savedBids).includes(e.location))).forEach((t=>{const i=Ee(this._savedBids[t.location],this._percentile);this._floors.setValues(e,t.id,i)})),this._floors.prioritizeFloorsConfig(e,qt.session)}))}this.saveBids()}saveBids(){this._slotManager.requestedBids.on((e=>{e.filter((e=>Object.keys(this._savedBids).includes(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this.saveSlotBids(e)}))})),se("bc",Te(this._savedBids,this._rdx))}))}saveSlotBids(e){this._prebidMethods.getBidResponsesForAdUnitCode(e.id).bids.forEach((t=>{var i,s;i=this._savedBids[e.location],s=1e3,i.length>=s&&i.splice(Math.floor(Math.random()*i.length),1),this._savedBids[e.location].push(t.cpm)}))}get enabled(){return!0===this._floorsExperiment.result.legacy}};Un=A([Xe("FloorsSessionComponent"),P(),O("design:paramtypes",[on,Ms,Cs,$t])],Un);let qn=class extends Bs{constructor(e,t,i,s){super(),this._floorsComponents=[e,t,i,s].filter((e=>e.enabled))}init(){this._floorsComponents.forEach((e=>void 0!==e.init&&e.init()))}};qn=A([P(),O("design:paramtypes",[Vn,jn,Nn,Un])],qn);let Hn=class extends Bs{constructor(e){super(),this._config=e}start(){if(this._config.footer.elements.length){const e=document.createElement("div");e.className="adthrive-comscore adthrive-footer-message",this._config.footer.elements.sort(((e,t)=>e.order-t.order)).forEach((({element:t})=>{t instanceof Element?e.insertAdjacentElement("beforeend",t):e.insertAdjacentHTML("beforeend",t)}));const t=""===this._config.adOptions.footerSelector?".adthrive-mobile #page-wrapper":this._config.adOptions.footerSelector;(document.querySelector(t)||document.body).insertAdjacentElement("beforeend",e)}}};Hn=A([Xe("FooterComponent"),P(),O("design:paramtypes",[ys])],Hn);let Gn=class extends Bs{constructor(e,t){super(),this._slotManager=e,this._slots=t}init(){let e=!1;this._slots.bidServed.on((t=>{t.servedPrebidBidResponse&&"gumgum"===t.servedPrebidBidResponse.bidder&&"Footer"===t.location&&(e=!0)})),this._slotManager.refreshing.on((t=>{t.filter((e=>"Footer"===e.location))&&e&&(e=!1,window.GUMGUM.removeISAd())}))}};Gn=A([Xe("GumGumInScreenComponent"),P(),O("design:paramtypes",[on,vs])],Gn);let $n=class extends Bs{constructor(e,t,i){super(),this._emailCaptureHandler=e,this._config=t,this._gdprEnforcement=i,this._hasRun=!1}init(){this._config.identityApi.optIn.on((({data:e,cb:t})=>this.identityOptIn(e,t).catch((()=>{})))),window.addEventListener("message",(e=>{if(window===window.top&&e&&e.origin===window.origin&&e.data&&"adthriveIdentityAPI"===e.data.message&&e.data.info){const t={message:"adthriveIdentityFinished",response:{}};this.identityOptIn(e.data.info,(i=>{var s;e.source instanceof MessagePort||e.source instanceof ServiceWorker||(t.response=i,null===(s=e.source)||void 0===s||s.postMessage(t,e.origin))})).catch((()=>{}))}}),!1)}start(){this._config.identityApi.apiReady.emit()}validateData(e){if(!e.source||"string"!=typeof e.source||e.source.length>20)throw Error("source required with 20 characters or less");if(!e.plainText&&!e.sha256)throw Error("plainText or sha256 required");if(e.plainText&&("string"!=typeof e.plainText||!Z(e.plainText)))throw Error(`plainText not string or not valid email: ${e.plainText}`);if(e.sha256&&("string"!=typeof e.sha256||64!==e.sha256.length))throw Error(`sha256 not string or not encoded properly: ${e.sha256}`)}buildPII(e){const t={source:e.source};return e.plainText&&(t.email=e.plainText),e.sha256&&(t.hash=e.sha256),t}async identityOptIn(e,t){try{if(!this._config.identityApi.enabled)throw Error("Identity API not enabled");if(this._hasRun)throw Error("Identity API Already Successfully Called");if(this._config.ccpa.userOptedOut)throw Error("User has opted out of CCPA");if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))throw Error("CafeMedia not given Purpose 1 consent to process identity data.")}this.validateData(e);const i=this.buildPII(e);this._emailCaptureHandler.emailCaptured.emit(i),t({success:!0,data:{message:"OK"}}),this._hasRun=!0}catch(e){t({success:!1,data:{message:e.message}})}}};$n=A([Xe("IdentityAPIComponent"),P(),O("design:paramtypes",[Ss,ys,Vs])],$n);let Wn=class{constructor(e,t){this._gam=e,this._pageManager=t,this.scroll=new R,this.resize=new R,this.pageVisibility=new R,this.videoPlaying=new R,this.videoSlotRendered=new R,this.footerRefreshed=new R,this.addEventListeners(),this._gam.slotResponseReceived.on((({slot:e})=>{"Footer"===e.location&&this.footerRefreshed.emit()}))}addEventListeners(){let e=!1,t=!1;const i=()=>{e||(e=!0,setTimeout((()=>{this.scroll.emit(),e=!1}),100))},s=()=>{t||(t=!0,setTimeout((()=>{this.resize.emit(),t=!1}),100))};this._pageManager.scroll.on((()=>i())),this._pageManager.resize.on((()=>s())),this._pageManager.visibilityChange.on((()=>{this.pageVisibility.emit(document.hidden)}))}emitVideoPlayingEvent(e){this.videoPlaying.emit(e)}emitVideoSlotRenderedEvent(e){this.videoSlotRendered.emit(e)}};Wn=A([I(),O("design:paramtypes",[Es,Qi])],Wn);let Kn=class extends Bs{constructor(e,t,i){super(),this._config=e,this._gam=t,this._videoEventProxy=i,this._renderedSlotKey=new Map,this._filterKeys=new Set(["abgroup","pvk","bucket","branch","deployment","siteName","siteId"]),this._host="dev-track.adthrive.com",this._enabled=this._config.impressionLog.enabled}init(){this._gam.slotRenderEnded.on((e=>this._bannerSlotRenderEnded(e))),this._videoEventProxy.videoSlotRendered.on(this._videoSlotRenderEnded.bind(this))}get enabled(){return this._enabled}_getDecodedURI(e){try{return decodeURIComponent(e)}catch(e){return""}}_getTargetingData(e){const t=Ie(e.split("?")[1]);return{custParams:this._getDecodedURI(t.get("cust_params")||""),iu:t.get("iu")||"",sz:this._sizeStringToArray(t.get("sz"))||[1,1]}}_sizeStringToArray(e){if(e)return e.split("x").map((e=>parseInt(e)))}_bannerSlotRenderEnded({event:e,slot:t}){const i=e.slot.getAdUnitPath(),s=st();this._renderedSlotKey.set(i,s);const r={adUnitPath:i,advertiserId:e.advertiserId,agnosticCreativeId:e.sourceAgnosticCreativeId,agnosticLineItemId:e.sourceAgnosticLineItemId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,isEmpty:e.isEmpty,lineItemId:e.lineItemId,serviceName:e.serviceName,siteTargeting:this._filterTargeting(this._gam.getTargetingMap()),size:e.size,slotElementId:t.id,slotKey:s,slotTargeting:this._filterTargeting(t.getTargetingMap()),yieldGroupIds:e.yieldGroupIds};this._logImpressionEvent(r)}_videoSlotRenderEnded(e){const t=this._getTargetingData(e.tag),i={adUnitPath:t.iu,creativeId:e.gamCreativeId,isEmpty:e.isEmpty,lineItemId:e.gamLineItem,size:t.sz,slotElementId:e.adUnitName,slotKey:st(),slotTargeting:this._filterTargeting(Ae(t.custParams))};this._logImpressionEvent(i)}_filterTargeting(e){return Object.keys(e).filter((t=>!this._filterKeys.has(t)&&e[t].length)).reduce(((t,i)=>(t[i]=e[i],t)),{})}_logImpressionEvent(e){D.event("SlotRenderEnded","adImpression",e)}_pixel(e,t,i){i.abgroup=this._config.abGroup.groups.join(","),i.bucket=this._config.context.bucket,i.branch=this._config.context.branch,i.deployment=this._config.context.deployment,i.siteId=this._config.site.id,i.pageviewKey=this._config.context.pageviewKey,i.sessionKey=this._config.context.sessionKey;const s=Me(i);return(new Image).src=`https://${e}${t}?${s}`}};Kn=A([Xe("ImpressionLogComponent"),P(),O("design:paramtypes",[ys,Es,Wn])],Kn);let Qn=class extends Bs{constructor(e,t,i){super(),this._googleAdManager=e,this._config=t,this._slotManager=i,this._locations=["Footer"]}init(){this._googleAdManager.slotRenderEnded.on((({slot:e,event:t})=>{this.slotRenderEnded(e,t)}))}slotRenderEnded(e,t){var i;t.isEmpty||2!==(null===(i=t.size)||void 0===i?void 0:i.length)||e.element&&this._locations.includes(e.location)&&e.sticky&&(e.element.setAttribute("closable","true"),this._addCloseButton(e.element,e.location))}_addCloseButton(e,t){const i=e.hasAttribute("closable"),s=e.querySelector(".adthrive-close");if(i&&!s){const i=document.createElement("span");i.innerHTML="&times;",i.className="adthrive-close",i.addEventListener("click",(()=>{const i=document.createEvent("Event");i.initEvent(`adthrive${t}Close`,!0,!0),e.parentElement&&(window.dispatchEvent(i),e.parentElement.removeChild(e),this._slotManager.destroy(e.id))})),e.appendChild(i)}}get enabled(){return this._config.adOptions.footerCloseButtonMigrated?"phone"===this._config.context.device?this._config.adOptions.footerCloseButtonMobile:this._config.adOptions.footerCloseButtonDesktop:this._config.adOptions.footerCloseButton}};function Xn(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}Qn=A([Xe("CloseButtonComponent"),P(),O("design:paramtypes",[Es,ys,on])],Qn);var Yn="object"==typeof global&&global&&global.Object===Object&&global,Jn="object"==typeof self&&self&&self.Object===Object&&self,Zn=Yn||Jn||Function("return this")(),eo=function(){return Zn.Date.now()},to=/\s/;var io=/^\s+/;function so(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&to.test(e.charAt(t)););return t}(e)+1).replace(io,""):e}var ro=Zn.Symbol,no=Object.prototype,oo=no.hasOwnProperty,ao=no.toString,lo=ro?ro.toStringTag:void 0;var co=Object.prototype.toString;var ho=ro?ro.toStringTag:void 0;function po(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ho&&ho in Object(e)?function(e){var t=oo.call(e,lo),i=e[lo];try{e[lo]=void 0;var s=!0}catch(e){}var r=ao.call(e);return s&&(t?e[lo]=i:delete e[lo]),r}(e):function(e){return co.call(e)}(e)}var uo=/^[-+]0x[0-9a-f]+$/i,go=/^0b[01]+$/i,_o=/^0o[0-7]+$/i,mo=parseInt;function yo(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==po(e)}(e))return NaN;if(Xn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=so(e);var i=go.test(e);return i||_o.test(e)?mo(e.slice(2),i?2:8):uo.test(e)?NaN:+e}var fo=Math.max,vo=Math.min;function bo(e,t,i){var s,r,n,o,a,l,d=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){var i=s,n=r;return s=r=void 0,d=t,o=e.apply(n,i)}function g(e){return d=e,a=setTimeout(m,t),c?u(e):o}function _(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-d>=n}function m(){var e=eo();if(_(e))return y(e);a=setTimeout(m,function(e){var i=t-(e-l);return h?vo(i,n-(e-d)):i}(e))}function y(e){return a=void 0,p&&s?u(e):(s=r=void 0,o)}function f(){var e=eo(),i=_(e);if(s=arguments,r=this,l=e,i){if(void 0===a)return g(l);if(h)return clearTimeout(a),a=setTimeout(m,t),u(l)}return void 0===a&&(a=setTimeout(m,t)),o}return t=yo(t)||0,Xn(i)&&(c=!!i.leading,n=(h="maxWait"in i)?fo(yo(i.maxWait)||0,t):n,p="trailing"in i?!!i.trailing:p),f.cancel=function(){void 0!==a&&clearTimeout(a),d=0,s=l=r=a=void 0},f.flush=function(){return void 0===a?o:y(eo())},f}function So(e,t,i){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Xn(i)&&(s="leading"in i?!!i.leading:s,r="trailing"in i?!!i.trailing:r),bo(e,t,{leading:s,maxWait:t,trailing:r})}class Co{constructor(e,t){this._overlap=null,this._stuck=!1,this._start=0,this._cutoff=0,this._cutoffBuffer=20,this._element=e.element,t&&(e.stickyOverlapSelector?this._overlap=document.querySelector(e.stickyOverlapSelector):this._overlap=this.findOverlap(this._element),this._overlap),window.addEventListener("scroll",So((()=>this.update()),500)),window.addEventListener("resize",So((()=>{this.unstick(),this.update(),this.check()}),500)),window.addEventListener("scroll",(()=>this.check()))}update(){this._element&&(this._stuck||(this._start=this.getTop(this._element)),this._overlap&&(this._cutoff=this.getTop(this._overlap)))}check(){if(0!==this._start){const e=window.pageYOffset,t=this._element.offsetHeight+this._cutoffBuffer,i=0!==this._cutoff&&e+t>this._cutoff;this._start<e&&!i?this.stick():this.unstick()}}stick(){if(!this._stuck){const e=getComputedStyle(this._element,null),t=this._element.parentElement;if(t){const e=getComputedStyle(t,null);t.style.minHeight=e.getPropertyValue("height")}this._element.style.width||(this._element.style.width=e.getPropertyValue("width")),this._element.classList.add("adthrive-stuck"),this._stuck=!0}}unstick(){this._stuck&&(this._element.classList.remove("adthrive-stuck"),this._stuck=!1)}getTop(e){return e.getBoundingClientRect().top+window.pageYOffset}findOverlap(e){let t=null;for(;e.parentElement;){let i=(e=e.parentElement).nextElementSibling;for(;i&&Ce(i);)i=i.nextElementSibling;i&&i.offsetTop>0&&(!t||i.offsetTop<t.offsetTop)&&(t=i)}return t}}let wo=class{constructor(e){this.config=e,this._headerVisibleEvents=[],this._headerHiddenEvents=[],this._header=null,this._isHeaderVisible=!0,this.handleUncollapse=()=>{},this.handleCollapse=e=>{if(e.mobileHeaderSelector){this.anchorVideoPlayerBelowNavbar(e,e.mobileHeaderSelector);const t=this.siteHeader(e.mobileHeaderSelector);t&&(t.onclick=e.siteHeaderOnClick)}},this.collapsiblePersistentHeaderObserver=new IntersectionObserver((e=>{for(const t of e)this._isHeaderVisible=t.isIntersecting,this._isHeaderVisible?this._headerVisibleEvents.forEach((e=>e())):this._headerHiddenEvents.forEach((e=>e()))}),{threshold:.95})}applyTransitionToElement(e){e.style.transition="all 0.2s ease-in-out"}pushElementBelowHeader(e,t){const i=this.getHeaderHeight(t);null!==i&&(e.style.top=`${i}px`)}anchorVideoPlayerBelowNavbar(e,t){const{playerElement:i,topBackgroundElement:s}=e,r=()=>{if(null!==this.getHeaderHeight(t)){this.applyTransitionToElement(s),this.applyTransitionToElement(i),this.pushElementBelowHeader(s,t),this.pushElementBelowHeader(i,t);const e=i.querySelector(".adthrive-top-collapse-wrapper-bar");e&&this.pushElementBelowHeader(e,t)}},n=()=>{s.style.top="0",i.style.top="0"};this._isHeaderVisible?r():n(),this._headerVisibleEvents.push(r),this._headerHiddenEvents.push(n)}getHeaderHeight(e){const t=this.siteHeader(e);if(!t)return null;return this.getElementHeight(t)}getElementHeight(e){return e.getBoundingClientRect().height}siteHeader(e){if(this._header)return this._header;const t=document.querySelector(e);return t?(this._header=t,this.collapsiblePersistentHeaderObserver.observe(this._header),this._header):null}};var Eo;wo=A([I(),Xe("TopCenterVideoPlayerForPersistentHeadersUtils"),O("design:paramtypes",[ys])],wo);let ko=Eo=class{static changeState(e,t){this.checkPlayerBackgroundSize(e);const{mediaStarted:i,playerContainer:s,playerElement:r,playerInstance:n,playerState:o,collapseMobileSubType:a}=e,l=this._shouldCollapse(s,i,a);if(!this._handleOtherVideoPlaying(t,e)){switch(e.playerState){case 0:this._handleUnstarted(t,l,e);break;case 1:this._handleUncollapsedPlay(t,l,e);break;case 2:this._handleCollapsedPlay(t,l,e);break;case 8:this._handleNonLinearAdPlay(t,l,e);break;case 4:this._handleUserPauseCollapsed(t,l,e);break;case 3:this._handleUserPauseUncollapsed(t,l,e);break;case 5:this._handlePausedNotVisible(t,e);break;case 9:this._handleNonLinearAdPaused(t,e);break;case 6:this._handleOverlapped(t,l,e);break;case 10:this._handleNonLinearAdOverlapped(t,l,e);break;default:return e.playerState}this.checkPlayerBackgroundSize(e)}return e.playerState}static checkPlayerBackgroundSize(e){setTimeout((()=>{const{topBackgroundElement:t,playerElement:i}=e;t&&i.offsetHeight>t.offsetHeight&&this._isCollapsed(e.playerState)&&(t.style.height=`${i.offsetHeight}px`,this.shouldLog&&(this.shouldLog=!1,D.event("CollapseUtils","checkPlayerBackgroundSize","playerElement larger than topBackgroundElement")))}),125)}static _handleUnstarted(e,t,i){const s=i.playerInstance;4===e&&(i.collapseTimer.firstInView||(i.collapseTimer.firstInView=new Date),Eo.startEvent.emit(),t?(this.collapse(i),s.getViewable()&&s.play(!0),i.playerState=s._nonLinearAd?8:2):i.playerState=s._nonLinearAd?8:1)}static _handleOtherVideoPlaying(e,t){return 7===e&&(this.uncollapse(t),t.playerInstance.pause(!0),t.playerState=7,!0)}static _handleUncollapsedPlay(e,t,i){const{playerInstance:s}=i;4===e?t?(this.collapse(i),s.play(!0),i.playerState=2):s.play(!0):3===e?(s.pause(!0),i.playerState=5):1===e&&(i.playerState=3)}static _handleCollapsedPlay(e,t,i){const{playerInstance:s,playerElement:r}=i;4===e?t?s.play(!0):(this.uncollapse(i),s.play(!0),i.playerState=1):1===e?i.playerState=4:6===e?(i.lastCollapsedClasses=r.className,this.uncollapse(i),s.pause(!0),i.playerState=6):5===e&&(this.uncollapse(i),s.pause(!0),i.playerState=7)}static _handleNonLinearAdPlay(e,t,i){const{playerInstance:s}=i;4===e?t&&this.collapse(i):3===e?(s.pauseAd(!0),i.playerState=9):6===e&&(this.uncollapse(i),s.pauseAd(!0),i.playerState=10)}static _handleUserPauseCollapsed(e,t,i){const{playerInstance:s}=i;4!==e||t?1===e?i.playerState=2:5===e&&(this.uncollapse(i),s.pause(!0),i.playerState=7):(this.uncollapse(i),i.playerState=3)}static _handleUserPauseUncollapsed(e,t,i){4===e&&t?(this.collapse(i),i.playerState=4):1===e&&(i.playerState=1)}static _handlePausedNotVisible(e,t){const{playerInstance:i}=t;4===e&&(i.play(!0),t.playerState=1)}static _handleNonLinearAdPaused(e,t){const{playerInstance:i}=t;4===e?(i.pauseAd(!1),t.playerState=8):this.playerWouldOverlapFooter(t)&&(t.playerState=10)}static _handleOverlapped(e,t,i){const{playerInstance:s}=i;t&&!this.playerWouldOverlapFooter(i)?(this.collapse(i),s.play(!0),i.playerState=2):i.playerState=6}static _handleNonLinearAdOverlapped(e,t,i){const{playerInstance:s}=i;t&&!this.playerWouldOverlapFooter(i)?(this.collapse(i),s.pauseAd(!1),i.playerState=8):(s.pauseAd(!0),i.playerState=10)}static handleResize(e){this._isCollapsed(e.playerState)?("adthrive-collapse-mobile"===e.collapseType&&"adthrive-collapse-top-center"===e.collapseMobileSubType&&e.topBackgroundElement&&(e.topBackgroundElement.style.height=`${e.playerElement.offsetHeight}px`,e.topBackgroundElement.style.width=`${window.innerWidth}px`),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e)):this.resizeContainer(e)}static handleScroll(e){const t=gs.playerViewable(e.playerElement),i=gs.playerVisible(e.playerElement),s=this.playerWouldOverlapFooter(e),r=t?s?6:4:3;this.changeState(e,r),2===e.playerState||4===e.playerState?Eo.startCollapseTimer(e):Eo.stopCollapseTimer(e),this.viewableEvent.emit(t),this.visibleEvent.emit(i)}static handleOtherVideoPlaying(e){this.changeState(e,7)}static handlePageVisibilityChange(e,t){7!==t.playerState&&0!==t.playerState&&3!==t.playerState&&4!==t.playerState&&5!==t.playerState&&6!==t.playerState&&(e?t.playerInstance.pause(!0):t.playerInstance.play(!0))}static handleWidthBreak(e,t){7!==t.playerState&&0!==t.playerState&&(e.matches?(this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!1,t),"adthrive-collapse-sticky"===t.collapseType&&this._unstickFromSidebar(t.playerElement),t.forceMobile=!0,this.toggleCollapsedPlayerClasses(!0,t)),t.forceMobile=!0):(this.toggleCollapsedPlayerClasses(!1,t),t.forceMobile=!1,this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!0,t),"adthrive-collapse-sticky"===t.collapseType&&this._stickToSidebar(t))))}static handleClose(e){Eo.closeEvent.emit(),this.changeState(e,5),Eo.stopCollapseTimer(e),D.event("jw-player","handleClose",{timeElapsed:e.collapseTimer.timeCollapsed,device:be()?"desktop":"mobile",playerType:e.playerType})}static handleUserClick(e){this.changeState(e,1)}static collapse(e){this.disableCollapse||(this.collapseEvent.emit(),this.toggleCollapsedPlayerClasses(!0,e),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e),e.topBackgroundElement&&x.resolve(wo).handleCollapse({playerElement:e.playerElement,topBackgroundElement:e.topBackgroundElement,siteHeaderOnClick:()=>this.uncollapse(e),mobileHeaderSelector:e.mobileHeaderSelector}),e.playerInstance.resize(),setTimeout((e=>{this.displayCloseButton(e)}),e.closeButtonTimeout,e))}static displayCloseButton(e){this._isCollapsed(e.playerState)&&(e.closeButton.style.display="inline-flex")}static uncollapse(e){Eo.uncollapseEvent.emit(),this.toggleCollapsedPlayerClasses(!1,e),this._unstickFromSidebar(e.playerElement),e.closeButton.style.display="none",this.resizeContainer(e),x.resolve(wo).handleUncollapse()}static _shouldCollapse(e,t,i){if(gs.isMobileLandscape())return!1;const s=i&&"adthrive-collapse-top-center"===i,r=gs.getScrollTop(),n=J(e).top,o=e.offsetHeight;return s?t&&r>=n:t&&r>=n+o/2}static _isCollapsed(e){return 2===e||4===e}static _stickToSidebar(e){e.stickyElement&&(e.playerElement.style.left=`${e.stickyElement.getBoundingClientRect().left}px`,e.playerElement.style.width=`${e.stickyElement.clientWidth}px`),e.playerElement.style.top=`${e.topMargin}px`}static _unstickFromSidebar(e){e.style.cssText=""}static playerWouldOverlapFooter(e){if(!e.footerElement)return!1;if(e.playerElement.className.includes("adthrive-collapse-bottom")||e.lastCollapsedClasses&&e.lastCollapsedClasses.includes("adthrive-collapse-bottom")){const t=W();return!(window.innerHeight-t<e.footerElement.getBoundingClientRect().top)}return!((e.topMargin||0)+e.playerElement.getBoundingClientRect().height<e.footerElement.getBoundingClientRect().top)}static toggleCollapsedPlayerClasses(e,t){const i=t.playerInstance.utils,s=Fe(i,"toggleClass")&&"function"==typeof i.toggleClass?i.toggleClass:()=>{};t.forceMobile?(s(t.playerElement,"adthrive-collapse-mobile",e),s(t.playerElement,t.collapseMobileSizeType,e),s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)):(s(t.playerElement,t.collapseType,e),t.collapseSubType&&s(t.playerElement,t.collapseSubType,e),t.collapseMobileSizeType&&s(t.playerElement,t.collapseMobileSizeType,e),"adthrive-collapse-mobile"===t.collapseType&&(s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)))}static repositionCollapseMobile(e,t){"adthrive-collapse-bottom-left"===e.collapseMobileSubType||"adthrive-collapse-bottom-right"===e.collapseMobileSubType?this.repositionCollapseMobileBottom(e):"adthrive-collapse-top-center"===e.collapseMobileSubType&&this.repositionCollapseMobileTop(e,t)}static repositionCollapseMobileTop(e,t){e.topBackgroundElement&&(e.topBackgroundElement.style.height=t?`${e.playerElement.offsetHeight}px`:"0")}static repositionCollapseMobileBottom(e){if(e.playerElement.className.includes("adthrive-collapse-bottom")||e.collapseMobileSubType&&e.collapseMobileSubType.indexOf("bottom")>-1){const t=W();e.playerElement.style.setProperty("top","auto","important"),e.playerElement.style.setProperty("bottom",`${t}px`,"important")}}static resizeContainer(e){e.playerContainer.style.height=`${e.playerElement.offsetHeight+30}px`}static startCollapseTimer(e){e.collapseTimer.isRunning||(e.collapseTimer.startTime?e.collapseTimer.lastCollapsedTime=new Date:(e.collapseTimer.startTime=new Date,e.collapseTimer.lastCollapsedTime=e.collapseTimer.startTime),e.collapseTimer.isRunning=!0)}static stopCollapseTimer(e){e.collapseTimer.isRunning&&(e.collapseTimer.lastCollapsedTime&&(e.collapseTimer.timeCollapsed+=Re()-e.collapseTimer.lastCollapsedTime.getTime()),e.collapseTimer.isRunning=!1)}};ko.collapseEvent=new R,ko.uncollapseEvent=new R,ko.closeEvent=new R,ko.startEvent=new R,ko.viewableEvent=new R,ko.visibleEvent=new R,ko.disableCollapse=!1,ko.shouldLog=Math.random()<=.01,ko=Eo=A([Xe("CollapseUtils")],ko);class xo{constructor(e,t,i,s,r,n){this._config=e,this._slotManager=t,this._slot=i,this._stickyCloseButtonExperiment=s,this._eventProxy=r,this._videoCloseButton=n,this._isRendered=!1,this._isClosed=!1}setup(){void 0!==window.apstag&&this._config.amazon.enabled&&de("https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"),this._isRendered||(this._isRendered=!0,this._appendCloseButton(),this._activate())}get renderState(){return this._isRendered}_activate(){this._handleWidthBreak(),this._eventProxy.videoPlaying.on(this._handleRelatedPlayClose.bind(this)),ko.visibleEvent.on(this._handleCollapsiblePlayerVisible.bind(this)),this._slot.element.parentElement.classList.add("adthrive-sticky-outstream-active")}_appendCloseButton(){const e=this._slot.element,t=this._videoCloseButton.createPlayerCloseButton(this._handleCloseClick.bind(this),this._stickyCloseButtonExperiment.result,"adthrive-sticky-outstream-close");e.parentNode.insertBefore(t,e),setTimeout((()=>{t.style.display="inline-flex"}),this._config.video.closeButtonTimeout)}_logPlayerClose(e){xo.closeEvent.emit(),D.event("StickyOutstream","handleClose",{device:be()?"desktop":"mobile",closeReason:e})}_handleCollapsiblePlayerVisible(e){e&&this._handleClose("collapsiblePlayerVisible")}_handleRelatedPlayClose(){this._handleClose("relatedPlay")}_handleCloseClick(){this._handleClose("closeClick")}_handleClose(e){if(this._isClosed)return;this._isClosed=!0;const t=this._slot.element,i=t.parentElement;this._logPlayerClose(e),i&&(i.removeChild(t),i.classList.remove("adthrive-sticky-outstream-active"),this._slotManager.destroy(t.id),this._removeListener())}_handleWidthBreak(){this._removeListener=this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this)),this._repositionCollapseBottom()}_handleFooterRefreshedEvent(){this._repositionCollapseBottom()}_repositionCollapseBottom(){if("desktop"!==this._config.context.device){const e=W();this._slot.element.parentElement.style.setProperty("top","auto","important"),this._slot.element.parentElement.style.setProperty("bottom",`${e}px`,"important")}}}xo.closeEvent=new R;let To=class extends lt{constructor(e){super(),this.abgroup=e,this.key="socbe",this._choices=[{choice:"sovpcc",weight:0},{choice:"sovpct1",weight:0},{choice:"sovpct2",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],To.prototype,"run",null),To=A([Xe("StickyCloseButtonExperiment"),I(),O("design:paramtypes",[nt])],To);let Po=class extends Bs{constructor(){super(...arguments),this._experimentResult="",this._hasTitleBar=!1,this._isButtonInsideContainer=!1,this._isButtonOutsideContainerTop=!1,this._isDefaultPosition=!1,this._isInstreamExperiment=!1,this._isTopCollapse=!1}createDefaultButton(e){const t=document.createElement("div");return t.innerHTML="<span>&times;</span>",t.className="adthrive-wrapper-close",t.style.display="none",t.id="adthrive-collapse-close",t.onclick=e,t}createPlayerCloseButton(e,t,i,s=!1,r=!1){this._hasTitleBar=s,this._isTopCollapse=r,this._isInstreamExperiment="tlo"===t||r,this._isButtonOutsideContainerTop="sovpct1"===t||"tlo"===t,this._isButtonInsideContainer="sovpct2"===t,this._isDefaultPosition="sovpcc"===t||"off"===t,this._experimentResult=t;const n=this._getButtonClasses(),o=this._getSvgOptions(),a=this._createCloseButton(n,i,o);return a.onclick=e,this._isButtonInsideContainer?this.applyCloseButtonWrapper(a):a}_getButtonClasses(){let e=[];return(this._isButtonOutsideContainerTop||this._isDefaultPosition)&&e.push("adthrive-wrapper-float-close"),this._isInstreamExperiment?e=[...e,...this._getInstreamClasses()]:"sovpcc"!==this._experimentResult&&e.push("adthrive-wrapper-close-outside-left"),e}_getInstreamClasses(){const e=["adthrive-instream-close"];return this._isTopCollapse?e.push("adthrive-top-collapse-close"):this._isButtonOutsideContainerTop&&e.push("adthrive-top-left-outer","adthrive-float-left"),e}_getSvgOptions(){return this._isButtonInsideContainer||this._isTopCollapse?{fillColor:"transparent",strokeColor:"white"}:{fillColor:"white",strokeColor:"black"}}_buildNewCloseButton(e,t){e.appendChild(this._createCloseButtonX(t)),e.appendChild(this._createCloseButtonCircleThatGoesAroundTheX(t))}_createCloseButton(e,t,i){const{fillColor:s,strokeColor:r}=null!=i?i:{fillColor:"white",strokeColor:"black"},n=this._createButtonHtml(e,t),o=this._createSvg(s);if(this._isTopCollapse)this._buildNewCloseButton(o,r);else{const e=this._createPath(r);o.appendChild(e)}return n.appendChild(o),n}_createButtonHtml(e,t){const i=document.createElement("div");return i.className=e.join(" "),i.id=t,i}_createSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("width","18"),t.setAttribute("height","18"),t.setAttribute("fill",e),t}_createPath(e){const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M 0.5 9 A 5 5 0 0 0 17.5 9 A 5 5 0 0 0 0.5 9 M 9 9 L 7 7 L 11 11 M 9 9 L 7 11 L 11 7"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","1"),t}_createCloseButtonCircleThatGoesAroundTheX(e){const t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("cx","9"),t.setAttribute("cy","9"),t.setAttribute("r","8"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","2"),t.setAttribute("fill","none"),t}_createCloseButtonX(e){const t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("x","9"),t.setAttribute("y","9"),t.setAttribute("text-anchor","middle"),t.setAttribute("stroke",e),t.setAttribute("fill",e),t.setAttribute("stroke-width","1px"),t.setAttribute("font-size","13px"),t.setAttribute("alignment-baseline","middle"),t.textContent="x",t}applyCloseButtonWrapper(e){const t=document.createElement("div"),i=["adthrive-wrapper-float-close","adthrive-wrapper-close-bkgd-50"];return this._hasTitleBar?i.push("adthrive-top-left-inner-wrapper"):i.push("adthrive-top-left-inner"),t.classList.add(...i),t.appendChild(e),t}};Po=A([Xe("VideoCloseButtonComponent"),P()],Po);let Io=class extends Bs{constructor(e,t,i,s,r,n,o,a){super(),this._slots=e,this._config=t,this._slotManager=i,this._stickyCloseButtonExperiment=s,this._eventProxy=r,this._videoCloseButton=n,this._gam=o,this._outstream=a,this._sticky=[],this._slots.added.on((e=>{e&&e.sticky&&(e.element.classList.add("adthrive-sticky"),"Sidebar"===e.location&&this._sticky.push(new Co(e,!0)),"Video_StickyOutstream"===e.location&&(this._stickyOutstream=new xo(this._config,this._slotManager,e,this._stickyCloseButtonExperiment,this._eventProxy,this._videoCloseButton)))})),void 0!==window.apstag&&this._config.amazon.enabled&&this._gam.slotOnload.on((({slot:e})=>{const t=window.apsBidObject?window.apsBidObject.VAST:null;"Video_StickyOutstream"===e.location&&t&&(this._outstream.callANRendererWithUrl(t,e.id,!0),delete window.apsBidObject)}))}stickyOutstreamReady(){this._stickyOutstream&&!this._stickyOutstream.renderState&&this._stickyOutstream.setup()}};Io=A([Xe("StickyComponent"),P(),O("design:paramtypes",[vs,ys,on,To,Wn,Po,Es,Ks])],Io);let Ao=class extends Bs{constructor(e,t,i,s,r){super(),this._config=e,this._pageManager=t,this._slots=i,this._slotManager=s,this._sticky=r,this._debounce=new z(1e3),this._viewports=this._config.lazyLoad.viewports}init(){const e=new Map([["Below_Post",this._viewports.belowPost],["Content",this._viewports.content],["Default",this._viewports.default]]);this._slotManager.added.on((t=>{for(const i of t)if(i.lazy){const t=this._config.adOptions.infiniteScroll?this._viewports.infScroll:K(e.get(i.location),e.get("Default"));this.getIntersectionObserver(t).observe(i.element)}else"Video_StickyOutstream"===i.location?this._pageManager.setupOnceEvent("scroll",(()=>{this._sticky.stickyOutstreamReady(),this._slotManager.display([i]).catch((e=>{D.error("LazyLoadComponent","scroll","display stickyOutstream slot",e)}))})):this._slotManager.display([i]).catch((e=>{D.error("LazyLoadComponent","init","display",e)}))}))}getIntersectionObserver(e){const t=window.innerHeight*e;return new IntersectionObserver((e=>{for(const t of e){const e=this._slots.get(t.target.id);e&&this._debounce.limit(t.target.id).then((()=>this.processEvent(t,e))).catch((e=>{D.error("LazyLoadComponent","getIntersectionObserver",e)}))}}),{rootMargin:`${t}px 0px`,threshold:[0,1]})}processEvent(e,t){e.isIntersecting&&!t.displayed?this._slotManager.display(t).catch((e=>{D.error("LazyLoadComponent","processEvent","display",e)})):!e.isIntersecting&&t.displayed&&this._slotManager.clear(t).catch((e=>{D.error("LazyLoadComponent","processEvent","clear",e)}))}get enabled(){return!1}};Ao=A([Xe("LazyLoadComponent"),P(),O("design:paramtypes",[ys,Qi,vs,on,Io])],Ao);let Mo=class extends Bs{constructor(e,t,i,s,r,n){super(),this._config=e,this._gam=t,this._pageManager=i,this._slots=s,this._slotManager=r,this._sticky=n,this._debounce=new z(1e3)}init(){const e=this._slotManager;this._slotManager.added.on((t=>{for(const i of t)i.lazy?(Es.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","true")})),this.getIntersectionObserver().observe(i.element)):"Video_StickyOutstream"===i.location?this._pageManager.setupOnceEvent("scroll",(()=>{this._sticky.stickyOutstreamReady(),e.display([i]).catch((e=>{D.error("GoogleLazyLoadComponent","scroll","display stickyOutstream slot",e)}))})):(Es.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","false")})),e.display(i).catch((e=>{D.error("GoogleLazyLoadComponent","init","display non lazy slot",e)})))}))}getIntersectionObserver(){const e=window.innerHeight*(this._config.lazyLoad.googleLazyLoadSettings.hbMarginPercent/100);return new IntersectionObserver(((e,t)=>{for(const i of e)this.processEntry(i,t)}),{rootMargin:`${e}px 0px`,threshold:[0]})}processEntry(e,t){const i=this._slots.get(e.target.id);i&&e.intersectionRatio>0&&(this._debounce.limit(e.target.id).then((()=>this._slotManager.display(i))).catch((e=>{D.error("GoogleLazyLoadComponent","callback","display lazy slot",e)})),t.unobserve(i.element))}};Mo=A([Xe("GoogleLazyLoadComponent"),P(),O("design:paramtypes",[ys,Es,Qi,vs,on,Io])],Mo);let Oo=class extends Bs{constructor(e,t){super(),this._gam=e,this._slotManager=t,this._isMobile=we()}_isCustomHVP(e){return this._isMobile&&"Content"===e}init(){this._slotManager.added.on((e=>{Es.pushToQueue((()=>{for(const t of e){const e=Math.min(10*Math.floor(100*t.viewability/10),80);e>=50&&t.setTargeting({key:"hvp",value:e.toString()})}}))})),this._slotManager.refreshing.on((e=>{Es.pushToQueue((()=>{for(const t of e){const e=this._isCustomHVP(t.location);1===t.refreshCount?t.setTargeting({key:"hvp",value:e?"60":"80"}):2===t.refreshCount&&e&&t.setTargeting({key:"hvp",value:"80"})}}))}))}};Oo=A([Xe("HvpComponent"),P(),O("design:paramtypes",[Es,on])],Oo);let zo=class{constructor(e){this._config=e}inject(){try{return this._config.marmalade.selectorMatches.reduce(this.processMatch.bind(this),[])}catch(e){D.error("MarmaladeInjector","inject",e)}return[]}processMatch(e,t){const{adUnit:i,match:s}=t,r=this.getElementId(i.location,i.sequence);if(!e.some((e=>e.location===i.location&&e.sequence===i.sequence))){const t=this.addAd(s,r,i.position,i.classNames);if(t){const s=new fs(i.location,i.sequence,i.size,t,!1,i.lazy);e.push(s)}}return e}getElementId(e,t){return[this._config.gam.prefix,e,t].filter(Le).join("_")}addAd(e,t,i,s=[]){const r=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;return e.insertAdjacentHTML(i,r),document.getElementById(t)}};zo=A([Xe("MarmaladeInjector"),P(),O("design:paramtypes",[ys])],zo);let Ro=class extends Bs{constructor(e,t,i,s,r){super(),this._config=e,this._marmaladeInjector=t,this._slotManager=i,this._gam=s,this._prebidMethods=r,this.mcmp=this._config.marmalade.mcmp.filter(ee)}getRfCodes(e){const t=[];return e&&this._config.marmalade.rfMcmpCodes.forEach((i=>{const s=i[0];i[1].includes(e)&&t.push(s)})),t}init(){const e=this._marmaladeInjector.inject();e.forEach((e=>e.refreshInterval=0));const t=this._config.marmalade.siteCodes.filter(ee),i=this._config.marmalade.flpProdIds.filter(ee),s=this._config.marmalade.loaded?"true":"false";let r=this.getRfCodes("ix"),n=this.getRfCodes("gam");this._gam.setTargeting({key:"mcmp",value:[...this.mcmp,...n]}),this._gam.setTargeting({key:"site_code",value:t}),this._gam.setTargeting({key:"marmalade",value:s});const o=t.reduce(((e,t)=>(e[t]="True",e)),{}),a=()=>{n=this.getRfCodes("gam"),r=this.getRfCodes("ix"),this._gam.setTargeting({key:"mcmp",value:[...this.mcmp,...n]}),pe({MCMP:[...r,...this.mcmp].join("#MCMP:"),...o},this._prebidMethods)};if(this._config.marmalade.rfDataProcessed.emitted?a():this._config.marmalade.rfDataProcessed.on((()=>a())),pe({MCMP:[...r,...this.mcmp].join("#MCMP:"),...o},this._prebidMethods),e.length>0&&this._gam.started.on((()=>this._slotManager.add(e).catch((e=>{D.error("MarmaladeComponent","init",e)})))),i){((e,t)=>{window.addEventListener("message",(i=>{try{const{origin:s,source:r}=i,n=JSON.parse(i.data),o=n&&n.message===t.message;if(!s||!s.match(e)||!o)return;r.postMessage(JSON.stringify(t),s)}catch(e){return}}))})(/https:\/\/\S*\.safeframe.googlesyndication.com/i,{message:"adthriveFlippData",flippData:i})}}get enabled(){return!this._config.disableAds.all}};Ro=A([Xe("MarmaladeComponent"),P(),O("design:paramtypes",[ys,zo,on,Es,Cs])],Ro);let Bo=class extends Bs{constructor(e,t){super(),this._gam=e,this._topicsApiIframeManager=t}get enabled(){return this._topicsApiIframeManager.enabled}init(){navigator.runAdAuction&&this._gam.setTargeting({key:"fledge",value:"true"})}start(){const e=this._topicsApiIframeManager.topics;e.length>0?e.forEach((e=>{this._gam.setTargetingFlag("topicapi",[`${e.modelVersion}|${e.topic}`])})):this._topicsApiIframeManager.topicsDataRecevied.on((e=>{e.forEach((e=>{this._gam.setTargetingFlag("topicapi",[`${e.modelVersion}|${e.topic}`])}))}))}};Bo=A([Xe("OriginTrialComponent"),P(),O("design:paramtypes",[Es,Ps])],Bo);let Do=class{constructor(e,t,i){this._emailCaptureHandler=e,this._gdprEvents=t,this._config=i,this._email="",this._consent="",this._hash="",this._source="",this._consentReceived=!1,this._emailCounted=!1,this.piiCaptured=new R}init(){this._emailCaptureHandler.emailCaptured.on((e=>this._handleEmailCapture(e))),this._gdprEvents.consentCaptured.on((e=>this._handleConsentCapture(e))),this._emailCaptureHandler.piiManagerReady.emit()}async _handleEmailCapture(e){const{email:t,hash:i,source:s}=e;this._hash=i||await this._hashEmail(t),this._email=t,this._source=s,this._config.gdpr.enabled&&!this._consentReceived||this._sendPii()}_handleConsentCapture(e){this._consentReceived=!0,this._consent=e,this._email&&this._hash&&this._sendPii()}_sendPii(){this._emailCounted||(this._emailCounted=!0,D.event("PiiManager","_sendPii",this._source)),this.piiCaptured.emit({email:this._email,hash:this._hash,consent:this._consent,source:this._source})}async _hashEmail(e){if(!("msCrypto"in window)&&"https:"===location.protocol&&"crypto"in window&&"TextEncoder"in window){const t=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map((e=>("00"+e.toString(16)).slice(-2))).join("")}return""}};Do=A([Xe("PiiManager"),I(),O("design:paramtypes",[Ss,mt,ys])],Do);class Vo{get enabled(){return!0}}let Lo=class extends Vo{constructor(e,t){super(),this._config=e,this._gam=t,this._liveRampBaseUrl="https://api.rlcdn.com/api/identity/envelope",this._pid=111,this._it=4,this._localKey="_lr_env"}get enabled(){var e;return(null===(e=this._config.liveRampAts)||void 0===e?void 0:e.enabled)&&"localStorage"in window}init(){window.localStorage.getItem(this._localKey)&&this._gam.setTargetingFlag("idp",["ats"])}async processPii(e){if(localStorage.getItem(this._localKey))return;let t=`${this._liveRampBaseUrl}?pid=${this._pid}&it=${this._it}&iv=${e.hash?e.hash:e.email}`;this._config.gdpr.enabled?t+=`&ct=4&cv=${e.consent}`:this._config.ccpa.required&&(t+=`&ct=4&cv=${Oe("usprivacy")}`);try{const e=await fetch(t,{method:"GET",keepalive:!0}),i=await e.text();if(i){const{envelope:e}=JSON.parse(i);return void localStorage.setItem(this._localKey,btoa(JSON.stringify({envelope:e,timestamp:+new Date})))}}catch(e){}}};Lo=A([Xe("LiveRampPiiPartner"),P(),O("design:paramtypes",[ys,Es])],Lo);let Fo=class extends lt{constructor(e){super(),this.key="sidp",this._choices=[{choice:"on"},{choice:"off"}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new pt(0).get()?"on":"off"}};Fo=A([Xe("SharedIdPluginExperiment"),I(),O("design:paramtypes",[nt])],Fo);const jo=(e,t)=>!e.idho.subModule||e.idho.subModule.name!==t;let No=class{constructor(e,t,i){this.ids=new Map([Uo({_config:e,sharedIdPluginExperiment:i,context:t}),["connectId",{id:{name:"connectId",params:{pixelId:58404},storage:{name:"connectid",type:"html5",expires:15}},enabled:jo(e,"connectId")&&e.liveRampAts.enabled,targetingKey:"cid"}],["unifiedId",{id:{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=iowij76&fmt=json"},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},enabled:jo(e,"unifiedId"),targetingKey:"uid1"}],["id5Id",{id:{name:"id5Id",params:{partner:367},storage:{type:"html5",name:"pbjs-id5id",expires:60,refreshInSeconds:28800}},enabled:jo(e,"id5Id"),targetingKey:"id5"}],["identityLink",{id:{name:"identityLink",params:{pid:"111"},storage:{type:"html5",name:"pbjs-identitylink",expires:60}},enabled:jo(e,"identityLink"),targetingKey:"idl"}],["criteo",{id:{name:"criteo",storage:{type:"html5",name:"pbjs-criteo",expires:60}},enabled:jo(e,"criteo"),targetingKey:"cri"}],["parrableId",{id:{name:"parrableId",params:{partner:"9fde8b8d-49db-4c9e-b841-0e777ab8d343"}},enabled:jo(e,"parrableId")&&Ve(),targetingKey:"par"}]])}get(e){return this.ids.get(e)}forEach(e){return this.ids.forEach(e)}values(){return this.ids.values()}};No=A([Xe("UserIds"),P(),O("design:paramtypes",[ys,ti,Fo])],No);const Uo=e=>{if("on"===e.sharedIdPluginExperiment.result){const t={id:{name:"sharedId",storage:{type:"cookie",name:"_pubcid",expires:60},params:qo(e.context)?{create:!1,pixelUrl:Go()}:void 0},enabled:jo(e._config,"sharedId"),targetingKey:"sh"};return[t.id.name,t]}const t={id:{name:"sharedId",storage:{type:"html5",name:"pbjs-pubcommonid",expires:60}},enabled:jo(e._config,"sharedId"),targetingKey:"pc"};return[t.id.name,t]},qo=e=>!!e.integration&&Ho(e),Ho=e=>Fi("adthrive-ads-2.3.0",e.plugin),Go=()=>`${window.location.origin}/wp-json/adthrive-pubcid/v1/extend`;let $o=class extends Vo{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._userIds=i,this._submitted=!1,this.userId=i.get("connectId").id}get enabled(){return this._userIds.get("connectId").enabled}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map((e=>(e.name===this.userId.name&&(e=this.userId),e)))}processPii(e){this._prebidMethods.addToQueue((()=>{this.run(e)}))}run(e){if(e.hash&&this.userId.params&&!this._submitted){this.userId.params.he=e.hash,this._submitted=!0;const t=this.updateUserIds();this._prebidMethods.setConfig({userSync:{userIds:t}}),this._prebidMethods.refreshUserIds({submoduleNames:[this.userId.name]},(()=>{}))}}};$o=A([Xe("YahooPiiPartner"),P(),O("design:paramtypes",[ys,Cs,No])],$o);let Wo=class extends Bs{constructor(e,t,i){super(),this._piiManager=e,this._partners=[t,i].filter((e=>e.enabled))}init(){this._piiManager.init(),this._partners.forEach((e=>e.init&&e.init())),this._piiManager.piiCaptured.on((e=>{this._partners.forEach((t=>{t.processPii(e)}))}))}};Wo=A([Xe("PiiCaptureComponent"),P(),O("design:paramtypes",[Do,Lo,$o])],Wo);let Ko=class extends Bs{constructor(e){super(),this._slotManager=e,this._maxSlotRefreshCount=4}init(){this._slotManager.displaying.on((e=>{Es.pushToQueue((()=>{e.forEach((e=>e.setTargeting({key:"refresh",value:"00"}))),e.forEach((e=>e.setTargeting({key:"nref",value:"0"})))}))})),this._slotManager.refreshing.on((e=>{Es.pushToQueue((()=>{for(const t of e){const e=`0${Math.min(t.refreshCount,this._maxSlotRefreshCount)}`.slice(-2);t.setTargeting({key:"refresh",value:e}),t.setTargeting({key:"nref",value:t.refreshCount.toString()})}}))}))}};Ko=A([Xe("RefreshCountComponent"),P(),O("design:paramtypes",[on])],Ko);let Qo=class extends lt{constructor(e){super(),this.key="rebuildslot",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.95).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Qo.prototype,"run",null),Qo=A([Xe("RefreshRebuildExperiment"),I(),O("design:paramtypes",[nt])],Qo);let Xo=class extends Bs{constructor(e,t){super(),this._slotManager=e,this._refreshRebuildExperiment=t}init(){this._slotManager.refreshing.on((e=>{e.filter(this.slotHasHighRefreshCountIncrement).forEach((e=>this._slotManager.rebuild(e)))}))}slotHasHighRefreshCountIncrement(e){return e.refreshCount%100==0}get enabled(){return this._refreshRebuildExperiment.result}};function Yo(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}Xo=A([Xe("RefreshRebuildComponent"),P(),O("design:paramtypes",[on,Qo])],Xo);let Jo=class extends Bs{constructor(e){super(),this._config=e}start(){this._config.site.style&&this._config.site.style.length>0?Yo(this._config.site.style):this._config.context.styleUrl&&(e=>{const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)})(this._config.context.styleUrl)}};Jo=A([Xe("SiteStyleComponent"),P(),O("design:paramtypes",[ys])],Jo);let Zo=class extends Bs{constructor(e){super(),this._gam=e}init(){const e=this.getReferrer();null!==e&&this._gam.setTargeting({key:"doc_ref",value:e})}getReferrer(){const e=re();return e&&e.length&&se("referrer",e),e}};Zo=A([Xe("TrafficSourceComponent"),P(),O("design:paramtypes",[Es])],Zo);let ea=class{constructor(e,t){this._gam=e,this._userIds=t}getStoredIdValue(e){let t;return"cookie"===e.type&&window.navigator.cookieEnabled?t=Oe(e.name):"html5"===e.type&&(t=window.localStorage.getItem(e.name)),t}getSyncedIdModules(e){return[...e].reduce(((e,t)=>void 0!==t.storage&&this.getStoredIdValue(t.storage)?(e.push(t.name),e):e),[])}setTargeting(e){const t=this.getSyncedIdModules(e).map((e=>{var t;return(null===(t=this._userIds.get(e))||void 0===t?void 0:t.targetingKey)||e}));this._gam.setTargetingFlag("idp",t)}};ea=A([Xe("UserIdTargeting"),P(),O("design:paramtypes",[Es,No])],ea);let ta=class extends Bs{constructor(e,t,i){super(),this._prebidMethods=e,this.userIdTargeting=t,this._userIds=i,this._enabledUserIds=[],this._ppid=null,this._enabledUserIds=[...i.values()].filter((e=>e.enabled)).map((e=>{if("sharedId"===e.id.name){const t=e.id.storage&&e.id.storage.name||"";this._ppid=localStorage.getItem(t),this._ppid&&(e.id.value={pubcid:this._ppid})}return e.id}))}init(){let e={userIds:this._enabledUserIds};this._ppid&&(e={ppid:"pubcid.org",...e}),this._prebidMethods.setConfig({userSync:e}),this.userIdTargeting.setTargeting([...this._userIds.values()].map((e=>e.id)))}};ta=A([Xe("UserIdComponent"),P(),O("design:paramtypes",[Cs,ea,No])],ta);let ia=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t}init(){const e=K(ie("utm",18e5),{});["utm_medium","utm_campaign","utm_session","utm_source"].forEach((t=>{const i=this._config.context.querystring.get(t),s=K(i,e[t]);this._gam.setTargeting({key:t,value:s}),s&&(e[t]=s)})),se("utm",e)}};ia=A([Xe("UTMComponent"),P(),O("design:paramtypes",[ys,Es])],ia);class sa{constructor(){}init(e){this.setup(e)}}let ra=class extends lt{constructor(e){super(),this.abgroup=e,this.key="sicb",this._choices=[{choice:"tlo",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ra.prototype,"run",null),ra=A([Xe("StickyInstreamCloseButtonExperiment"),I(),O("design:paramtypes",[nt])],ra);let na=class extends lt{constructor(e){super(),this.abgroup=e,this.key="sppe50",this._result=!1,this._choices=[{choice:!0},{choice:!1}],we()&&(this._result=this.run(),this.abgroup.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(0).get()}};na=A([P(),Xe("StickyPlayerPositionExperiment"),O("design:paramtypes",[nt])],na);let oa=class extends lt{constructor(e){super(),this.tearDownOnCrash="tdoc",this._choices=[{choice:9e5,weight:5},{choice:6e5,weight:5},{choice:3e5,weight:5},{choice:-1,weight:5},{choice:0,weight:80}],this.key="mgtdtw",this._result=this.run(),e.set(this.key,-1===this._result?this.tearDownOnCrash:(this._result/1e3).toString())}get result(){return this._result}run(){return new ut(this._choices).get()}};oa=A([Xe("TearDownPlayerExperiment"),I(),O("design:paramtypes",[nt])],oa);const aa=(e,t=navigator.userAgent)=>((e=navigator.userAgent)=>/iP(hone|od|ad)/i.test(e))(t)&&((e,t=navigator.userAgent)=>new RegExp(`OS ${e}`,"i").test(t))(e.toString(),t);let la=class extends dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._formattedChoices=[],this.key=Pt.MobileStickyPlayerPosition,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._formattedChoices=this.formatChoices(),this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}formatChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:String(t)})))}run(){return new ut(this._formattedChoices).get()}setExperimentTargeting(){const e=this.experimentConfig,t=`${e&&e.key.toLowerCase()}-${e&&e.id}`,i=this._result?String(this._result):"off";return this._pubabgroup.set(t,i),this._ga.addPubAbEventLabel({label:t,value:i}),`${t}:${i}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],la.prototype,"run",null),la=A([Xe("MobileStickyPlayerPositionSiteExperiment"),I(),O("design:paramtypes",[ct,ot,vt])],la);class da extends sa{constructor(e,t,i,s,r,n,o,a,l="adthrive-collapse-float",d,c,h,p,u,g,_){if(super(),this._playerId=e,this._playlistId=t,this._name=i,this._size=s,this._pageElement=r,this._eventProxy=n,this._vastLoadTimeout=o,this._config=a,this._collapseType=l,this._collapseMobileSizeType=d,this._prebidMethods=c,this._auctionManagers=h,this._playerType=p,this._isCollapsible=u,this._saveVideoCloseState=g,this._mobileLocation=_,this.initialAuctionPlayer=!1,this._prerollAdUrl="",this._prerollNum=0,this.jwVersion="",this.imaVersion="",this.requestVideoBids=()=>{throw new Error("Request video bids not set")},this.buildVideoUrl=()=>{throw new Error("Build video url not set")},this.setPlayerInstance=()=>{throw new Error("Reset player not set")},this.waitForConsent=()=>{throw new Error("Wait for consent not set")},this._defaults={},this._state=0,this._collapseCollection=null,this._adPlayed=!1,this._nextAdFetched=!1,this._adDurationLogged=!1,this._isFirstPlay=!0,this._createdSkipContainer=!1,this._calledNextVideo=!1,this._wasClicked=!1,this._canSkip=!0,this._isAdvancePlaylist=!1,this._adDetails=null,this._canTearDown=!1,this._tearDownAfterNextAd=!1,this._tearDownTimer=null,this._tearDownPlayerTimeout=0,this._stalePlayerTimer=null,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._adTimingBuffer=10,this._defaultAdDuration=30,this._autoplayBehaviorConfig={autostart:"viewable",mute:!0},this._topBackgroundElement=null,this._bidMarkedOnCurrentAd=!1,this._baseConfig={advertising:{adscheduleid:"DmULPHgQ",client:"googima",maxRedirects:this._config.video.maxRedirect,requestTimeout:this._config.video.jwRequestTimeout,vastLoadTimeout:this._vastLoadTimeout,vpaidmode:"insecure",vpaidcontrols:!0},generateSEOMetadata:!0},this._prebidAuctionManager=this._auctionManagers.getPrebidAuctionManager(),this._stickyInstreamCloseButtonExperiment=x.resolve(ra),this._stickyPlayerPositionExperiment=x.resolve(na),this._mobileStickyPlayerPositionSiteExperiment=x.resolve(la),this._videoCloseButtonComponent=x.resolve(Po),window.matchMedia){const e=window.matchMedia(`only screen and (max-width: ${this._config.site.breakpoints.desktop-1}px)`);e.addListener(this.handleWidthBreak.bind(this)),this.handleWidthBreak(e)}const m=this._config.video.advancePlaylist;this._isAdvancePlaylist="playlist"===this._playerType?m.playlistPlayer.enabled:m.relatedPlayer.enabled,("contextual"!==this._playerType||this._isCollapsible&&m)&&(this._tearDownPlayerTimeout=x.resolve(oa).result,this._canTearDown=0!==this._tearDownPlayerTimeout&&-1!==this._tearDownPlayerTimeout)}get name(){return`${this._name}`}get collapsible(){return this._isCollapsible}get size(){return this._size}get vp(){return this._prerollNum<=1?this._prerollNum:this._prerollNum<=9?2:3}get isPlayerType(){return this._playerType}init(){this.setup()}getDefaults(){return this._defaults}setDefaults(e){this._defaults=e}resetAdVars(){this._adPlayed=!1,this._bidMarkedOnCurrentAd=!1,this._adDetails=null,this._nextAdFetched=!1,this._adDurationLogged=!1,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._videoBidRequest=void 0,this._clearStaleTimers()}handleNextAdFetch(){if(!this._nextAdFetched){this._nextAdFetched=!0,this._prerollNum++;const e=this._videoBidRequest=this.requestVideoBids([this]);null==e||e.then((()=>this._prerollAdUrl=this.buildVideoUrl(this))).catch((()=>{}))}}preventCollapse(){ko.disableCollapse=!0,this._collapseCollection&&ko.uncollapse(this._collapseCollection)}playLinearAd(){const e=()=>{this._playerInstance._nonLinearAd=!1,this._playerInstance.playAd(this._prerollAdUrl),this._adPlayed=!0};this._videoBidRequest?this._videoBidRequest.then((()=>e())).catch((()=>{})):this._fetchBids().then((()=>e())).catch((()=>{}))}async _inViewPlay(){this._playerInstance.pause();const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._videoBidRequest?await this._videoBidRequest:await this._fetchBids(),this._playerInstance.play(!0)}_setPlayerVersions(){const e=new RegExp("^[0-9]+.[0-9]+.[0-9]+"),t=this._playerInstance,i=e.exec(t.version);this.jwVersion=i&&i[0],this.imaVersion=t.plugins&&t.plugins.googima&&t.plugins.googima.version}_getPlayerVersions(){return{imaSDKVersion:this.imaVersion,jwVersion:this.jwVersion}}async _fetchBids(){const e=this._videoBidRequest=this.requestVideoBids([this]);await e,this._prerollAdUrl=this.buildVideoUrl(this)}_tearDownPlayer(){this._tearDownAfterNextAd&&(this._tearDownAfterNextAd=!1,this._tearDownTimer&&clearTimeout(this._tearDownTimer),this._playerInstance.remove(),this.addToPage(),this.setPlayerInstance(this),this.handleScroll())}_enableTearDown(){this._tearDownAfterNextAd=!0}_startTearDownTimer(){const e=this._tearDownPlayerTimeout;this._canTearDown&&(this._tearDownTimer=window.setTimeout(this._enableTearDown.bind(this),e))}_handleErrors(){["adError","setupError","error"].forEach((e=>{this._bidMarkedOnCurrentAd=!1;const t="adError"===e;this._playerInstance.on(e,(i=>{if(this._clearStaleTimers(),900===i.code){const e=this._adDetails={adUnitName:this._name,tag:"tag"in i&&i.tag||"",isEmpty:!0};this._eventProxy.emitVideoSlotRenderedEvent(e)}if("setupError"===e&&this.preventCollapse(),D.error("JwPlayer",e,{code:i.code,...t&&{message:i.message,adErrorCode:i.adErrorCode},...this.getJwEventLog(i)}),"adError"===e){this._tearDownPlayer(),this._checkRenderedAdDetails();const e={message:i.message,code:i.code,...this._getPlayerVersions(),...this._getErrorLogAdDetails()};D.error("JwPlayer","vastError",e)}}))}))}_handleTimeEvents(){this._playerInstance.on("beforeComplete",(()=>{this.resetAdVars(),this._playerInstance._nonLinearAd=!1})),this._playerInstance.on("time",(({position:e,duration:t})=>{!this._nextAdFetched&&t-e<5&&this.handleNextAdFetch()})),this._playerInstance.on("adTime",(e=>{if(this._currentAdTime=e.position,this._config.video.logAdDuration&&!this._adDurationLogged){const t={adDuration:e.duration,roundedAdDuration:Math.round(e.duration)};D.event("VideoManager","VideoAdDuration",t),this._adDurationLogged=!0}})),this._playerInstance.on("adComplete",(()=>{this._tearDownPlayer()}))}async _triggerAdPlay(){const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._adPlayed||(this.playLinearAd(),this._isFirstPlay=!1)}_handlePlayingEvents(){["play","firstFrame"].forEach((e=>{this._playerInstance.on(e,(()=>{this._clearStaleTimers(),"firstFrame"===e&&this._isAdvancePlaylist&&this._triggerAdPlay()}))})),this._playerInstance.on("beforePlay",(()=>{this._triggerAdPlay()})),["adSkipped","adPause"].forEach((e=>{this._playerInstance.on(e,(()=>{this._clearStaleTimers(),"adPause"===e&&this._playerInstance.once("adPlay",(()=>{0!==this._currentAdTime&&this._setStaleAdDetection()}))}))})),this._collapseCollection&&["play","adPlay"].forEach((e=>{"adPlay"===e&&this._playerInstance.on(e,(()=>{this._checkRenderedAdDetails()})),this._playerInstance.once(e,(()=>{this._collapseCollection.mediaStarted=!0,this.handleScroll()}))}))}_checkRenderedAdDetails(){const e=this._prebidAuctionManager,t=this._adDetails;if(!e||!t||this._bidMarkedOnCurrentAd)return;const i=t.gamCreativeId,s=t.wrapperSystems;this._markPrebidBidAsUsed(i,e,s)}_markPrebidBidAsUsed(e="",t,i=[]){const s=e&&t.videoCreativeIdMapping.get(e);let r=!1,n=!1,o=!1;if(i.forEach((e=>{const t=e.toLowerCase();"gdfp"===t&&(n=!0),"prebid.org wrapper"===t?r=!0:"amazon"===t&&(o=!0)})),s){const e=this._adDetails,t=e&&e.tag&&Ie(e.tag.split("?")[1]),i=t&&t.get("cust_params"),r=(i&&Ae(this._getDecodedURI(i))||{})[`hb_adid_${s}`.substring(0,20)];r&&(this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name,adId:r}),this._bidMarkedOnCurrentAd=!0)}else!e&&(r||n&&!o)&&(this._bidMarkedOnCurrentAd=!0,this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name}))}_getDecodedURI(e){try{return decodeURIComponent(e)}catch(e){return""}}_getAdDetailsFromAd(e){return e&&Object.keys(e).length>0?e[Object.keys(e)[0]]:null}_handleAdTrackingEvents(){this._playerInstance.on("adLoaded",(e=>{const t=e.ima&&e.ima.ad&&this._getAdDetailsFromAd(e.ima.ad),i=t&&t.duration||e.duration||this._defaultAdDuration;this._currentAdDurationWithBuffer=i+this._adTimingBuffer,t&&(this._adDetails={gamLineItem:t.adWrapperIds[t.adWrapperIds.length-1],gamCreativeId:t.adWrapperCreativeIds[t.adWrapperCreativeIds.length-1],vastCreativeId:t.creativeId,mediaFileURL:t.mediaUrl,adId:t.adId,adUnitName:this._name,domain:this._config.context.domain,tag:e.tag,isEmpty:!1,wrapperSystems:t.adWrapperSystems}),this._setStaleAdDetection()})),this._playerInstance.on("adImpression",(()=>{const e=this._adDetails||{};this._eventProxy.emitVideoSlotRenderedEvent(e)})),this._config.video.logAdLifeCycle&&["adRequest","adImpression","adStarted","adViewableImpression"].forEach((e=>{this._playerInstance.on(e,(t=>{D.event("JwPlayer",e,this.getJwEventLog(t))}))}))}_setupEventListeners(){this._handleErrors(),this._listenForLargeVastError(),this._handleTimeEvents(),this._handlePlayingEvents(),this._handleAdTrackingEvents(),this._playerInstance.on("ready",(()=>{this._startTearDownTimer()}))}jwSetup(e){const t={...this._defaults,...this._baseConfig,...e};this._playerInstance.setup(t),this.handleNonLinearAd(),this._setupEventListeners()}_clearStaleTimers(){this._stalePlayerTimer&&(clearTimeout(this._stalePlayerTimer),this._stalePlayerTimer=null)}_listenForLargeVastError(){this._prebidMethods.onEvent("vastExceededLimit",(e=>{const t={meta:e.bids[0].meta,bidder:e.bids[0].bidder,adId:e.bids[0].adId,creativeId:e.bids[0].creativeId,responseSize:e.responseSize,maxSizeAllowed:e.maxSizeAllowed};D.error("JwPlayer","listenForLargeVastError",t)}))}_getErrorLogAdDetails(){return(({gamLineItem:e,gamCreativeId:t,vastCreativeId:i,mediaFileURL:s,adId:r,adUnitName:n,domain:o})=>({gamLineItem:e,gamCreativeId:t,vastCreativeId:i,mediaFileURL:s,adId:r,adUnitName:n,domain:o}))(this._adDetails||{})}_setStaleAdDetection(){const e=this._currentAdDurationWithBuffer-this._currentAdTime;this._stalePlayerTimer||(this._stalePlayerTimer=window.setTimeout((()=>{D.error("JwPlayer","stalePlayer",{message:"JwPlayer encountered an unknown error during ad play",...this._getPlayerVersions(),...this._getErrorLogAdDetails()}),-1===this._tearDownPlayerTimeout?(this._enableTearDown(),this._tearDownPlayer()):this._playerInstance.playlistItem(this._playerInstance.getPlaylistIndex())}),1e3*e))}getJwEventLog(e){return{playerName:this._name,rawData:this.trimEventData(e)}}set videoAdUnit(e){this._videoAdUnit=e}get videoAdUnit(){return this._videoAdUnit}handleNonLinearAd(){this._playerInstance.on("adImpression",(e=>{const t=Fe(e.ima,"ad")?e.ima.ad:null,i=this._getAdDetailsFromAd(t);if(i&&Fe(i,"linear")&&!1===i.linear||"nonlinear"===e.linear){this._playerInstance._nonLinearAd=!0,this._playerInstance.pause();const e=document.getElementById(`${this._playlistId}`),t=e.querySelector("div > div.jw-overlays.jw-reset");t.style.backgroundColor="black";const i=e.querySelector("div.jw-wrapper.jw-reset > div.jw-controls.jw-reset");i.style.zIndex="-1",this._playerInstance.once("adComplete",(()=>{this._playerInstance._nonLinearAd=!1,t.style.backgroundColor="transparent",i.style.zIndex="",this._playerInstance.play()}))}}))}getJwBoostTargeting(){return{playerID:this._playlistId,...(this.name===wt.Video_In_Post_ClicktoPlay_SoundOn||this.name===wt.Video_Individual_Autoplay_SOff)&&{mediaID:this._playlistId}}}async handleScroll(){const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._collapseCollection&&(this._videoBidRequest?await this._videoBidRequest:await this._fetchBids(),ko.handleScroll(this._collapseCollection))}handleResize(){this._collapseCollection&&ko.handleResize(this._collapseCollection)}handlePageVisibilityChange(e){this._collapseCollection&&ko.handlePageVisibilityChange(e,this._collapseCollection)}displayCloseButton(){this._collapseCollection&&ko.displayCloseButton(this._collapseCollection)}handleClose(){this._collapseCollection&&(this._saveVideoCloseState&&se("video_closed",!0),ko.handleClose(this._collapseCollection))}handleUserClick(){this._collapseCollection&&ko.handleUserClick(this._collapseCollection)}handleWidthBreak(e){this._collapseCollection&&ko.handleWidthBreak(e,this._collapseCollection)}handleVideoPlayingEvent(e){if(this._collapseCollection){if(e===this._playlistId)return;ko.handleOtherVideoPlaying(this._collapseCollection)}}handleTitleClick(e){this._collapseCollection.collapseTimer.firstInView&&D.event("jw-player","handleTitleClick",{timeElapsed:Date.now()-this._collapseCollection.collapseTimer.firstInView.valueOf(),link:e.currentTarget.getAttribute("href")})}handleFooterRefreshedEvent(){this._collapseCollection&&ko.repositionCollapseMobileBottom(this._collapseCollection)}configureQuality(){be()||this._playerInstance.on("levels",(e=>{this._playerInstance.setCurrentQuality(e.levels.length-1)}))}createDefaultButton(){return this._videoCloseButtonComponent.createDefaultButton(this.handleClose.bind(this))}createPlayerCloseButton(e){const t=this._wrapperTitleWrapperElement||this._videoTitleElement;return this._closeButton=this._videoCloseButtonComponent.createPlayerCloseButton(this.handleClose.bind(this),this._stickyInstreamCloseButtonExperiment.result,"adthrive-collapse-close",!!t,this._isTopCollapse),this._closeButton}createPlayerCollapseBackgroundElement(){const e=document.createElement("div");return e.classList.add("adthrive-collapse-mobile-background"),e.style.width=`${window.innerWidth}px`,e.style.display="inline",e.style.height="0",e}createPlayerWrapper(e){if(e){this._wrapperTitleWrapperElement=document.createElement("a");const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","24"),e.setAttribute("height","24"),e.setAttribute("style","vertical-align: top;");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M 16 1 H 23 V 8 Z M 19.5 12.5 V 23 H 1 V 4.5 H 12 l 1 1 H 2 V 22 H 18.5 V 11.5 l 1 1 v 1 M 19 4 L 11.5 11.5 l 1 1 L 20 5"),t.setAttribute("stroke","white"),t.setAttribute("stroke-width","2"),t.setAttribute("stroke-linejoin","round"),e.appendChild(t),this._wrapperTitleWrapperElement.appendChild(e)}else this._wrapperTitleWrapperElement=document.createElement("div");this._videoTitleElement=document.createElement("span");const t=document.createElement("div"),i=document.createElement("div");return i.className="adthrive-wrapper-title-wrapper",this._videoTitleElement.classList.add("adthrive-video-text-cutoff"),this._videoTitleElement.classList.add("adthrive-video-title"),this._wrapperTitleWrapperElement.className="adthrive-video-text-cutoff",this._wrapperTitleWrapperElement.appendChild(this._videoTitleElement),this._wrapperTitleWrapperElement.target="_blank",this._wrapperTitleWrapperElement.onclick=this.handleTitleClick.bind(this),this._closeButton="off"!==this._stickyInstreamCloseButtonExperiment.result||this._isTopCollapse?this.createPlayerCloseButton():this.createDefaultButton(),i.appendChild(this._wrapperTitleWrapperElement),t.className="adthrive-wrapper-bar",t.appendChild(i),t.appendChild(this._closeButton),t}createTopCollapseWrapper(e=!0){const t=document.createElement("div");t.className="adthrive-top-collapse-wrapper-bar",this._closeButton=this.createPlayerCloseButton();const i=document.createElement("div");i.style.minHeight="33px",i.appendChild(this._closeButton),t.appendChild(i);const s=document.createElement("a");if(this._topCollapseVideoTitleElement=document.createElement("span"),this._topCollapseVideoTitleElement.classList.add("adthrive-top-collapse-wrapper-video-title"),s.appendChild(this._topCollapseVideoTitleElement),e){const e=document.createElement("a");e.classList.add("adthrive-learn-more-link"),e.innerText="Tap here to learn more.",s.appendChild(e),s.onclick=this.handleTitleClick.bind(this)}return t.appendChild(s),this._wrapperText=s,t}trimEventData(e){var t,i;const s={...e},r=s.ima&&s.ima.ad&&this._getAdDetailsFromAd(s.ima.ad);return(null==s?void 0:s.tag)&&delete s.tag,r&&r.traffickingParameters&&delete r.traffickingParameters,(null===(i=null===(t=null==s?void 0:s.ima)||void 0===t?void 0:t.userRequestContext)||void 0===i?void 0:i.adTagUrl)&&delete s.ima.userRequestContext.adTagUrl,(null==s?void 0:s.mediaFile)&&delete s.mediaFile,s}handleNextButton(){this._calledNextVideo=!0,this.removeSkipContainer(),this.resetAdVars(),this._isAdvancePlaylist&&1===this._playerInstance.getPlaylist().length?(this._playerInstance.pause(),this._playerInstance.seek(0),this._playerInstance.trigger("firstFrame",{loadTime:0,viewable:1})):this._playerInstance.next()}createNavButton(e){const t=document.createElement("div");return t.id=`${e}-video`,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),aa(15)||aa(16)||((e=navigator.userAgent)=>U(e)&&be(e))()||t.classList.add("video-box-shadow"),t}createSkipContainer(){const e=document.createElement("div");e.id="next-stay-container";const t=this.createNavButton("next");return t.onclick=this.handleNextButton.bind(this),e.appendChild(t),e.appendChild(this.createNavButton("stay")),e}initSkipContainer(){this._playerInstance.on("time",(({position:e,duration:t})=>{!this._canSkip||this._playerInstance._nonLinearAd||this._wasClicked||t<40||(!this._createdSkipContainer&&e>=25?(this._createdSkipContainer=!0,this.handleNextAdFetch(),this._skipContainer=this.createSkipContainer(),this._playerInstance.getContainer().appendChild(this._skipContainer),getComputedStyle(this._skipContainer).backgroundColor&&this._skipContainer.classList.add("loaded")):this._createdSkipContainer&&!this._calledNextVideo&&e>=30&&this.handleNextButton())}))}handleVideoPlayerClicked(){this._wasClicked=!0,this.removeSkipContainer()}removeSkipContainer(){var e,t;null===(t=null===(e=this._skipContainer)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this._skipContainer),this._skipContainer=void 0}handleFirstFrame(){this._calledNextVideo=!1,this._createdSkipContainer=!1,this._wasClicked=!1}_getCollapseMobileSubType(){const e=this._mobileStickyPlayerPositionSiteExperiment.result;return e?gs.setMobileLocation(e):this._stickyPlayerPositionExperiment.result?"adthrive-collapse-top-center":this._mobileLocation}get _isTopCollapse(){return"adthrive-collapse-top-center"===this._getCollapseMobileSubType()}isTopCenterCollapse(){return"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse}createTopCenterBackground(e){this._topBackgroundElement=this.createPlayerCollapseBackgroundElement(),e.appendChild(this._topBackgroundElement)}}let ca=class extends da{constructor(e,t,i,s,r,n,o,a,l,d,c,h,p,u){super(e,t,i,s,r,n,1e4,o,l,d,c,h,"contextual",a,undefined,p),this._mobileHeaderSelector=u,this._topBackgroundElement=null,this._playerConfig={repeat:!0,nextupoffset:-.01,playlist:`https://cdn.jwplayer.com/v2/media/${this._playlistId}`},this._wrapperBarRemoved=!1,this._playerElement=document.createElement("div"),this._canSkip=!1,this._autoplayStationaryPlayer=this._shouldStationaryAutoplay(),(a||this._autoplayStationaryPlayer)&&(this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._playerContainer=this._pageElement)}addToPage(){}_appendPlayer(){const e=document.createElement("div");e.id=this._playlistId,e.className="adthrive-jw-static-player",this._isCollapsible?(this._pageElement.id="adthrive-contextual-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-contextual-position",this.isTopCenterCollapse()&&this.createTopCenterBackground(this._pageElement),this._config.video.removeVideoTitleWrapper?this.addCloseWithoutWrapper():this.isTopCenterCollapse()?this.addTopCenterWrapper():this.addPlayerWithoutWrapper(),this._playerElement.appendChild(e),this._pageElement.appendChild(this._playerElement)):this._pageElement.appendChild(e)}setup(){"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)),this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._isCollapsible&&(this._collapseCollection={playerInstance:this._playerInstance,playerType:"contextualCollapse",playerState:this._state,playerContainer:this._pageElement,playerElement:this._playerElement,topBackgroundElement:this._topBackgroundElement,footerElement:this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null,stickyElement:this._stickyElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseMobileSizeType:this._collapseMobileSizeType,collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:this._mobileHeaderSelector||null,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}),this.jwSetup(this._playerConfig),this._playerInstance.on("play",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._isCollapsible?this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this)):this._eventProxy.videoPlaying.on(this.contextualHandleVideoPlayingEvent.bind(this)),this._config.video.contextualPlayerAdded=!0,this._playerInstance.on("ready",(e=>{this.configureQuality(),this.initRelatedPlaylist(),this._setPlayerVersions();const t=this._autoplayStationaryPlayer;(t||this._collapseCollection)&&(e.viewable&&this._inViewPlay(),t&&this._logStationaryAutoplay()),this._isCollapsible&&this.playerReady()}))}_logStationaryAutoplay(){this._config.video.logAdLifeCycle&&D.event("JwPlayer","StaticPlayer",{message:`Static Player set to autoplay for playlist id ${this._playlistId}`,...this._getPlayerVersions()})}loadPlaylistPlayerVideos(){this._config.video.jwPlaylist.then((e=>{if(e.playlist&&e.playlist.length){const t=this._playerInstance.getPlaylist().concat(gs.shufflePlaylist(e.playlist));this._playerInstance.once("userInactive",(()=>{var e;!(null===(e=this._collapseCollection)||void 0===e?void 0:e.mediaStarted)&&this.handleScroll()})),this._playerInstance.load(t),this.handleScroll().catch((()=>!1))}})).catch((()=>!1))}setupAllowSkip(){this._config.video.advancePlaylist.relatedPlayer.applyToFirst&&(this._canSkip=!0),this._playerInstance.once("complete",(()=>{this.hideWrapperBar(),this._canSkip=!0}))}handleNextButton(){this.hideWrapperBar(),super.handleNextButton()}_shouldStationaryAutoplay(){return!this._config.video.playlistPlayerAdded&&!!document.querySelector("body.adthrive-video-autoplay")}setWrapperBar(){this._wrapperBar=this._playerElement.querySelector(".adthrive-wrapper-bar")}hideWrapperBar(){const e=this._wrapperBar,t=this._playerElement;!this._wrapperBarRemoved&&e&&(this._wrapperBarRemoved=!0,e.parentNode&&e.parentNode.removeChild(e),this._wrapperBar=null,t.insertBefore(this.createPlayerCloseButton(),t.firstChild),this._collapseCollection&&(this._collapseCollection.closeButton=this._closeButton,this.displayCloseButton()))}addCloseWithoutWrapper(){this._playerElement.appendChild(this.createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")}addTopCenterWrapper(){this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.appendChild(this.createTopCollapseWrapper(!1)),this._playerElement.classList.add("adthrive-player-with-wrapper-text")}addPlayerWithoutWrapper(){this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.classList.add("adthrive-player-without-wrapper-text")}initRelatedPlaylist(){this._config.video.advancePlaylist.relatedPlayer.shouldRun.then((e=>{e&&(this.loadPlaylistPlayerVideos(),this.setupAllowSkip(),this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer())})).catch((()=>!1))}setTitleTextForVideoTitleElement(e){const t=this._playerInstance.getPlaylistItem(0),i=Fe(s=t,r="title")?s[r]:null;var s,r;e.innerText="string"==typeof i?i:""}playerReady(){this.setWrapperBar(),this._wrapperBar&&this._wrapperBar.style.setProperty("display","flex"),this._videoTitleElement&&this.setTitleTextForVideoTitleElement(this._videoTitleElement),this._topCollapseVideoTitleElement&&this.setTitleTextForVideoTitleElement(this._topCollapseVideoTitleElement),this._playerInstance.on("pause",(e=>{"interaction"===e.pauseReason&&this.handleUserClick()})),this._playerInstance.on("play",(e=>{"interaction"===e.playReason&&this.handleUserClick(),this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this.handleResize()}contextualHandleVideoPlayingEvent(e){e!==this._playlistId&&this._playerInstance.pause(!0)}};ca=A([Xe("ContextualPlayer"),O("design:paramtypes",[Object,String,String,Array,HTMLElement,Wn,ys,Boolean,String,String,Cs,rn,String,Object])],ca);let ha=class extends da{constructor(e,t,i,s,r,n,o,a,l="adthrive-collapse-float",d,c,h,p,u,g,_,m){super(e,t,i,s,n,o,a.video.vastTimeout,a,l,d,c,h,"playlist",!0,g,p),this._sharedVideoSettings=r,this._title=_,this._shuffle=m,this._topBackgroundElement=null,this._isCollapsible=!0,this._playerConfig={playlist:`https://cdn.jwplayer.com/v2/playlists/${this._playlistId}`,related:{autoplaytimer:0}},this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._checkVideoClose()&&(this._state=7),this._config.video.footerSelector?this._footerElement=document.querySelector(this._config.video.footerSelector):this._footerElement=null,"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this.clsPlayerContainer=document.querySelector(`#cls-video-container-${this._playlistId} > div`),this._playerContainer=this.clsPlayerContainer?this.clsPlayerContainer:document.createElement("div"),this._playerElement=document.createElement("div"),this._collapseCollection={playerInstance:this._playerInstance,playerType:"playlist",playerState:this._state,playerContainer:this._playerContainer,playerElement:this._playerElement,stickyElement:this._stickyElement,footerElement:this._footerElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSizeType:this._collapseMobileSizeType,collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:u||null,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}}setup(){this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)),this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this))}_appendPlayer(){const e=document.createElement("div"),t=document.createElement("h3");this._playerContainer.classList.add("adthrive-player-container"),this._playerContainer.classList.add("adthrive-collapse-player"),this._playerContainer.id="adthrive-collapse-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-collapse-position",e.id=this._playlistId,t.innerText=this._getTitle(),t.className="adthrive-player-title",t.id="adthrive-collapse-title",this._playerElement.appendChild(t),this._config.video.removeVideoTitleWrapper?(this._playerElement.appendChild(this.createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")):"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse?(this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._playerElement.appendChild(this.createTopCollapseWrapper()),this._playerElement.classList.add("adthrive-player-with-wrapper-text")):(this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._playerElement.classList.add("adthrive-player-without-wrapper-text")),this._collapseCollection.closeButton=this._closeButton,this._playerElement.appendChild(e),this.isTopCenterCollapse()&&this.createTopCenterBackground(this._playerContainer),this._playerContainer.appendChild(this._playerElement),this.clsPlayerContainer||this._pageElement.insertAdjacentElement(this._sharedVideoSettings.position,this._playerContainer)}addToPage(){this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._collapseCollection&&(this._collapseCollection.playerInstance=this._playerInstance,this._collapseCollection.playerContainer=this._playerContainer,this._collapseCollection.playerElement=this._playerElement,this._collapseCollection.topBackgroundElement=this._topBackgroundElement),this.jwSetup(this._playerConfig),this._playerInstance.on("ready",this.playerReady.bind(this)),this._config.video.playlistPlayerAdded=!0}playerReady(e){var t;this._setPlayerVersions(),null===(t=this._playerElement.querySelector(".adthrive-wrapper-bar"))||void 0===t||t.style.setProperty("display","flex");if(this._getShuffle()){const e=this._playerInstance.getPlaylist();this._playerInstance.load(gs.shufflePlaylist(e))}this._config.video.advancePlaylist.playlistPlayer.enabled&&(this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer()),this._playerInstance.on("pause",(e=>{"interaction"===e.pauseReason&&this.handleUserClick()})),this._playerInstance.on("play",(e=>{"interaction"!==e.playReason||this._calledNextVideo||this.handleUserClick(),this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("playlistItem",(e=>{const t=e.item;this._videoTitleElement&&Fe(t,"title")&&"string"==typeof t.title&&(this._videoTitleElement.innerText=t.title),this._topCollapseVideoTitleElement&&Fe(t,"title")&&"string"==typeof t.title&&(this._topCollapseVideoTitleElement.innerText=t.title),this._wrapperTitleWrapperElement&&Fe(t,"link")&&"string"==typeof t.link&&(this._wrapperTitleWrapperElement.href=t.link),this._wrapperText&&Fe(t,"link")&&"string"==typeof t.link&&(this._wrapperText.href=t.link)})),this.configureQuality(),this.handleResize(),e.viewable&&this._inViewPlay()}_getShuffle(){return!!this._shuffle&&this._shuffle}_getTitle(){return this._title?this._title:""}_checkVideoClose(){return this._saveVideoCloseState&&this._config.video.videoWasClosed}};ha=A([Xe("PlaylistPlayer"),O("design:paramtypes",[String,String,String,Array,Object,HTMLElement,Wn,ys,String,String,Cs,rn,String,Object,Boolean,String,Boolean])],ha);let pa=class extends sa{constructor(e,t,i,s,r,n,o,a,l){super(),this._playlistId=e,this._portalSettings=t,this._pageElement=i,this._device=s,this._width=r,this._height=n,this._isCollapse=o,this._config=a,this._videoRequestManager=l,this.API_ID="sekindoPlayer",this._clsContainer=null,this._hasTitle=!(!this._portalSettings.title||null===this._portalSettings.title&&""===this._portalSettings.title)}addToPage(){this.setup(),this._config.video.sekindoPlayerAdded=!0}setup(){window.addEventListener("primisPlayerInit",(e=>{e.detail.playerApiId===this.API_ID&&(D.event("sekindo-player","init","Sekindo player initialized"),this._videoRequestManager.requestingSekindoBids.emit(this))})),this._clsContainer=document.querySelector(`#cls-video-container-${this._playlistId}`);const e=document.createElement("div");e.className="adthrive-sekindo-player",e.id="adthrive-sekindo-container";const t=document.createElement("script"),i=gs.createQueryString({s:this._isCollapse?98876:87493,cbuster:"%%CACHEBUSTER%%",pubUrl:"%%REFERRER_URL_ESC_ESC%%",x:this._width,y:this._height,vp_contentFeedId:this._playlistId,subId:this._config.site.id,playerApiId:this.API_ID});t.async=!0,t.defer=!0,t.type="text/javascript",t.src=`https://live.primis.tech/live/liveView.php?${i}`,"desktop"===this._device?this._desktopSetup(e,t):this._mobileSetup(e,t)}_desktopSetup(e,t){if(this._hasTitle){const t=document.createElement("h4");t.innerText=this._portalSettings.title,t.classList.add("widgettitle"),t.id="adthrive-sekindo-desktop-title",e.appendChild(t)}e.appendChild(t),this._clsContainer?this._clsContainer.appendChild(e):this._pageElement.insertAdjacentElement(this._portalSettings.position,e)}_mobileSetup(e,t){if(this._hasTitle){const t=document.createElement("strong");t.innerText=this._portalSettings.title,t.id="adthrive-sekindo-mobile-title",e.appendChild(t)}e.appendChild(t);const i=document.createElement("div");i.className="adthrive-sekindo-mobile-center",i.id="adthrive-sekindo-mobile-wrapper",i.appendChild(e),this._clsContainer?this._clsContainer.appendChild(i):this._pageElement.insertAdjacentElement(this._portalSettings.position,i)}};pa=A([Xe("SekindoPlayer"),O("design:paramtypes",[String,Object,HTMLElement,String,Number,Number,Boolean,ys,Bn])],pa);let ua=class extends dt{constructor(e,t,i,s){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this.sessionStoragePrefix="se",this._choices=[],this._result=!1,this.key=Pt.StickyOutstreamOnStickyPlayer,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&di(s)&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}get result(){return this._result}run(){if(1!==this._choices.length)return D.error("StickyOutstreamOnStickyPlayerPagesSiteExperiment","run","Bernoulli Trial should have exactly one variant",this._choices),!1;const e=this._choices[0].weight/100;return new pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("StickyOutstreamOnStickyPlayerPagesSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ua.prototype,"run",null),ua=A([Xe("StickyOutstreamOnStickyPlayerPagesSiteExperiment"),I(),M(3,T("AdThrive")),O("design:paramtypes",[ct,ot,vt,Object])],ua);let ga=class extends lt{constructor(e){super(),this._result=!1,this.key="sospp",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(1).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ga.prototype,"run",null),ga=A([Xe("StickyOutstreamOnStickyPlayerPagesExperiment"),I(),O("design:paramtypes",[nt])],ga);class _a extends Bs{constructor(e,t,i){super(),this._videoConfig=e,this._component=i,this._stickyRelatedOnPage=!1,this._contextualMediaIds=[];const s=this._videoConfig.players||[];this._device=be()?"desktop":"mobile",this._potentialPlayerMap=this._setPotentialPlayerMap(t);const r=s.filter((e=>"stationaryRelated"===e.type&&e.enabled));this._potentialPlayerMap.stationaryRelated=r}_setPotentialPlayerMap(e){const t=this._videoConfig.players,i={stickyRelated:[],stickyPlaylist:[],sekindo:[],stationaryRelated:[]};return t&&t.length?t.filter((e=>{var t;return null===(t=e.devices)||void 0===t?void 0:t.includes(this._device)})).reduce(((t,i)=>(t[i.type]||(D.event(this._component,"constructor","Unknown Video Player Type detected",i.type),t[i.type]=[]),i.enabled&&(e&&"sekindo"===i.type||t[i.type].push(i)),t)),i):i}_checkPlayerSelectorOnPage(e){const t=this._potentialPlayerMap[e].map((e=>({player:e,playerElement:this._getPlacementElement(e)})));return t.length?t[0]:{player:null,playerElement:null}}_getOverrideElement(e,t,i){if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}else{const{player:e,playerElement:t}=this._checkPlayerSelectorOnPage("stickyPlaylist");if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}}return i}_shouldOverrideElement(e){const t=e.getAttribute("override-embed");return"true"===t||"false"===t?"true"===t:!!this._videoConfig.contextualSettings&&this._videoConfig.contextualSettings.overrideEmbedLocation}_getPlacementElement(e){const t=qe(e.pageSelector),i=Ue(e.elementSelector);return t.valid?e.pageSelector&&!t.elements.length?(D.event("VideoUtils","getPlacementElement",new Error(`PSNF: ${e.pageSelector} does not exist on the page`)),null):i.valid?i.elements.length>e.skip?i.elements[e.skip]:(D.event("VideoUtils","getPlacementElement",new Error(`ESNF: ${e.elementSelector} does not exist on the page`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.elementSelector} is not a valid selector`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.pageSelector} is not a valid selector`)),null)}_getEmbeddedPlayerType(e){let t=e.getAttribute("data-player-type");return t&&"default"!==t||(t=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static"),this._stickyRelatedOnPage&&(t="static"),t}_getUnusedMediaId(e){const t=e.getAttribute("data-video-id");return!(!t||this._contextualMediaIds.includes(t))&&(this._contextualMediaIds.push(t),t)}_createRelatedPlayer(e,t,i){"collapse"===t?this._createCollapsePlayer(e,i):"static"===t&&this._createStaticPlayer(e,i)}_createCollapsePlayer(e,t){const{player:i,playerElement:s}=this._checkPlayerSelectorOnPage("stickyRelated"),r=i||this._potentialPlayerMap.stationaryRelated[0];if(r&&r.playerId){this._shouldOverrideElement(t)&&(t=this._getOverrideElement(i,s,t)),t=document.querySelector(`#cls-video-container-${e} > div`)||t,this._createStickyRelatedPlayer({...r,mediaId:e},t)}else D.error(this._component,"_createCollapsePlayer","No video player found")}_createStaticPlayer(e,t){if(this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId){const i=this._potentialPlayerMap.stationaryRelated[0];this._createStationaryRelatedPlayer({...i,mediaId:e},t)}else D.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return!(!this._isVideoAllowedOnPage()||!(this._potentialPlayerMap.stickyRelated.length||this._potentialPlayerMap.stickyPlaylist.length||this._potentialPlayerMap.sekindo.length))}_determineAutoplayPlayers(){const e=this._component,t="VideoManagerComponent"===e,i=this._config;if(this._stickyRelatedOnPage)return void D.event(e,"stickyRelatedOnPage",t&&{device:i&&i.context.device,isDesktop:this._device}||{});const{player:s,playerElement:r}=this._checkPlayerSelectorOnPage("stickyPlaylist"),{player:n,playerElement:o}=this._checkPlayerSelectorOnPage("sekindo");s&&s.playerId&&s.playlistId&&r?this._createPlaylistPlayer(s,r):n&&n.playlistId&&o?this._createSekindoPlayer(n,o):D.event(e,"noStickyPlaylistOrSekindo",t&&{vendor:"none",device:i&&i.context.device,isDesktop:this._device}||{})}_initializeRelatedPlayers(e){for(let t=0;t<e.length;t++){const i=e[t],s=this._getEmbeddedPlayerType(i),r=this._getUnusedMediaId(i);r&&this._createRelatedPlayer(r,s,i)}}}let ma=class extends lt{constructor(e){super(),this.abgroup=e,this.key="sekho",this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.shouldUseCoreOverride=!1;const t=window,i=t&&t.adthriveCLS,s=i&&i.experiments,r=s&&this.key in s;this._result=s&&r?s[this.key]:this.run(),this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new pt(.05).get()}};ma=A([P(),Xe("SekindoHoldoutExperiment"),O("design:paramtypes",[nt])],ma);let ya=class{constructor(e,t,i,s,r,n,o){this._abgroup=e,this._config=t,this._gam=i,this._irisTv=s,this._floors=r,this._videoEventBus=n,this._slotEventBus=o,this._apstagSlotBids=new Map,this._prebidSlotTargetingMap=new Map,this.shouldPrebidRun=!1,this._videoEventBus.addAPStagSlotBidResponse.on((({playlistId:e,bid:t})=>this._addAPStagSlotBidResponse(e,t))),this._slotEventBus.addPrebidSlotTargeting.on((({adUnitCode:e,slotTargeting:t})=>this._addPrebidSlotTargeting(e,t)))}_addAPStagSlotBidResponse(e,t){this._apstagSlotBids.set(e,t)}_addPrebidSlotTargeting(e,t){this._prebidSlotTargetingMap.set(e,t)}getVideoTargeting(e,t){const i=this._irisTv.irisContextualData,s={},r="rvadv_ab1";if(Object.keys(t).forEach((e=>{const i=this._abgroup.get(r);"abgroup"===e&&i&&t[e].push(`rvadv_ab1:${i}`),s[e]=encodeURIComponent(t[e].toString())})),s.vprenum=String(e._prerollNum),s.jwv=e.jwVersion||"",s.imav=e.imaVersion||"",i){s["iris_context"]=i.toString()}return s}_getVideoBid(e){const t=this._apstagSlotBids.get(e);if(t)return this._apstagSlotBids.delete(e),t}getAmazonBidTargeting(e){const t=this._getVideoBid(e);if(t)return{amznbid:t.amznbid,amzniid:t.amzniid,amznp:t.amznp}}getPrebidNoBidTargeting(e){const t=this.getPrebidSlotTargeting(e);if(!Object.keys(t).length)return{hb_bidder:"noBid"}}getPrebidSlotTargeting(e){return this._prebidSlotTargetingMap.get(e)||{}}getCustParams(e){const t=this._gam.getTargetingMap(),i=this._floors.getVideoFlagSlot(e.name),s=this.getAmazonBidTargeting(e._playlistId);return{...i&&{flag_slot:Object.keys(i).reduce(((e,t)=>`${e}${t}%3A${i[t]}`),"")},...this.getVideoTargeting(e,t),...this.getPrebidNoBidTargeting(e.name),...s}}handleGdprConsent(){const e={gdpr:1,gdpr_consent:"tcunavailable"};return"function"==typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,(t=>{t&&t.tcString.length&&(e.gdpr_consent=t.tcString),t&&t.addtlConsent.length&&(e.addtl_consent=t.addtl_consent)})),e}getConsentParams(){if(this._config.gdpr.enabled)this.handleGdprConsent();else if(this._config.ccpa.privacyString)return{us_privacy:this._config.ccpa.privacyString}}getDefaultVideoUrlParams(e){return{iu:`/${this._config.gam.account}/${this._config.gam.prefix}_${e.name}/${this._config.site.id}`,sz:e.size.join("x"),hl:"en",output:"vast",url:"__referrer__",vad_type:"linear",description_url:"__domain__",pp:"10_VAST%20redirects_video%2Fmp4_VPAID%20JavaScript"}}buildGAMVideoUrl(e){const t=this.getConsentParams(),i=gs.createQueryString(this.getCustParams(e)),s=gs.createEncodedQueryString({cust_params:i}),r=this.getDefaultVideoUrlParams(e),n={env:"vp",gdfp_req:"1",unviewed_position_start:"1",correlator:Date.now(),...r,...t};return`https://securepubads.g.doubleclick.net/gampad/ads?${gs.createQueryString(n)}&${s}`}buildGAMVideoUrlPrebid(e){const t=e.videoAdUnit||{},i=this.getCustParams(e),s=this.getDefaultVideoUrlParams(e);return pbjs.adServers.dfp.buildVideoUrl({adUnit:t,params:{...s,cust_params:i}})}buildVideoUrl(e){return this.shouldPrebidRun?this.buildGAMVideoUrlPrebid(e):this.buildGAMVideoUrl(e)}};ya=A([Xe("VideoUrlBuilder"),I(),O("design:paramtypes",[nt,ys,Es,kr,Ms,zs,tn])],ya);let fa=class extends _a{constructor(e,t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m){super(e.video,c.result,"VideoManagerComponent"),this._config=e,this._bootstrapConfig=t,this._prebidMethods=i,this._auctionManagers=s,this._jwBoostExperiment=r,this._userPageDataLoggingEvent=n,this._collapsibleVideoLoggingStore=o,this._videoRequestManager=a,this._eventProxy=l,this._mediaType=d,this._sekindoHoldoutExperiment=c,this._stickyOutstreamOnStickyPlayerPagesExperiment=h,this._stickyOutstreamOnStickyPlayerPagesSiteExperiment=p,this._videoUrlBuilder=u,this._irisTv=g,this._gdprEnforcementComponent=_,this._events=m,this._sekindoPlayers=[],this._jwPlayers=[],this._IN_POST_SELECTOR=".adthrive-video-player"}init(){this._handleCollapsibleVideoLogging(),this._initializePlayers(),this._mediaType.runOneStreamExperiment()}_initializePlayers(){const e=document.querySelectorAll(this._IN_POST_SELECTOR);if(e.length&&this._initializeRelatedPlayers(e),this._shouldRunAutoplayPlayers()){this._determineAutoplayPlayers();try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}else try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}_createStationaryRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=wt.Video_In_Post_ClicktoPlay_SoundOn,r=new ca(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!1,"adthrive-collapse-mobile","adthrive-collapse-medium",this._prebidMethods,this._auctionManagers);this._jwPlayers.push(r)}_createStickyRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=wt.Video_Individual_Autoplay_SOff,r=this._getCollapseType();this._collapsibleVideoLoggingStore.playerName=s,this._stickyRelatedOnPage=!0,this._config.video.mobileStickyPlayerOnPage="mobile"===this._device;const n=new ca(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!0,r,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,e.mobileLocation,e.mobileHeaderSelector);this._jwPlayers.push(n)}_createSekindoPlayer(e,t){const i=e.playlistId,s="mobile"===this._device?{width:340,height:260}:{width:320,height:250},r={...e,classNames:[]};this._sekindoPlayers.push(new pa(i,r,t,this._device,s.width,s.height,!1,this._config,this._videoRequestManager))}_createPlaylistPlayer(e,t){const i=e.playerId,s=e.playlistId,r=this._getCollapseType(),n="adthrive-collapse-mobile"===r?[400,225]:[640,360],o="mobile"===this._device?wt.Video_Coll_SOff_Smartphone:wt.Video_Collapse_Autoplay_SoundOff,a={classNames:[],enabled:!0,pageSelector:e.pageSelector,elementSelector:e.elementSelector,position:e.position,skip:e.skip};this._config.video.mobileStickyPlayerOnPage=!0;const l=new ha(i,s,o,n,a,t,this._eventProxy,this._config,r,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,e.mobileLocation,e.mobileHeaderSelector,e.saveVideoCloseState,e.title,e.shuffle);this._collapsibleVideoLoggingStore.playerName=o,this._jwPlayers.push(l)}_initJwBoost(){this._prebidMethods.setConfig({...this._jwBoostExperiment.result&&this._jwPlayers.length&&{realTimeData:{dataProviders:[{name:"jwplayer",params:{mediaIDs:this._contextualMediaIds}}]}}})}_hasViewableCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible&&gs.playerViewable(e._pageElement)))}_hasCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible))}_hasViewableAutoplayStationaryPlayer(e){return!!e.length&&e.some((e=>!e.collapsible&&gs.playerViewable(e._pageElement)))}_setPlayerInstance(e){this._resetPlayer(e)}_resetPlayer(e){e.init()}async _initializePlayer(e,t){const i=this._videoRequestManager;e.setDefaults(window.jwplayer.defaults),window.jwplayer.defaults={},await this._bootstrapConfig.bootstrapLoaders[bt.Prebid].then((()=>{this._videoUrlBuilder.shouldPrebidRun=!0})).catch((()=>{})),t&&this._contextualMediaIds[0]&&await this._irisTv.setContextualData(this._contextualMediaIds[0]),i.addVideoSlots([e]),e.setPlayerInstance=this._setPlayerInstance.bind(this),e.requestVideoBids=async e=>await i.requestVideoBids(e),e.waitForConsent=this.gdprConsentWait.bind(this),Es.pushToQueue((()=>{e.buildVideoUrl=this._videoUrlBuilder.buildVideoUrl.bind(this._videoUrlBuilder),e.addToPage(),e.init()}))}async gdprConsentWait(){return new Promise((e=>{this._events.consentCaptured.on((t=>{t&&e(!0)}))}))}_importScripts(){this._config.video.preventStickyOutstream=this._preventStickyOutstream(),this._initJwBoost(),this._jwPlayers.length&&(this._config.video.hasJwPlayer=!0),this._jwPlayers.forEach((e=>{const t="contextual"===e.isPlayerType;t&&this._config.video.setupAdvanceRelatedExperiment(e.collapsible),de(`https://content.jwplatform.com/libraries/${e._playerId}.js`).then((async()=>this._initializePlayer(e,t))).catch((e=>D.error("VideoManagerComponent","importScripts",e)))})),this._sekindoPlayers.forEach((e=>{e.addToPage()}))}_preventStickyOutstream(){const e=this._hasViewableCollapsiblePlayer(this._jwPlayers),t=!e&&this._hasViewableAutoplayStationaryPlayer(this._jwPlayers),i=this._disableStickyOutstreamInPresenceOfCollapsiblePlayer();return e||t||i||!!this._sekindoPlayers.length}_disableStickyOutstreamInPresenceOfCollapsiblePlayer(){return!!this._hasCollapsiblePlayer(this._jwPlayers)&&(!this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.result&&(!this._stickyOutstreamOnStickyPlayerPagesExperiment.result||!1===this._config.video.stickyOutstreamSettings.allowForPageWithStickyPlayer.enabled))}_isVideoAllowedOnPage(){return!this._config.disableAds.video||(this._config.disableAds.reasons.has("video_tag")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video tag")):this._config.disableAds.reasons.has("video_plugin")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video plugin")):this._config.disableAds.reasons.has("video_page")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via command queue")):D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via other")),!1)}_getCollapseType(){return"mobile"===this._device?"adthrive-collapse-mobile":"adthrive-collapse-float"}_handleCollapsibleVideoLogging(){ko.collapseEvent.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime=ke()})),ko.uncollapseEvent.on((()=>{this._collapsibleVideoLoggingStore.totalTimeCollapsed+=this._collapsibleVideoLoggingStore.startedCollapsedTime?ke()-this._collapsibleVideoLoggingStore.startedCollapsedTime:0,this._collapsibleVideoLoggingStore.startedCollapsedTime=void 0})),ko.closeEvent.on((()=>{this._collapsibleVideoLoggingStore.wasClosed=!0})),ko.startEvent.once((()=>{this._collapsibleVideoLoggingStore.wasStarted=!0})),this._userPageDataLoggingEvent.loggingData.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime&&(this._collapsibleVideoLoggingStore.totalTimeCollapsed+=ke()-this._collapsibleVideoLoggingStore.startedCollapsedTime)}))}};fa=A([Xe("VideoManagerComponent"),P(),O("design:paramtypes",[ys,Dt,Cs,rn,Is,Wi,an,Bn,Wn,Qs,ma,ga,ua,ya,kr,Vs,mt])],fa);let va=class extends Bs{constructor(e,t){super(),this._bootstrapConfig=e,this._pageManager=t,this._maxTimeOnPage=36e5,this._webVitals=[],this._webVitalsSent=!1,this._visibilityChangeOff=this._pageManager.visibilityChange.on((()=>this.logWebVitals()))}init(){Y().then((()=>{const e=window.webVitals,t=this.addWebVital;e.getFID(t),e.getCLS(t),e.getLCP(t),e.getFCP(t),e.getTTFB(t)})).catch((()=>!1)),window.addEventListener("LogWebVital",(e=>{this._webVitals.push(e.detail)})),setTimeout((()=>{this.logWebVitals()}),this._maxTimeOnPage)}addWebVital({name:e,delta:t,value:i,id:s}){const r=new CustomEvent("LogWebVital",{detail:{name:e,delta:t,value:i,id:s}});window.dispatchEvent(r)}logWebVitals(){if(this._webVitalsSent)return;const e={webVitals:this._webVitals,gptLoad:!0};this._webVitalsSent=!0,this._visibilityChangeOff(),this._bootstrapConfig.gptLibFailed&&(e.gptLoad=!1),D.fetchEvent("WebVitalsComponent","logWebVital",e)}get enabled(){return this._bootstrapConfig.webVitalsEnabled}};va=A([Xe("WebVitalsComponent"),P(),O("design:paramtypes",[Dt,Qi])],va);let ba=class extends lt{constructor(e){super(),this._result=!1,this.key="logcls",this._choices=[{choice:!0},{choice:!1}],N()&&(this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new pt(.1).get()}};ba=A([Xe("LayoutShiftExperiment"),I(),O("design:paramtypes",[nt])],ba);let Sa=class extends Bs{constructor(e,t,i,s,r,n){super(),this._gam=e,this._slotManager=t,this._slots=i,this._videoRequestManager=s,this._layoutShiftExperiment=r,this._pageManager=n,this._events=[],this._maxTimeOnPage=36e5,this._screenHeightsWithin=5,this._previousSiblings=3,this._layoutShiftData=[],this._slotResize={},this._loggedInitialLoadShift=!1,this._maxPayloadSize=3062}init(){this.watchSlotShift()}get enabled(){return this._layoutShiftExperiment.result&&"ResizeObserver"in window&&"PerformanceObserver"in window&&PerformanceObserver.supportedEntryTypes.includes("layout-shift")}watchSlotShift(){this.setPerformanceObserver(),this.setResizeEvents(),this.setEventListeners()}setPerformanceObserver(){if(!this._layoutObserver)try{this._layoutObserver=new PerformanceObserver((e=>{this.analyzeEntries(e.getEntries())})),this._layoutObserver.observe({type:"layout-shift",buffered:!1})}catch(e){D.error("LayoutShiftComponent","SetPerformanceObserver",e)}}setResizeEvents(){this._events.push(this._videoRequestManager.requestingSekindoBids.on((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))),this._events.push(this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))}))),this._events.push(this._gam.slotRequested.on((({slot:e})=>{this.setResizeObservers(e.element.id,e.element)}))),this._slotManager.refreshing.once((()=>{this.logLayoutShift()}))}setEventListeners(){this._events.push(this._pageManager.beforeUnload.on((()=>this.logLayoutShift()))),this._events.push(this._pageManager.visibilityChange.on((()=>this.logLayoutShift()))),setTimeout((()=>{this.logLayoutShift()}),this._maxTimeOnPage)}setResizeObservers(e,t){this._slotResize[e]||(this._slotResize[e]={hasResized:!1,resizeObserver:new ResizeObserver((t=>{t.forEach((()=>{this._slotResize[e].hasResized=!0,this._slotResize[e].ro_ts=Date.now(),this._slotResize[e].resizeObserver.disconnect()}))}))},this._slotResize[e].resizeObserver.observe(t))}analyzeEntries(e){const t=Date.now();for(const i of e){const{value:e,sources:s,hadRecentInput:r}=i;if(!r){const i={value:e,po_ts:t,nodes:[]};for(const e of s)if(e.node){const t=this.getIdentifier(e.node),s=t.split(":")[1];i.nodes.push({identifier:t,posDiff:e.currentRect.top-e.previousRect.top,absPos:window.pageYOffset+Number(e.currentRect.top),prevEls:this.getPreviousSibling(e.node,this._previousSiblings),parent:this.getIdentifier(e.node.parentNode),hasResized:this.checkResizes(e.node),...this._slotResize[s]&&this._slotResize[s].ro_ts&&{ro_ts:this._slotResize[s].ro_ts}})}this._layoutShiftData.push(i)}}}getIdentifier(e){return e.id?`id:${e.id}`:e.classList&&e.classList.value?`class:${e.classList.value.split(" ").join(".")}`:`node:${e.nodeName.toLowerCase()}`}getPreviousSibling(e,t=3){let i=e.previousElementSibling,s=0;const r=[];for(;i&&s<t;)++s,r.push(this.getIdentifier(i)),i=i.previousElementSibling;return r}checkResizes(e){const t=this.getIdentifier(e).split(":")[1];return!(!this._slotResize[t]||!this._slotResize[t].hasResized)&&(this.checkIsSticky(t)||this.checkElementPlacement(e))}checkIsSticky(e){const t=this._slots.get(e);return t&&t.isSticky}checkElementPlacement(e){return((e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)||(e=>window.pageYOffset>e.getBoundingClientRect().top+window.pageYOffset)(e))&&((e,t)=>window.pageYOffset-(e.getBoundingClientRect().top+window.pageYOffset)<window.innerHeight+window.innerHeight*t)(e,this._screenHeightsWithin)}logLayoutShift(){this._loggedInitialLoadShift||(this._loggedInitialLoadShift=!0,this.checkAndTrim(this._layoutShiftData).forEach((e=>{D.event("LayoutShiftComponent","logLayoutShift",e)})),this.cleanUp())}checkAndTrim(e=[]){if(!e.length)return[];const t=[...e].sort(((e,t)=>t.value-e.value)),i=JSON.stringify(t);if(i.length>this._maxPayloadSize){if(Math.ceil(i.length/this._maxPayloadSize)<=2)return[t.slice(0,Math.ceil(t.length/2)),t.slice(Math.ceil(t.length/2))];{const e=this._maxPayloadSize/i.length*(Math.ceil(i.length/this._maxPayloadSize)/2),s=t.slice();return s.length=Math.floor(t.length*e),this.checkAndTrim(s)}}return[t]}cleanUp(){this.disconnectObservers(),this.removeEventListeners()}removeEventListeners(){this._events.forEach((e=>{e()}))}disconnectObservers(){this._layoutObserver.disconnect();const e=Object.keys(this._slotResize);for(const t of e)this._slotResize[t].resizeObserver.disconnect()}};Sa=A([Xe("LayoutShiftComponent"),P(),O("design:paramtypes",[Es,on,vs,Bn,ba,Qi])],Sa);let Ca=class{constructor(){this.contentAdded=new R}};Ca=A([Xe("InfiniteScrollEvents"),I()],Ca);let wa=class extends Bs{constructor(e,t){super(),this._config=e,this._events=t,this._ajaxSelector="#ajax-load-more",this._heightThreshold=1e3,this._infiniteScrollElement=null}start(){this.detectInfiniteScroll()}detectInfiniteScroll(){this.checkForCustomConfig();const e=new MutationObserver(((e,t)=>{e.filter((({type:e,addedNodes:t})=>"childList"===e&&t.length>0)).reduce(((e,{addedNodes:t})=>[...e,...Array.prototype.slice.call(t)]),[]).filter((e=>e instanceof HTMLElement&&e.clientHeight>this._heightThreshold)).forEach((e=>{e.parentElement&&(t.disconnect(),t.observe(e.parentElement,{childList:!0}),this._infiniteScrollElement&&t.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}));try{this._events.contentAdded.emit(e)}catch(e){D.error("InfiniteScrollDetectionComponent","addMutationObserver","added",e)}}))}));this._infiniteScrollElement?e.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}):Array.prototype.slice.call(document.querySelectorAll("body *")).filter((e=>e instanceof HTMLElement&&e.offsetHeight>this._heightThreshold)).forEach((t=>{e.observe(t,{childList:!0})}))}checkForCustomConfig(){const{heightThreshold:e,selector:t}=this._config.adOptions.infiniteScrollOptions,i=t?document.querySelector(t):null;if(i)this._infiniteScrollElement=i;else{const e=document.querySelector(this._ajaxSelector);e&&(this._config.infiniteScroll.ajaxType=!0,this._infiniteScrollElement=e)}e&&e>0&&(this._heightThreshold=e)}get enabled(){return this._config.adOptions.infiniteScroll&&"MutationObserver"in window}};wa=A([Xe("InfiniteScrollDetectionComponent"),P(),O("design:paramtypes",[ys,Ca])],wa);let Ea=class extends In{constructor(e,t){super(t),this._config=e,this._adInjectionMap=t,this._count=1}getDynamicElementId(){return`${this._config.gam.prefix}_Infinite_${this._count++}`}};Ea=A([Xe("InfiniteScrollDynamicAdsInjector"),P(),O("design:paramtypes",[ys,An])],Ea);let ka=class extends Bs{constructor(e,t,i,s,r){super(),this._config=e,this._events=t,this._injector=i,this._slotManager=s,this._gam=r,this._page=1}init(){this._events.contentAdded.on((e=>{this._page++,this._config.context.pageviewKey=st(),this._gam.setTargeting({key:"pvk",value:this._config.context.pageviewKey}),this.slotsAlreadyInjectedInElement(e)||this.addSlots(e)})),this._slotManager.added.on((e=>e.forEach((e=>{Es.pushToQueue((()=>{e.setTargeting({key:"inf_scroll",value:this._page.toString()})}))}))))}slotsAlreadyInjectedInElement(e){return!!e.querySelector("[id*='AdThrive_Content']")}addSlots(e){const t=this._config.dynamicAds.filter((e=>!(this._config.infiniteScroll.ajaxType&&"Sidebar"===e.location))).filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((e=>this.forPage(e))),i=this._injector.inject(t,e);this._slotManager.add(i).catch((e=>{D.error("InfiniteScrollDynamicAdsComponent","addSlots",e)}))}get enabled(){return this._config.adOptions.infiniteScroll}forDevice(e,t){return e.devices.includes(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};ka=A([Xe("InfiniteScrollDynamicAdsComponent"),P(),O("design:paramtypes",[ys,Ca,Ea,on,Es])],ka);let xa=class extends Bs{constructor(e,t,i,s){super(),this._config=e,this._events=t,this._slotManager=i,this._slots=s,this._debounce=new z(1e3)}start(){this._observer=this.getIntersectionObserver(),this._events.contentAdded.on((e=>{this._observer&&this._observer.observe(e)}))}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e)t.intersectionRatio>0&&t.isIntersecting&&this._debounce.limit(t.target.id).then((()=>this.refresh())).catch((e=>{D.error("InfiniteScrollRefreshComponent","getIntersectionObserver","refresh",e)}))}),{threshold:[.08]})}refresh(){if(this._config.adOptions.infiniteScrollRefresh){const e=this._slots.get().filter((e=>this._config.infiniteScroll.refreshSlots.has(e.location)&&e.isSticky));this._slotManager.refresh(e).catch((e=>{D.error("InfiniteScrollRefreshComponent","refresh",e)}))}}get enabled(){return this._config.adOptions.infiniteScroll&&"IntersectionObserver"in window}};xa=A([Xe("InfiniteScrollRefreshComponent"),P(),O("design:paramtypes",[ys,Ca,on,vs])],xa);let Ta=class extends Bs{constructor(e){super(),this._googleAdManager=e}init(){this._googleAdManager.slotResponseReceived.on((({slot:e})=>{this.slotResponseReceived(e)}))}slotResponseReceived(e){e.alwaysInView="Footer"===e.location||"Video_StickyOutstream"===e.location}};Ta=A([Xe("AlwaysInViewComponent"),P(),O("design:paramtypes",[Es])],Ta);let Pa=class extends Bs{constructor(e){super(),this._slotManager=e;window.addEventListener("message",(e=>{e&&e.data&&"set_adthrive_slot_timeout"===e.data.message&&e.data.slot_id&&e.data.refresh_interval>=0&&this._slotManager.updateRefreshTimeout(e.data.slot_id,e.data.refresh_interval)}),!1)}};Pa=A([Xe("ChangeSlotRefreshComponent"),P(),O("design:paramtypes",[on])],Pa);let Ia=class extends Bs{constructor(e,t,i){super(),this._slotManager=e,this._slots=t,this._pageManager=i}init(){this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged()))}documentVisibilityChanged(){const e=document.visibilityState,t=this._slots.get();"visible"===e?this._slotManager.resumeRefresh(t):"hidden"===e&&this._slotManager.pauseRefresh(t)}};Ia=A([Xe("DocumentHiddenPauseRefreshComponent"),P(),O("design:paramtypes",[on,vs,Qi])],Ia);let Aa=class extends Bs{constructor(e,t){super(),this._googleAdManager=e,this._slotManager=t,this._inViewPercentage=50}init(){this._googleAdManager.impressionViewable.on((({slot:e})=>{this.processImpressionViewable(e)})),this._googleAdManager.slotVisibilityChanged.on((({slot:e,event:t})=>{this.processVisibilityChanged(e,t)}))}processImpressionViewable(e){e.outOfViewGPT=!1,this._slotManager.inView(e)}processVisibilityChanged(e,t){this.check(e,t.inViewPercentage)}check(e,t){t&&t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewGPT=!1,this._slotManager.inView(e)):(e.outOfViewGPT=!0,this._slotManager.outOfView(e))}};Aa=A([Xe("ImpressionViewableRefreshComponent"),P(),O("design:paramtypes",[Es,on])],Aa);let Ma=class extends Bs{constructor(e,t,i){super(),this._googleAdManager=e,this._slotManager=t,this._slots=i,this._inViewPercentage=50}init(){this._observer=this.getIntersectionObserver(),this._googleAdManager.slotResponseReceived.on((({slot:e})=>{this.slotResponseReceived(e)})),this._googleAdManager.slotRenderEnded.on((({slot:e})=>{this.slotResponseReceived(e)})),this._slotManager.refreshing.on((e=>{this.refreshing(e)}))}get enabled(){return"IntersectionObserver"in window}slotResponseReceived(e){this._observer&&e.element&&this._observer.observe(e.element)}refreshing(e){if(this._observer)for(const t of e)t.element&&this._observer.unobserve(t.element)}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e){const e=this._slots.get(t.target.id);e&&this.check(e,100*t.intersectionRatio)}}),{threshold:[0,this._inViewPercentage/100]})}check(e,t){t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewIO=!1,this._slotManager.inView(e)):(e.outOfViewIO=!0,this._slotManager.outOfView(e))}};Ma=A([Xe("IntersectionObserverRefreshComponent"),P(),O("design:paramtypes",[Es,on,vs])],Ma);let Oa=class extends Bs{constructor(e,t){super(),this._config=e,this._gdprEvents=t,this._comscoreId="20567959",this._gdprEnabled=!1,this._gdprEnabled=this._config.gdpr.enabled}init(){const e=this._config.ccpa.comscoreParams||"0",t={c1:"2",c2:this._comscoreId,...(this._gdprEnabled||this._config.ccpa.required)&&{cs_ucfr:e}};window._comscore=window._comscore||[],window._comscore.push(t);const i="https://sb.scorecardresearch.com";if(!this._gdprEnabled)return de(`${i}/beacon.js`);this._gdprEvents.consentCaptured.on((()=>{de(`${i}/cs/${this._comscoreId}/beacon.js`).catch((()=>{}))}))}get enabled(){return!0}};Oa=A([Xe("ComscoreTrackerComponent"),P(),O("design:paramtypes",[ys,mt])],Oa);let za=class extends Bs{constructor(e,t){super(),this._gam=e,this._config=t,this._trackerHoldoutKey="hawk"}init(){this._gam.slotOnload.legacyOnce().then((()=>this.import())).then((()=>this.syncData())).catch((e=>D.error("HawkeyeTrackerComponent","init","slotOnload",e)))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}async import(){return await de("https://pghub.io/js/pandg-sdk.js",!0)}syncData(){const e={ccpa:this._config.ccpa.privacyString?this._config.ccpa.privacyString:null,bp_id:"cafemedia"};window.Tapad.init(e,{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({}).then((e=>{}))}};za=A([Xe("HawkeyeTrackerComponent"),P(),O("design:paramtypes",[Es,ys])],za);let Ra=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t,this._trackerHoldoutKey="ats"}init(){try{this._gam.slotOnload.once((()=>{this.import()}))}catch(e){D.error("LiveRampAtsTrackerComponent","init",e)}}get enabled(){return this._config.liveRampAts.enabled&&!this._config.disableAds.all&&this._config.tkho.tracker!==this._trackerHoldoutKey}import(){de(this._config.liveRampAts._url).then((()=>window.ats.start(this._config.liveRampAts._config))).catch((()=>{}))}};Ra=A([Xe("LiveRampAtsTrackerComponent"),P(),O("design:paramtypes",[ys,Es])],Ra);let Ba=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t,this.ptk="17c1789b-e660-493b-aa74-3c8fb990dc5f",this.pubid="CAFEMEDIA",this.merkleStorageKey="IXWRAPPERMerkleIp"}init(){window.localStorage.getItem(`${this.merkleStorageKey}`)?this.spoof():this._gam.slotOnload.once((()=>{this.load().then((e=>{e instanceof Error||!Object.keys(e).length||(window.localStorage.setItem(`${this.merkleStorageKey}`,encodeURIComponent(JSON.stringify(e))),this.spoof())})).catch((()=>{}))}))}async load(){const e=`https://mid.rkdms.com/idsv2?ptk=${this.ptk}&pubid=${this.pubid}`;return new Promise(((t,i)=>{const s=new XMLHttpRequest;s.open("get",e),s.withCredentials=!0,s.addEventListener("load",(()=>200!==s.status?i(new Error(`Error status: ${s.status} response: ${s.responseText}`)):t(JSON.parse(s.responseText)))),s.addEventListener("error",(()=>i(new Error("Request failed")))),s.send()}))}spoof(){window.headertag||(window.headertag={getIdentityInfo:()=>{var e;const t=JSON.parse(decodeURIComponent(window.localStorage.getItem("pbjs-unifiedid")||"")),i=JSON.parse(decodeURIComponent(window.localStorage.getItem(`${this.merkleStorageKey}`)||"{}"));return{AdserverOrgIp:{data:{source:"adserver.org",uids:Object.keys(t).map((e=>({id:t[e],ext:{rtiPartner:e}})))},responsePending:!1},MerkleIp:{data:{source:"merkleinc.com",uids:[{id:null===(e=null==i?void 0:i.ppid)||void 0===e?void 0:e.id,ext:{enc:0}}]},responsePending:!1}}}})}get enabled(){return!this._config.gdpr.enabled&&!this._config.ccpa.enabled}};Ba=A([Xe("MerkleTrackerComponent"),P(),O("design:paramtypes",[ys,Es])],Ba);let Da=class extends lt{constructor(){super(),this._result=!1,this.key="NielsenTrackerExperiment",this._choices=[{choice:!0},{choice:!1}],N()&&(this._result=this.run())}get result(){return this._result}run(){return new pt(1/300).get()}};Da=A([Xe("NielsenTrackerExperiment"),P(),O("design:paramtypes",[])],Da);let Va=class extends Bs{constructor(e,t,i){super(),this._config=e,this._nielsenTrackerExperiment=t,this._gam=i}init(){try{this._gam.slotOnload.once((()=>{this.loadImage()}))}catch(e){D.error("NielsenTrackerComponent","init",e)}}get enabled(){return this._nielsenTrackerExperiment.result}loadImage(){const e=this._config.context.device;let t="https://secure-gl.imrworldwide.com/cgi-bin/m?am=3&at=view&rt=banner&st=image&cr=adthrive&ce=cafemedia";let i={phone:"nlsn290957",tablet:"nlsn291137",desktop:"nlsn291136"}[e];const s={phone:"nlsn287186",tablet:"nlsn287188",desktop:"nlsn287187"},r=re();r&&(r.toLowerCase().includes("instagram.com")||r.toLowerCase().includes("pinterest.com"))&&(i=s[e]),t+=`&ci=nlsnci542&ca=${i}&pc=${window.location.host}&r=${Date.now()}`,(new Image).src=`${t}`}};Va=A([Xe("NielsenTrackerComponent"),P(),O("design:paramtypes",[ys,Da,Es])],Va);let La=class extends Bs{constructor(e,t){super(),this._config=e,this._gam=t,this._accountId="2773249",this._adId="81938",this._configId="2092",this._affDomain="goto.target.com",this._targetDomain="www.target.com",this._commonParams="",this._commonPath="",this._trackerHoldoutKey="tgtaff",this._commonParams=Me({subid1:this._config.site.id,subid2:location.href,sharedid:this._config.site.name}),this._commonPath=`${this._accountId}/${this._adId}/${this._configId}`}init(){try{this._gam.slotOnload.once((()=>{this.rewriteAllTargetLinksOnPage()}))}catch(e){D.error("TargetRewriteTrackerComponent","getAllTargetLinksOnPage",e)}}rewriteAllTargetLinksOnPage(){let e=0;Array.prototype.map.call(document.querySelectorAll(`a[href*="${this._targetDomain}"]`),(e=>e)).filter((e=>this.isTargetLink(e))).forEach((t=>{this.fireImpression(t.href),this.replaceTargetLink(t),e++})),e&&D.event("TargetRewriteTrackerComponent","logTargetRewrite",{message:"targetRewrite",countRewrite:e})}fireImpression(e){const t=this.getImpressionPixel(e);return(new Image).src=t}getImpressionPixel(e){let t=`https://${this._affDomain}/i/${this._commonPath}?`;const i=`U1|${this.getUUID()}`;t+=`_ir=${encodeURIComponent(i)}&`+this._commonParams+"&subid3="+encodeURIComponent(e);const s=e.split("?");return s.length>1&&(t+="&"+s[1]),t}getUUID(){return`${Re().toString()}.${Math.random().toString(36).substring(2,15)}`}replaceTargetLink(e){const t=this.removeHashtagsFromUrl(e.href),i=encodeURIComponent(t);e.classList.add("noskimlinks","norewrite"),e.href=`https://${this._affDomain}/c/${this._commonPath}?${this._commonParams}&subid3=${i}&u=${i}#donotlink`}removeHashtagsFromUrl(e){return e.split("#")[0]}isTargetLink(e){const t=this.extractDomain(e.href);return t&&!t.includes(this._affDomain)}extractDomain(e){const t=/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i.exec(e);return t&&t[1]||""}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey&&!this._config.ccpa.enabled&&this._config.adOptions.targetAff}};La=A([P(),O("design:paramtypes",[ys,Es])],La);let Fa=class extends Bs{constructor(e){super(),this._gam=e}init(){try{this._gam.slotOnload.once((()=>{this.loadImage()}))}catch(e){D.error("TheTradeDeskTrackerComponent","init",e)}}get enabled(){return!0}loadImage(){(new Image).src="https://insight.adsrvr.org/track/evnt/?adv=z127r4i&ct=0:p21aj7j&fmt=3"}};Fa=A([Xe("TheTradeDeskTrackerComponent"),P(),O("design:paramtypes",[Es])],Fa);let ja=class{constructor(e,t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,k,x,T,P,I,A,M,O,z,R,B,D,V,L,F,j,N,U,q,H,G,$,W,K,Q,X,Y,J){this._config=e,this._components=[t,i,s,r,n,o,a,l,d,c,h,p,u,g,_,m,y,f,v,b,S,C,w,E,x,T,k,P,I,A,M,O,B,z,R,D,V,L,F,j,N,U,q,H,G,$,W,Q,K,X,Y,J],this._nonCCPAComponents=[y,V,L,$,Q]}init(){const e=this._config.ccpa;this._components.filter((t=>!e.enabled||e.enabled&&!this._nonCCPAComponents.includes(t))).forEach((e=>void 0!==e.init&&e.enabled&&e.init()))}start(){this._components.forEach((e=>void 0!==e.start&&e.enabled&&e.start()))}};ja=A([Xe("Components"),P(),O("design:paramtypes",[ys,gn,_n,Ta,yn,fn,vn,Pa,Qn,bn,Oa,kn,xn,wn,Tn,Ia,On,Kn,zn,Rn,Dn,qn,Hn,Mo,Gn,$n,za,Oo,Aa,wa,ka,xa,Ma,Sa,Ao,Ra,Ro,Ba,Va,Bo,Wo,Ko,Xo,Jo,Io,La,Fa,Zo,cn,ta,ia,fa,va])],ja);Yo(".adthrive-ad{clear:both;line-height:0;margin-bottom:10px;margin-top:10px;overflow-x:visible;text-align:center}.jw-flag-small-player #next-stay-container{margin:0}.jw-flag-small-player #next-video,.jw-flag-small-player #stay-video{height:30px;line-height:30px;width:75px}#next-stay-container{bottom:25%;margin:12px;position:absolute;right:0}.video-box-shadow{box-shadow:0 0 10px rgba(0,0,0,.5)}#next-video,#stay-video{background-color:#333;color:#fff;cursor:pointer;height:40px;line-height:40px;margin:10px;opacity:.9;text-align:center;width:100px}#next-video{box-shadow:inset 0 0 0 0 #333;transition:box-shadow 5s linear}#next-stay-container.loaded #next-video{box-shadow:inset 100px 0 0 0 red}.adthrive-ad-cls{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.adthrive-ad-cls>div,.adthrive-ad-cls>iframe{flex-basis:100%}.adthrive-interstitial{margin-bottom:0;margin-top:0}.adthrive-recipe{min-width:300px}.adthrive-native-recipe{display:inline-block}.adthrive-stuck.adthrive-sticky.adthrive-header,.adthrive-stuck.adthrive-sticky.adthrive-sidebar{position:fixed;top:0;z-index:9999}.adthrive-stuck.adthrive-header{margin-top:0}.adthrive-sticky.adthrive-footer{background-color:hsla(0,0%,100%,.8);border-top:2px solid hsla(0,0%,88%,.8);bottom:0;box-sizing:content-box;left:0;margin:0;max-height:100px;overflow:hidden;position:fixed;text-align:center;width:100%;z-index:99999}.adthrive-sticky.adthrive-footer>.adthrive-close{background:#fff;border:1px solid #b2b2b2;border-radius:20px;color:#b2b2b2;cursor:pointer;display:inline-block;font-family:arial,sans-serif;font-size:20px;line-height:20px;padding:0 5px;position:absolute;right:5px;top:5px}.adthrive-device-desktop .adthrive-sticky.adthrive-footer>.adthrive-close{right:10px;top:10px}#_inv_voicefive___{display:none}.adthrive-ccpa-link,.adthrive-footer-message,.adthrive-privacy-preferences{margin-top:5px;text-align:center}.adthrive-ccpa-link,.adthrive-ccpa-link span,.adthrive-footer-message span,.adthrive-privacy-preferences a{color:#b2b2b2;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:13px}.adthrive-ccpa-link a{cursor:pointer;text-decoration:underline}.adthrive-device-phone .adthrive-footer-message{margin-bottom:60px}.adthrive-footer-message{margin-bottom:100px}.adthrive-footer-message>span{border-top:1px solid #b2b2b2;padding-top:5px;text-transform:uppercase}.adthrive-collapse-player{border-bottom:1px solid #dbdbdb;border-top:1px solid #dbdbdb;margin-left:auto;margin-right:auto;padding:8px!important;width:90%}.adthrive-player-position.adthrive-collapse-float{position:fixed;width:300px;z-index:2147483644}h3.adthrive-player-title{margin:10px 0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-right{right:5px;top:0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-right{bottom:100px;right:5px}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-left{bottom:100px;left:5px}.adthrive-player-position.adthrive-collapse-float>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-sticky{padding-bottom:20px;padding-top:20px;position:fixed;z-index:9999}.adthrive-player-position.adthrive-collapse-sticky>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-mobile{position:fixed;width:300px;z-index:99998}.adthrive-collapse-mobile-background{background-color:#000;left:0;position:fixed;top:0;z-index:99990}.adthrive-top-collapse-close{left:-30px;position:fixed;top:5px;z-index:1}.adthrive-top-collapse-wrapper-bar>* .adthrive-top-collapse-close{left:0;position:relative;top:0}.adthrive-top-collapse-wrapper-bar>* .adthrive-wrapper-float-close{display:none;float:none;margin-bottom:0}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-medium,.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-small{width:272px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-without-wrapper-text{left:50%;padding-bottom:5px;padding-top:5px;top:0;transform:translateX(-50%)}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-with-wrapper-text{padding-bottom:5px;padding-top:5px;right:5px;top:0}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-right{right:10px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-left{left:5px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-left{bottom:52px;left:5px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-right{bottom:52px;right:10px}.adthrive-player-position.adthrive-collapse-mobile>.adthrive-player-title{display:none}.adthrive-sekindo-mobile-center{display:flex;flex-direction:row;justify-content:center;text-align:center}.adthrive-wrapper-close{align-items:center;color:#fff;font-size:36px;height:36px;justify-content:center;margin-left:auto;margin-right:0;min-width:36px}.adthrive-wrapper-float-close{cursor:pointer;display:none;float:right;margin-bottom:5px}.adthrive-wrapper-bar{background-color:#595959;border-top-left-radius:5px;border-top-right-radius:5px;display:none;font-family:Arial,Helvetica,sans-serif;height:36px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-wrapper-bar{display:none!important}.adthrive-top-collapse-wrapper-bar{color:#fff;display:none;left:5px;padding-bottom:5px;padding-top:5px;position:fixed;top:0;width:-webkit-calc(100% - 282px);width:-moz-calc(100% - 282px);width:calc(100% - 282px);z-index:99998}.adthrive-top-collapse-wrapper-video-title{-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:13px;font-weight:700;line-height:1.2;overflow:hidden;text-decoration:none;text-overflow:ellipsis}.adthrive-top-collapse-wrapper-bar a a.adthrive-learn-more-link{color:#fff;display:inline-block;font-size:13px;line-height:1.2}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-top-collapse-wrapper-bar{display:block}.adthrive-video-title{color:#fff;font-size:13px;font-weight:700;text-decoration:none}.adthrive-wrapper-title-wrapper{align-items:center;display:inline-flex;justify-content:center;margin-left:10px;margin-right:10px;min-width:0}.adthrive-video-text-cutoff{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adthrive-wrapper-title-wrapper>a>svg,.adthrive-wrapper-title-wrapper>div>svg{fill:#fff;margin-right:5px;vertical-align:middle}.adthrive-wrapper-title-wrapper>a{text-decoration:none}.adthrive-sticky-outstream{display:none;overflow:hidden;padding-top:20px;position:fixed;z-index:2147483644}.adthrive-instream-close{pointer-events:all}.adthrive-instream-close.adthrive-float-left{float:left}.adthrive-top-left-outer{height:78px;left:-30px;position:absolute;top:-55px;width:78px}.adthrive-top-left-outer>svg{bottom:30px;left:30px;position:absolute}.adthrive-top-left-inner{position:absolute;top:0}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close,.adthrive-top-left-inner.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;width:100%;z-index:99}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close{position:absolute;top:36px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close{position:absolute;right:1px;top:32px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-outside-left{left:2px}.adthrive-wrapper-close-bkgd-50>#adthrive-sticky-outstream-close{padding:2px 0 0 2px;pointer-events:all}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{background:rgba(0,0,0,.5);color:#fff;left:0;padding:2px;pointer-events:none;top:52px}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile{bottom:52px;right:10px}.adthrive-sticky-outstream.adthrive-sticky-outstream-desktop{bottom:100px;right:5px}.adthrive-sticky-outstream.adthrive-sticky-outstream-active{display:block}.adthrive-video-stickyoutstream div:first-of-type{margin:-1px}");let Na=class{constructor(e){const{coreExperiments:t}=e.core;this._validExperiments=this._getValidExperiments(t),this.coreExperiments=this._validExperiments.map((({variants:e,abgroup:t})=>({variants:e,abgroup:t})))}getCoreExperiment(e){return this._validExperiments.find((({abgroup:t})=>t===e))}_getValidExperiments(e=[]){return e.filter((({type:e,variants:t,key:i})=>"weightedChoice"===e?this._isValidWeightedChoice(t,i):"bernoulliTrial"===e&&this._isValidBernoulliTrial(t,i)))}_isValidWeightedChoice(e,t){const i=(e=>{let t=0;return e.forEach((e=>{e.weight&&(t+=e.weight)})),e.length>0&&e.every((e=>!(!e.hasOwnProperty("value")||!e.hasOwnProperty("weight"))))&&100===t})(e);return i||this._invalidExperiment(t),i}_isValidBernoulliTrial(e,t){const i=1===e.length;return i||this._invalidExperiment(t),i}_invalidExperiment(e){D.error("CoreExperimentConfig","_invalidExperiment","Experiment Validation failed for key: ",e)}};Na=A([I(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Na);let Ua=class{constructor(e,t,i,s,r,n,o,a,l){this.config=e,this.cmd=t,this.slotManager=i,this.slots=s,this._auctionManagers=r,this._coreExperimentConfig=n,this._googleAdManager=o,this._components=a,this._googleAnalytics=l,this.marmalade={mcmp:null},this.marmaladeFinished=e=>e,this.rubiconFloorsFinished=e=>e,this._apiReady=new Promise((e=>e(!1))),this.bucket=this.config.context.bucket,this.branch=this.config.context.branch,this.invalidTraffic=this.config.context.invalidTraffic,this.deployment=this.config.context.deployment,this.abgroup=this.config.abGroup.groups,this.siteAds=window.adthrive.siteAds,this.coreExperiments=this._coreExperimentConfig.coreExperiments,this.siteAds.targeting={push:this._googleAdManager.setTargeting}}init(){this._apiReady=new Promise((e=>this.config.identityApi.apiReady.on((()=>e(!0))))),D.sending.on((()=>{D.data={abgroup:this.config.abGroup.groupsAsObject,sess:this.config.context.sessionKey,pvk:this.config.context.pageviewKey,hbho:this.config.hbho.bidders,vbho:this.config.vbho.bidders,...this.config.context.deliveryVersion&&{lmdv:this.config.context.deliveryVersion},...this.config.clsOptions&&this.config.clsOptions.branch&&{clsBranch:this.config.clsOptions.branch},...this.config.clsOptions&&this.config.clsOptions.bucket&&{clsBucket:this.config.clsOptions.bucket}}})),se("session_fpv",null===ie("session_fpv")),this.cmd.init(),this._auctionManagers.init(),this._googleAdManager.init(),this._components.init(),this._googleAdManager.start(),this._components.start(),this._googleAnalytics.init().catch((e=>{D.error("Adthrive","init","An error occurred while trying to initialize GoogleAnalytics",e)}))}identityApi(e,t){return this._apiReady.then((()=>{this.config.identityApi.optIn.emit({data:e,cb:t})}))}disableAds(e){this.config.disableAds.disableAllAds(e)}disableContentAds(e){this.config.disableAds.disableContentAds(e)}disablePlaylistPlayers(e){this.config.disableAds.disablePlaylistPlayers(e)}showPrivacyPreferences(){window.__tcfapi&&window.__tcfapi("showConsentManager",2)}getConsentData(){window.__tcfapi&&window.__tcfapi("getFullTCData",2,(e=>{}))}getAdthriveFlippData(){return this.config.marmalade.flpProdIds.filter(ee)}setTargetingFlag(e,t,i=!1){e&&"string"==typeof e&&t&&Array.isArray(t)&&0!==t.length&&this._googleAdManager.setTargetingFlag(e,t,i)}setTargeting(e){this._googleAdManager.setTargeting(e)}getTargeting(){return this._googleAdManager.getTargeting()}getTargetingMap(){return this._googleAdManager.getTargetingMap()}logError(e,t,i){D.error(e,t,i)}refreshSlots(e){let t=this.slots.get();e&&e.length&&(t=t.filter((t=>e.includes(t.id)))),t.forEach((e=>{this.slotManager.refresh(e,!1).then((()=>{this.slotManager.clearRefreshTimeout(e,!0)})).catch((()=>{}))}))}nmr(){return D.event("adthive","nmr","adthrive.nmr() has been called"),this.slotManager.updateRefreshTimeout(this.slots.get(),0)}};Ua=A([Xe("AdThrive"),I(),O("design:paramtypes",[ys,nn,on,vs,rn,Na,Es,ja,vt])],Ua);const qa={domain:"ads.adthrive.com",branch:"master",bucket:"prod",cmp:!0},Ha=()=>navigator.userAgent&&(navigator.userAgent.search(/GTmetrix/i)>-1||navigator.userAgent.search(/pingdom/i)>-1||navigator.userAgent.search(/Google Page Speed Insights/i)>-1||navigator.userAgent.search(/Chrome-Lighthouse/i)>-1);let Ga=class extends lt{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:500,weight:70},{choice:300,weight:10},{choice:200,weight:10},{choice:50,weight:10}],this.key="deftimer2",this._result=this.run(),this._setAbGroup&&e.set(this.key,0===this._result?"off":String(this._result))}get result(){return this._result}run(){return Ha()?(this._setAbGroup=!1,0):new ut(this._choices).get()}};A([Ye(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Ga.prototype,"run",null),Ga=A([Xe("DelayLoadingExperiment"),I(),O("design:paramtypes",[nt])],Ga);let $a=class extends lt{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:!0},{choice:!1}],this.key="delload",this._result=this.run(),this._setAbGroup&&e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return Ha()?(this._setAbGroup=!1,!0):new pt(.95).get()}};$a=A([Xe("EnableDelayLoadingExperiment"),I(),O("design:paramtypes",[nt])],$a);let Wa=class extends lt{constructor(){super(),this.classList=["EmailCaptureHandler"],this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="logfltr",this._result=this.run()}get result(){return this._result}run(){return new pt(0).get()}};Wa=A([Xe("LoggerFilterExperiment"),I(),O("design:paramtypes",[])],Wa);let Ka=class{init(e){if(!(void 0!==window.__tcfapi&&"function"==typeof window.__tcfapi))return;let t=!1;window.__tcfapi("adthrive",2,(e=>t=e)),t&&("true"===e?window.__tcfapi("setGdprApplies",2,(e=>e),!0):(this.clearQueue(),this.stubCommands()))}processTcfCommand(e){const{command:t,callback:i}=e;!i||i&&"function"!=typeof i||("ping"===t||"getTCData"===t||"addEventListener"===t?i({apiVersion:"2",cmpLoaded:!0,cmpStatus:"loaded",cmpId:void 0,cmpVersion:void 0,displayStatus:"disabled",gdprApplies:!1,tcfPolicyVersion:void 0,gvlVersion:void 0},!0):"removeEventListener"===t&&i(!0))}clearQueue(){const e=window.__tcfapi();e&&Array.isArray(e)&&e.forEach((e=>this.processTcfCommand(e)))}stubCommands(){window.__tcfapi=(e,t,i,s)=>{this.processTcfCommand({command:e,version:t,callback:i,parameter:s})}}};Ka=A([Xe("StubCmp"),I()],Ka);const Qa=x.resolve(Xi),Xa=(e,t,i,s,r,n)=>{const o=ke();return x.register("RecencyFrequencyMarmaladeResponse",{useValue:s.result}),window.adthrive=x.resolve(Ua),((e,t,i,s,r,n,o)=>{Qa.loading=e,Qa.bootstrapFinished=t,Qa.amazonStarted=i.started,Qa.amazonFinished=i.finished,Qa.amazonDuration=i.duration,Qa.gamStarted=s.started,Qa.gamFinished=s.finished,Qa.gamDuration=s.duration,Qa.marmaladeStarted=r.started,Qa.marmaladeFinished=r.finished,Qa.marmaladeDuration=r.duration,Qa.floorsStarted=n.started,Qa.floorsFinished=n.finished,Qa.floorsDuration=n.duration,Qa.webVitalsStarted=o.started,Qa.webVitalsFinished=o.finished,Qa.webVitalsDuration=o.duration})(e,o,t,i,s,r,n),window.adthrive.init()},Ya=async e=>{var t;const i=ke(),s=window.adthrive.branch,r=s===(null===(t=ie("branch"))||void 0===t?void 0:t.branch);se("branch",{branch:s,enabled:r}),D.init(e),x.register("Build",{useValue:qa}),x.register("AdThrive",{useValue:e}),x.resolve(Ps);const n=x.resolve(Yt);return await n.run().then((({amazon:e,gam:t,marmalade:s,floors:r,webvitals:n})=>Xa(i,e,t,s,r,n))).catch((e=>(e=>{const t=e.marmalade,i=e.message||e;t&&Object.prototype.hasOwnProperty.call(t,"result")&&(x.register("RecencyFrequencyMarmaladeResponse",{useValue:t.result}),x.resolve(Sa).init());return x.resolve(va).init(),Promise.reject(i)})(e)))},Ja=e=>{let t;if((!0===e.siteAds.adOptions.delayLoading?x.resolve($a):{result:!1}).result){const e=(e=>{const t=x.resolve(Qi).setupOnceEventWithPromise,i=[t("scroll"),t("mousemove"),t("keyup")];be()||i.push(t("touchstart"));const s=[t("load").then((()=>Q(e)))];return 0===e?i:s.concat(i)})(x.resolve(Ga).result);t=Promise.race(e)}else t=Promise.resolve();return t},Za=()=>{const e=window.adthrive;(()=>{const e=window.adthrive.siteAds,t=window.adthriveCLS,i=t&&t.siteAds;i&&We(i)&&(e.adUnits=i.adUnits,e.video=i.video,e.videoPlayers=i.videoPlayers,e.breakpoints=i.breakpoints,e.siteExperiments=i.siteExperiments)})();const t=(({gdpr:e,baseUrl:t})=>"true"===e?`${t}/gdpr`:t)(e),i=(()=>{const e=[fe(),_e(),ye(),me(),ve()].filter((e=>!!e));return e.length?e:void 0})(),s=(e=>0===e.indexOf("hbs-q"))(e.bucket),r=i||s?"unsupported":e.bucket,n=x.resolve(Wa),o=n.result?[]:n.classList,a={...e,bucket:r,baseUrl:t,invalidTraffic:i,loggerFilters:o};ke();x.resolve(Ka).init(a.gdpr),Ja(a).then((()=>Ya(a))).then((()=>{})).catch((e=>{D.error("index","load",e)}))};return(e=>e instanceof Ua||e instanceof Promise)(window.adthrive)||Za(),window.adthrive}();
;